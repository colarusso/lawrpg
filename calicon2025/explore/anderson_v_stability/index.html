<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"> 
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
<title>Andersen v. Stability AI</title>
<script>

localStorage.setItem('templates',JSON.stringify({
  "Distill & Question": {
    "prompt": "{\"next\":\"Distill\"}",
    "model": "gpt-4o-mini",
    "temperature": 0.7,
    "max_tokens": 250,
    "output": 0,
    "json_mode": 1,
    "output_to": 4,
    "behavior": "Case Texts",
    "hide_button": false
  },
  "Go Socrates": {
    "prompt": "{\"next\":\"Socrates\"}",
    "model": "gpt-4o-mini",
    "temperature": 0.7,
    "max_tokens": 250,
    "output": 0,
    "json_mode": 1,
    "output_to": 4,
    "behavior": "Case Texts",
    "hide_button": false
  },
  "Moot the Case": {
    "prompt": "{\"next\":\"Moot\"}",
    "model": "gpt-4o-mini",
    "temperature": 0.7,
    "max_tokens": 250,
    "output": 0,
    "json_mode": 1,
    "output_to": 4,
    "behavior": "Case Texts",
    "hide_button": false
  },
  "Weekly Reflection": {
    "prompt": "You are a teaching assistant helping a student look back at their work this week. Be sure to get four big pieces of information. \n\n1. What they worked on this week, including any assigned readings.\n2. What about their process worked for them.\n3. What about their process didn't work for them. \n4. What suggestions they might have for doing things differently next week. \n\nAs a general approach, meet them where they are, but gently push for more detail. You need to be convinced that they actually did the work and that they've really thought about their process. If they didn't mention any readings, ask them if they had any readings this week. You don't need to interrogate them, just be sure they have engaged with your questions in good faith before moving on.\n\nDon't ask all your questions at once, let them come up in conversation. \n",
    "model": "gpt-4o-mini",
    "temperature": 0.7,
    "max_tokens": 500,
    "output": 1,
    "json_mode": 0,
    "output_to": 0,
    "behavior": "chat",
    "hide_button": false
  },
  "Distill": {
    "prompt": "You are a helpful research assistant. Your job is to answer questions about an ongoing legal case based solely on the documents provided below (i.e., the initial complaint from a plaintiff and motion to dismiss from the defendant). You're first task is to take these documents and provide a short 150-word summary. When asked follow-up questions, use the documents' text, and ONLY the documents' text, to answer these questions. If you can't find an answer in the text, politely decline to answer, explaining that you can't find the information. Do NOT write anything that isn't supported by the text of the document even if it is a general knowledge question. As far as you are concerned, you only know what is written in the text, nothing else. Provide internal citations to relevant sections when possible. Keep all of your replies short! But first, please provide a summary of the text.\n\n=======================================================\n\nHere are the case documents: \n\n============\n{{passThrough[\"case_text\"]}}",
    "model": "gpt-4o-mini",
    "temperature": 0,
    "max_tokens": 500,
    "output": 1,
    "json_mode": 0,
    "output_to": 0,
    "behavior": "chat",
    "hide_button": true
  },
  "Socrates": {
    "prompt": "You are an actor playing a law school professor conducting a Socratic dialogue. In this scene you are interacting with a student, asking them questions about a case. Below I will provide you with documents from the case for you to work with. Your job is to stay in character and act out your part. You are aiming for a realistic performance. To help you get into character, here is some background information.\n\nBACKGROUND\n\nYou're character is very similar in demeanor to Professor Charles W. Kingsfield Jr. in the Paper Chase. You are hard but fair, and see your role in class as that of Socrates. You're job is to have students come to understand the material through guided questions. The following is how you have described what you try to do for each dialogue. \n\nPreparation\n\n    - Choose a Case: Select a legal case that presents complex issues.\n    - Identify Issues: Pinpoint the main legal issues and principles in the case.\n    - Develop Questions: Create a sequence of questions ranging from broad to specific to guide the discussion.\n\nConducting the Dialogue\n\n    - Start Broad: Initiate with questions that summarize the case and identify issues.\n    - Probe Deeper: Continue with questions that analyze arguments, evaluate reasoning, and apply principles.\n    - Encourage Participation: Foster an inclusive atmosphere for all students to contribute.\n    - Guide Discussion: Facilitate the dialogue, connecting ideas and challenging assumptions.\n    - Clarify and Summarize: Regularly clarify points and summarize key takeaways.\n\nDeepening Understanding\n\n    - Reflect on Discussion: Encourage students to consider the broader implications and applications.\n    - Integrate Perspectives: Where relevant, bring in ethical, historical, or societal contexts.\n    - Provide Feedback: Offer constructive feedback on students' analyses.\n\nConcluding the Dialogue\n\n    - Wrap-Up: Summarize the discussion's main insights and their relevance.\n    - Connect Themes: Link the dialogue to overarching course themes.\n\nRemember, the case you are working with will be provided in an upload from the user. \n\nDIRECTION\n\nBe sure to keep your questions and responses short. You \"speak in sentences not paragraphs.\" Short and conversational, no speechifying!\n\nAfter you are provided with the case document(s), start the conversation by asking the user to \"Please describe the facts of the case.\"\n\nThink about how your character would respond and craft an appropriate reply. Remember, you are a law professor conducting a Socratic dialogue. Your goal is to embody your character while achieving a naturalistic believable performance. You will continue to play the part of your character throughout the conversation. Whatever happens, do NOT break character! \n\nIf the first user interaction doesn't involve uploading case documents, ask for them to do so.\n\n=======================================================\n\nHere are the case documents: \n\n============\n{{passThrough[\"case_text\"]}}",
    "model": "gpt-4o-mini",
    "temperature": 0.7,
    "max_tokens": 500,
    "output": 1,
    "json_mode": 0,
    "output_to": 0,
    "behavior": "chat",
    "hide_button": true
  },
  "Moot": {
    "prompt": "You are an actor serving as a judge in a moot court. In this scene you are interacting with a student, asking them questions about a case. Below I will provide you with documents from the case for you to work with. Your job is to stay in character and act out your part. You are aiming for a realistic performance. To help you get into character, here is some background information.\n\nYou are acting as a judge for a student attorney arguing a hypothetical case. A set of court documents that describe the case are provided below. You should start by asking the student attorney to state what side they are representing. Then lead right into questioning them about the merits of their case. \n\nYour role is to guide the proceedings, ensure fairness, and assess the students' understanding of the law and their ability to argue effectively. Here’s a short set of instructions to help you:\n\n1. Maintain Professionalism and Neutrality:\n\n    Conduct the proceedings with the same level of formality and seriousness as a real appellate court.\n    Remain impartial and do not show bias toward either side.\n\n2. Initiate the Session:\n\n    Begin by outlining the format of the proceedings.\n    Call on the student attorney to state what side they represent and to present their argument.\n\n3. Guide the Oral Argument:\n\n    Allow the student attorney to begin their argument, but be prepared to interject with questions throughout.\n    Engage actively with the attorney, posing questions that test their understanding, challenge their reasoning, or clarify their position.\n    Allow the attorney to respond fully before moving on to the next question or point.\n\n4. Ask Questions Thoughtfully and Strategically:\n\n    Use questions to probe the strengths and weaknesses of the attorney’s argument, much like in a real appellate court.\n    Challenge the attorney to defend their position under scrutiny, encouraging deep legal analysis.\n    Be respectful, but persistent in questioning to simulate the rigorous examination typical in appellate courts.\n\n5. Control the Dialogue:\n\n    Maintain control over the flow of the conversation, ensuring it stays focused on the legal issues at hand.\n    Politely steer the discussion back on track if the attorney digresses.\n\n6. Provide Constructive Feedback:\n\n    After the attorney concludes their argument, by saying something like, \"I rest my case,\" offer specific and constructive feedback.\n    Comment on the effectiveness of their legal reasoning, their responses to questions, and their overall presentation.\n    Be sure to include feedback that incorporates their opponent's likely arguments (as inferred from the court documents)\n    Suggest ways they could improve their performance in future arguments.\n\n7. Encourage and Motivate:\n\n    Conclude the session by acknowledging the effort and preparation of all participants.\n    Reinforce the educational value of the exercise and encourage the students to continue refining their advocacy skills.\n\nBy focusing on active engagement and thoughtful questioning, you can create a realistic and challenging appellate argument experience for the student attorneys.\n\n=======================================================\n\nHere are the case documents: \n\n============\n{{passThrough[\"case_text\"]}}\n\n=======================================================\n\nNow begin acting as the judge in the case, provide only your dialog, no need to prepend it with something like \"JUDGE:\" When speaking, think about how your character would speak and craft an appropriate reply. Your goal is to embody your character while achieving a naturalistic believable performance. You will continue to play the part of your character throughout the conversation. Whatever happens, do NOT break character! \n",
    "model": "gpt-4o-mini",
    "temperature": 0.7,
    "max_tokens": 500,
    "output": 1,
    "json_mode": 0,
    "output_to": 0,
    "behavior": "chat",
    "hide_button": true
  },
  "Case Texts": {
    "prompt": "[#You'll need to escape the case text before including it below. See https://www.freeformatter.com/json-escape.html#]{\n\"next\":\"{{passThrough[\"next\"]}}\",\n\"case_text\":\"Joseph R. Saveri (State Bar No. 130064)\\r\\nCadio Zirpoli (State Bar No. 179108)\\r\\nChristopher K.L. Young (State Bar No. 318371)\\r\\nElissa A. Buchanan (State Bar No. 249996)\\r\\nTravis Manfredi (State Bar No. 281779)\\r\\nJOSEPH SAVERI LAW FIRM, LLP\\r\\n601 California Street, Suite 1000\\r\\nSan Francisco, California 94108\\r\\nTelephone: (415) 500-6800\\r\\nFacsimile: (415) 395-9940\\r\\nEmail: jsaveri@saverilawfirm.com\\r\\nczirpoli@saverilawfirm.com\\r\\ncyoung@saverilawfirm.com\\r\\neabuchanan@saverilawfirm.com\\r\\ntmanfredi@saverilawfirm.com\\r\\nMatthew Butterick (State Bar No. 250953)\\r\\n1920 Hillhurst Avenue, #406\\r\\nLos Angeles, CA 90027\\r\\nTelephone: (323) 968-2632\\r\\nFacsimile: (415) 395-9940\\r\\nEmail: mb@buttericklaw.com\\r\\nCounsel for Individual and Representative\\r\\nPlaintiffs Sarah Andersen, Kelly McKernan,\\r\\nKarla Ortiz, and the Proposed Class\\r\\n[Additional Counsel Listed on Signature Page]\\r\\nUNITED STATES DISTRICT COURT\\r\\nNORTHERN DISTRICT OF CALIFORNIA\\r\\nSAN FRANCISCO DIVISION\\r\\nSARAH ANDERSEN, an individual;\\r\\nKELLY MCKERNAN, an individual;\\r\\nKARLA ORTIZ, an individual,\\r\\nIndividual and Representative Plaintiffs,\\r\\nv.\\r\\nSTABILITY AI LTD., a UK corporation;\\r\\nSTABILITY AI, INC., a Delaware\\r\\ncorporation; MIDJOURNEY, INC., a\\r\\nDelaware corporation; DEVIANTART, INC.,\\r\\na Delaware corporation,\\r\\nDefendants.\\r\\nCase No.\\r\\nCOMPLAINT\\r\\nCLASS ACTION\\r\\nDEMAND FOR JURY TRIAL\\r\\nTABLE OF CONTENTS\\r\\nI. AI IMAGE GENERATORS ARE 21ST-CENTURY COLLAGE TOOLS THAT\\r\\nVIOLATE THE RIGHTS OF MILLIONS OF ARTISTS .................................... 1\\r\\nII. JURISDICTION AND VENUE ........................................................................... 2\\r\\nIII. INTRADISTRICT ASSIGNMENT .................................................................... 3\\r\\nIV. DEFINITIONS ..................................................................................................... 3\\r\\nV. PARTIES ............................................................................................................... 6\\r\\nVI. AGENTS AND CO-CONSPIRATORS ............................................................... 8\\r\\nVII. CLASS ALLEGATIONS ...................................................................................... 9\\r\\nA. Class Definitions........................................................................................ 9\\r\\nB. Numerosity................................................................................................ 9\\r\\nC. Typicality..................................................................................................10\\r\\nD. Commonality & Predominance .................................................................10\\r\\nE. Adequacy .................................................................................................. 11\\r\\nF. Other Class Considerations ...................................................................... 12\\r\\nVIII. FACTUAL ALLEGATIONS ............................................................................... 12\\r\\nA. Stability AI................................................................................................ 12\\r\\nB. Midjourney ............................................................................................... 14\\r\\nC. DeviantArt................................................................................................ 14\\r\\nD. How Stable Diffusion Works: A 21st-Century Collage Tool ..................... 14\\r\\nE. The source of the Stable Diffusion training data: LAION ........................ 22\\r\\nF. DeviantArt\\u2019s betrayal of its artist community by embracing generative AI\\r\\nimages...................................................................................................... 24\\r\\nG. Midjourney: the 21st-century collage tool (in)famous for its artistic style 27\\r\\nIX. CLAIMS FOR RELIEF....................................................................................... 30\\r\\nXI. JURY TRIAL DEMANDED .............................................................................. 43\\r\\nPlaintiffs Sarah Andersen, Kelly McKernan, and Karla Ortiz (\\u201CPlaintiffs\\u201D), on behalf of\\r\\nthemselves and all others similarly situated, bring this Class Action Complaint (the\\r\\n\\u201CComplaint\\u201D) against Defendants Stability AI Ltd. and Stability AI, Inc. (collectively\\r\\n\\u201CStability\\u201D); Midjourney, Inc. (\\u201CMidjourney\\u201D); and DeviantArt, Inc. (\\u201CDeviantArt\\u201D) (all\\r\\ncollectively \\u201CDefendants\\u201D) for direct and vicarious copyright infringement under 17 U.S.C.\\r\\n\\u00A7 501; violation of the Digital Millennium Copyright Act, 17 U.S.C. \\u00A7\\u00A7 1201\\u20131205 (the\\r\\n\\u201CDMCA\\u201D); violation of Plaintiffs\\u2019 statutory and common law rights of publicity, Cal. Civ. Code\\r\\nsection 3344; violation of Unfair Competition law, Cal. Bus. & Prof. Code \\u00A7\\u00A7 17200, et seq.; and\\r\\ndeclaratory relief.\\r\\nI. AI IMAGE GENERATORS ARE 21ST-CENTURY COLLAGE TOOLS\\r\\nTHAT VIOLATE THE RIGHTS OF MILLIONS OF ARTISTS\\r\\n1. Stable Diffusion is a software product\\u2014defined below as an AI Image Product\\u2014\\r\\nmaintained and sold by Stability.\\r\\n2. Stability downloaded or otherwise acquired copies of billions of copyrighted\\r\\nimages without permission to create Stable Diffusion, including Plaintiffs\\u2019. These images are\\r\\ndefined below as \\u201CTraining Images.\\u201D\\r\\n3. By training Stable Diffusion on the Training Images, Stability caused those images\\r\\nto be stored at and incorporated into Stable Diffusion as compressed copies. Stability made them\\r\\nwithout the consent of the artists and without compensating any of those artists.\\r\\n4. When used to produce images from prompts by its users, Stable Diffusion uses the\\r\\nTraining Images to produce seemingly new images through a mathematical software process.\\r\\nThese \\u201Cnew\\u201D images are based entirely on the Training Images and are derivative works of the\\r\\nparticular images Stable Diffusion draws from when assembling a given output. Ultimately, it is\\r\\nmerely a complex collage tool.\\r\\n5. These resulting derived images compete in the marketplace with the original\\r\\nimages. Until now, when a purchaser seeks a new image \\u201Cin the style\\u201D of a given artist, they must\\r\\npay to commission or license an original image from that artist. Now, those purchasers can use\\r\\nthe artist\\u2019s works contained in Stable Diffusion along with the artist\\u2019s name to generate new\\r\\nworks in the artist\\u2019s style without compensating the artist at all. As used herein, the phrase \\u201Cin\\r\\nthe style of,\\u201D refers to a work that others would accept as a work created by that artist whose\\r\\n\\u201Cstyle\\u201D was called upon, not the general category of work, such as fantasy or impressionism. Only\\r\\na very small number of incredibly talented artists are capable of this same feat for a single other\\r\\nartist (i.e., reproducing art that is convincingly in that artist\\u2019s style), let alone for countless other\\r\\nartists. AI Image Products do so with ease by violating the rights of millions of artists.\\r\\n6. All AI Image Products operate in substantially the same way and store and\\r\\nincorporate countless copyrighted images as Training Images.\\r\\n7. Defendants, by and through the use of their AI Image Products, benefit\\r\\ncommercially and profit richly from the use of copyrighted images.\\r\\n8. The harm to artists is not hypothetical\\u2014works generated by AI Image Products\\r\\n\\u201Cin the style\\u201D of a particular artist are already sold on the internet, siphoning commissions from\\r\\nthe artists themselves.\\r\\n9. Plaintiffs and the Class seek to end this blatant and enormous infringement of their\\r\\nrights before their professions are eliminated by a computer program powered entirely by their\\r\\nhard work.\\r\\nII. JURISDICTION AND VENUE\\r\\n10. Plaintiffs bring this action on their own behalf and as representatives of a Class of\\r\\nsimilarly situated individuals and entities. They seek to obtain injunctive relief and recover\\r\\ndamages as a result and consequence of Defendants\\u2019 unlawful conduct.\\r\\n11. Jurisdiction and venue are proper in this judicial district pursuant to Defendants\\u2019\\r\\nunauthorized use of Plaintiffs\\u2019 and the Class\\u2019s intellectual property in violation of the Copyright\\r\\nAct, 17 U.S.C. \\u00A7 501, the Digital Millennium Copyright Act, 17 U.S.C. \\u00A7\\u00A7 1201\\u20131205 (the\\r\\n\\u201CDMCA\\u201D); Unjust Enrichment, and Unfair Competition; California\\u2019s right of publicity,\\r\\ncontract, negligence, privacy, and unfair competition statutes and case law.\\r\\n12. A substantial part of the events giving rise to Plaintiffs\\u2019 claims occurred in this\\r\\nDistrict.\\r\\n13. Defendant Midjourney is headquartered in San Francisco. Plaintiff Karla Ortiz\\r\\nresides in San Francisco, California, a substantial portion of the affected interstate trade and\\r\\ncommerce was carried out in this District, and the Defendants are licensed to do business in this\\r\\nDistrict.\\r\\n14. Each Defendant has transacted business, maintained substantial contacts, and\\/or\\r\\ncommitted illegal acts that harmed Plaintiffs and the Class throughout the United States,\\r\\nincluding in this District. Defendants\\u2019 conduct has had the intended and foreseeable effect of\\r\\ncausing injury to persons residing in, located in, or doing business throughout the United States,\\r\\nincluding in this District.\\r\\nIII. INTRADISTRICT ASSIGNMENT\\r\\n15. Pursuant to Civil Local Rule 3.2 (c) and (e), assignment of this case to the San\\r\\nFrancisco Division of the United States District Court for the Northern District of California is\\r\\nproper because Plaintiff Karla Ortiz and a large portion of the Class reside in this District. In\\r\\naddition, a substantial amount of the development of the Stable Diffusion product as well as of\\r\\nthe interstate trade and commerce involved and affected by Defendants\\u2019 conduct giving rise to\\r\\nthe claims herein occurred in this Division.\\r\\nIV. DEFINITIONS\\r\\n16. \\u201CAI Image Product\\u201D refers to the allegedly AI-based image generation products that\\r\\nwere created, maintained, marketed, sold, and\\/or distributed by Defendants, namely Stable\\r\\nDiffusion, the Midjourney Product, DreamStudio, and DreamUp.\\r\\n17. \\u201CArtificial Intelligence\\u201D or \\u201CAI.\\u201D AI is a software program that algorithmically\\r\\nsimulates human reasoning or inference, often using statistical or mathematical methods.\\r\\n18. \\u201CDerivative Work\\u201D as used herein refers to the output of AI Image Products as\\r\\nwell as the AI Image Products themselves\\u2014which contain compressed copies of the copyrighted\\r\\nworks they were trained on.\\r\\n19. \\u201CDiffusion\\u201D is a specific machine-learning application that results in a model that\\r\\nstores a compressed copy of each item in the training dataset. A more detailed description of\\r\\ndiffusion appears below. Stable Diffusion is an AI software program that includes a diffusion\\r\\nmodel.\\r\\n20. \\u201CGenerative AI\\u201D is a subset of machine learning where the program copies training\\r\\ndata and uses it to produce derivative works of that training data. Stable Diffusion is an example\\r\\nof a generative AI system, because it is trained using copied images, and produces similar images.\\r\\nOther generative AI systems exist that produce conversational text, software code, and music, in\\r\\neach case similar to the respective training data.\\r\\n21. \\u201CMachine Learning\\u201D or \\u201CML\\u201D is a type of AI process in which the behavior of the\\r\\nsoftware program is derived from copying a corpus of material called training data. In this\\r\\ncontext, the term \\u201Clearning\\u201D is metaphorical. The process bears very little similarity to human\\r\\nlearning. In this context, it denotes a technique for developing a software program through\\r\\nmassive data input and statistical operations, calculations, and linear algebra, rather than line-by-\\r\\nline coding using a programming language. Machine-learning programs can find patterns or make\\r\\ncalculations based on datasets or training data. The operator of the algorithm is sometimes called\\r\\na \\u201Ctrainer.\\u201D Machine learning will be referred to as \\u201CAI\\u201D unless further distinction is necessary.\\r\\nStable Diffusion, the Midjourney Product, DreamStudio, and DreamUp all include both AI\\r\\nprograms and ML programs.\\r\\n22. \\u201CModel\\u201D denotes the software component of an AI program that is the output of a\\r\\nmachine-learning process. The model is a computer file that contains all the information that has\\r\\nbeen extracted from analyzing the training data, including the rules and data structures produced\\r\\nby the algorithm.\\r\\n23. A \\u201CSoftware Library\\u201D is a self-contained software program that is designed to\\r\\nprovide certain functions or services to another software program, such as a desktop or\\r\\nsmartphone application, thereby reducing the development time. When used as a Software\\r\\nLibrary, Stable Diffusion provides image-generating services to the other program. Stable\\r\\nDiffusion has been used as a Software Library within multiple programs, including DreamStudio,\\r\\nDreamUp, and, on information and belief, the Midjourney Product.\\r\\n24. A \\u201CText Prompt\\u201D is a textual description that is used as an interface to certain\\r\\ngenerative AI systems to produce output, including the AI Image Products. For instance, a user\\r\\nof Stable Diffusion can input the text prompt \\u201Ca dog wearing a baseball cap while eating ice\\r\\ncream,\\u201D and Stable Diffusion will attempt to generate an image that corresponds to that text\\r\\nprompt. Because randomness is injected into the generative process alongside the text prompt, a\\r\\nparticular text prompt will usually produce a varied set of results. In a generative AI system like\\r\\nStable Diffusion, a text prompt is not part of the training data. It is part of the end-user interface\\r\\nfor the tool. Thus, it is more akin to a text query passed to an internet search engine. Just as the\\r\\ninternet search engine looks up the query in its massive database of web pages to show us\\r\\nmatching results, a generative AI system uses a text prompt to generate output based on its\\r\\nmassive database of training data.\\r\\n25. A \\u201CTraining Image\\u201D is an image, or image paired with a descriptive text caption,\\r\\nthat is included among the training data for a machine-learning process. Training images are often\\r\\ngathered through web scraping. For its training data, Stable Diffusion has taken billions of\\r\\nTraining Images scraped from public websites.\\r\\n26. \\u201CWeb Scraping\\u201D refers to the harvesting, copying, or extracting data from websites\\r\\nby using automated tools, including bots or web crawlers. Usually, the scope and quantity of data\\r\\nso \\u201Cscraped\\u201D is massive. Web scraping can be used to harvest any kind of data available on public\\r\\nwebsites, especially copyrighted data such as text, images, or software code. These collections of\\r\\nscraped copyrighted data are used as input for other computer programs, such as search engines\\r\\nand machine-learning processes. The training data for all AI Image Products are collected via web\\r\\nscraping. For example, the training data for Stable Diffusion\\u2014a database of billions of captioned\\r\\nimages\\u2014was collected via web scraping.\\r\\n27. \\u201CWork\\u201D or \\u201CWorks\\u201D refers to any image that was used to train any version of\\r\\nStable Diffusion that was offered directly and\\/or incorporated into another product by one or\\r\\nmore Defendants during the Class Period.\\r\\nV. PARTIES\\r\\nA. Plaintiffs\\r\\n28. Plaintiff Sarah Andersen is a resident of the State of Oregon. Ms. Andersen is a\\r\\nfull-time cartoonist and illustrator and relies on the income therefrom. Her semi-autobiographical\\r\\ncomic strip, Sarah\\u2019s Scribbles, finds the humor in living as an introvert. Her graphic\\r\\nnovel FANGS was nominated for an Eisner Award. Ms. Andersen has created and owns a\\r\\ncopyright interest in over two hundred Works included in the Training Data.1 Ms. Andersen has\\r\\ncomplied with the statutory requirements for registration and has applied for and owns copyright\\r\\nregistrations for sixteen collections that include Works used as Training Images. Copies of these\\r\\nregistrations as reflected in the Copyright Office\\u2019s records are attached as Exhibits 1 through 16\\r\\nand are valid and enforceable. Ms. Andersen was, and continues to be, injured during the Class\\r\\nPeriod as a result of Defendants\\u2019 unlawful conduct alleged herein.\\r\\n29. Plaintiff Kelly McKernan is a resident of the State of Tennessee. Mx. McKernan is\\r\\na full-time artist and relies on their income therefrom. Kelly creates original watercolor and acryla\\r\\ngouache paintings for galleries, private commissions, and their online store. Mx. McKernan has\\r\\ncreated and owns a copyright interest in over thirty Works used as Training Images. 2 Mx.\\r\\nMcKernan was, and continues to be, injured during the Class Period as a result of Defendants\\u2019\\r\\nunlawful conduct alleged herein.\\r\\n30. Karla Ortiz is a resident of the State of California. Ms. Ortiz is a Puerto Rican,\\r\\ninternationally recognized, award winning full-time artist and relies on the income therefrom. Ms.\\r\\nOrtiz is renowned for her exceptional design sense, realistic renders, and character-driven\\r\\nnarratives, and has contributed to many big-budget projects in the film, television, and video-\\r\\ngame industries. Ms. Ortiz is also a regular illustrator for major publishing and role playing game\\r\\ncompanies. Lastly, Ms. Ortiz is a recognized fine artist, and her deeply personal fine art has been\\r\\n1 Examples of Ms. Andersen\\u2019s Works included in the Training Data can be found here:\\r\\nhttps:\\/\\/haveibeentrained.com\\/?search_text=sarah%20andersen.\\r\\n2 Examples of Mx. McKernan\\u2019s Works included in the Training Data can be found here:\\r\\nhttps:\\/\\/haveibeentrained.com\\/?search_text=kelly%20mckernan and https:\\/\\/laion-\\r\\naesthetic.datasette.io\\/laion-aesthetic-6pls\\/images?_search=kelly+mckernan&_sort=rowid.\\r\\nshowcased in notable galleries such as Spoke Art and Hashimoto Contemporary in San Francisco;\\r\\nNucleus Gallery, Thinkspace, and Maxwell Alexander Gallery in Los Angeles; and Galerie\\r\\nArludik in Paris. Ms. Ortiz has created and owns a copyright interest in at least twelve Works that\\r\\nwere used as Training Images. 3 Ms. Ortiz was, and continues to be, injured during the Class\\r\\nPeriod as a result of Defendants\\u2019 unlawful conduct alleged herein.\\r\\nB. Defendants\\r\\n31. Defendant Stability AI Ltd. is a UK corporation with its principal place of business\\r\\nlocated at 88 Notting Hill Gate, London, England, W11 3HP. Stability AI Ltd. is a party to the\\r\\nunlawful conduct alleged herein.\\r\\n32. Defendant Stability AI, Inc. is a Delaware corporation with its principal place of\\r\\nbusiness located at 88 Notting Hill Gate, London, England, W11 3HP. Stability AI, Inc. is a party\\r\\nto the unlawful conduct alleged herein. Stability AI, Inc. conducts business in this judicial district.\\r\\nOn information and belief, Defendant Stability AI, Inc. is a wholly owned subsidiary of Defendant\\r\\nStability AI Ltd.\\r\\n33. Stability AI Ltd. and Stability AI, Inc. jointly created, trained, and maintain Stable\\r\\nDiffusion, an AI Image Product. Stable Diffusion is used to derive the output images of Stability\\u2019s\\r\\nDreamStudio product. DreamStudio is a web-based app that outputs images in response to text\\r\\nprompts. DreamStudio requires Stable Diffusion to function; the images are produced by Stable\\r\\nDiffusion. DreamStudio provides a user interface and access to a trained version of Stable\\r\\nDiffusion. As noted above, Defendant Stability AI, Inc. is referred collectively with Defendant\\r\\nStability AI Ltd. as \\u201CStability.\\u201D\\r\\n34. Defendant Midjourney, Inc. 4 is a Delaware corporation with its principal place of\\r\\nbusiness located at 333 Harrison Street, Apt. 605, San Francisco, California 94105. Midjourney\\r\\ncreated, sells, markets, and distributes the Midjourney Product, which is an AI Image Product.\\r\\n3 Examples of Ms. Ortiz\\u2019s Works included in the Training Data can be found here: https:\\/\\/laion-\\r\\naesthetic.datasette.io\\/laion-aesthetic-6pls\\/images?_search=karla+ortiz.\\r\\n4 To avoid confusion between Midjourney\\u2019s eponymous product and the entity itself,\\r\\nMidjourney, Inc. is referred to herein as \\u201CMidjourney,\\u201D and the image-generating product the\\r\\ncompany offers is referred to as the \\u201CMidjourney Product.\\u201D\\r\\nLike Stable Diffusion, the Midjourney Product is a commercial product that produces images in\\r\\nresponse to text prompts. On information and belief, Stable Diffusion was used in iterations of the\\r\\nMidjourney Product. On information and belief, the version of the Midjourney Product currently\\r\\navailable was trained on a subset of the images used to train Stable Diffusion. Midjourney is a\\r\\nparty to the unlawful conduct alleged herein.\\r\\n35. Defendant DeviantArt, Inc. (\\u201CDeviantArt\\u201D) is a Delaware corporation with its\\r\\nprincipal place of business located at 100 Gansevoort Street, New York, New York 10014.\\r\\nDeviantArt created, sells, markets, and distributes DreamUp, which is an AI Image Product. Like\\r\\nStable Diffusion and the Midjourney Product, DreamUp is a commercial product that relies on\\r\\nStable Diffusion to produce images. DreamUp is sold directly on the internet as well as other\\r\\nsales channels throughout the United States, including in this District. DeviantArt released\\r\\nDreamUp on November 9, 2022. DeviantArt is a party to the unlawful conduct alleged herein.\\r\\nVI. AGENTS AND CO-CONSPIRATORS\\r\\n36. The unlawful acts alleged against the Defendants in this class action complaint\\r\\nwere authorized, ordered, or performed by the Defendants\\u2019 respective officers, agents,\\r\\nemployees, representatives, or shareholders while actively engaged in the management, direction,\\r\\nor control of the Defendants\\u2019 businesses or affairs.\\r\\n37. The Defendants\\u2019 agents operated under the explicit and apparent authority of\\r\\ntheir principals.\\r\\n38. Each Defendant, and its subsidiaries, affiliates and agents operated as a single\\r\\nunified entity.\\r\\n39. Various persons and\\/or firms not named as Defendants herein may have\\r\\nparticipated as co-conspirators in the violations alleged herein and may have performed acts and\\r\\nmade statements in furtherance thereof.\\r\\n40. Each acted as the principal, agent, or joint venture of, or for other Defendants with\\r\\nrespect to the acts, violations, and common course of conduct alleged herein.\\r\\nVII. CLASS ALLEGATIONS\\r\\nA. Class Definitions\\r\\n41. Plaintiffs bring this action for damages and injunctive relief on behalf of\\r\\nthemselves and all others similarly situated as a class action pursuant to Rules 23(a), 23(b)(2), and\\r\\n23(b)(3) of the Federal Rules of Civil Procedure, on behalf of the following Classes:\\r\\n\\u201CInjunctive Relief Class\\u201D under Rule 23(b)(2):\\r\\nAll persons or entities nationalized and\\/or domiciled in the United\\r\\nStates that own a copyright interest in any work that was used to\\r\\ntrain any version of an AI Image Product that was offered directly\\r\\nand\\/or incorporated into another product by one or more\\r\\nDefendants during the Class Period.\\r\\n\\u201CDamages Class\\u201D under Rule 23(b)(3):\\r\\nAll persons or entities nationalized and\\/or domiciled in the United\\r\\nStates that own a copyright interest in any work that was used to\\r\\ntrain any version of an AI Image Product that was offered directly\\r\\nand\\/or incorporated into another product by one or more\\r\\nDefendants during the Class Period.\\r\\n\\u201CDeviantArt Damages Subclass\\u201D under Rule 23(b)(3):\\r\\nAll members of the Damages Class who (1) maintained an account\\r\\non DeviantArt; (2) posted copyrighted work on DeviantArt; and\\r\\n(3) had that work used to train any version of an AI Image Product.\\r\\nThese \\u201CClass Definitions\\u201D specifically exclude the following person or entities:\\r\\na. Any of the Defendants named herein;\\r\\nb. Any of the Defendants\\u2019 co-conspirators;\\r\\nc. Any of Defendants\\u2019 parent companies, subsidiaries, and affiliates;\\r\\nd. Any of Defendants\\u2019 officers, directors, management, employees,\\r\\nsubsidiaries, affiliates, or agents;\\r\\ne. All governmental entities; and\\r\\nf. The judges and chambers staff in this case, as well as any members of their\\r\\nimmediate families.\\r\\nB. Numerosity\\r\\n42. Plaintiffs do not know the exact number of Class members, because such\\r\\ninformation is in the exclusive control of Defendants. Plaintiffs are informed and believe that\\r\\nthere are at least thousands of Class members geographically dispersed throughout the United\\r\\nStates such that joinder of all Class members in the prosecution of this action is impracticable.\\r\\nC. Typicality\\r\\n43. Plaintiffs\\u2019 claims are typical of the claims of their fellow Class members because\\r\\nPlaintiffs\\u2019 claims arise out of the same course of conduct from which their injuries result.\\r\\nPlaintiffs and all Class own copyrights in the Works. Plaintiffs and the Class created or owned\\r\\nWorks that were published on the internet by themselves or others. The Works were used to train\\r\\nvarious AI Image Products without permission. Plaintiffs and absent Class members were\\r\\ndamaged by this and other wrongful conduct of Defendants as alleged herein. Damages and the\\r\\nother relief sought herein are common to all members of the Class.\\r\\nD. Commonality & Predominance\\r\\n44. Numerous questions of law or fact common to the entire Class arise from\\r\\nDefendants\\u2019 conduct\\u2014including, but not limited to those identified below:\\r\\ni. Direct Copyright Infringement\\r\\n\\uF0B7 Whether Defendants violated the copyrights of Plaintiffs and the Class\\r\\nwhen they downloaded and stored copies of the Works.\\r\\n\\uF0B7 Whether Defendants violated the copyrights of Plaintiffs and the Class\\r\\nwhen they used copies of the Works to train AI Image Products.\\r\\nii. Vicarious Copyright Infringement\\r\\n\\uF0B7 Whether Defendants vicariously violated the copyrights of Plaintiffs and\\r\\nthe Class when third parties used Defendants\\u2019 products to create Fakes, as\\r\\ndefined herein.\\r\\niii. DMCA Violations\\r\\n\\uF0B7 Whether Defendants violated the DMCA by removing copyright\\r\\nmanagement information (\\u201CCMI\\u201D) from the Works and\\/or causing their\\r\\nrespective AI Image Products to omit CMI from their output images.\\r\\niv. Right of Publicity Violations\\r\\n\\uF0B7 Whether Defendants violated Plaintiffs\\u2019 and the Class\\u2019s rights of publicity\\r\\nwhen they designed their AI Image Products to respond to prompts\\r\\nrequesting output images \\u201Cin the style\\u201D of specific individuals, namely\\r\\nPlaintiffs and the Class.\\r\\nv. Unlawful-Competition\\r\\n\\uF0B7 Whether Defendants\\u2019 AI Image Products are being used by Defendants to\\r\\nengage in Unfair Competition under the Lanham Act and\\/or California\\r\\nlaw.\\r\\nvi. Injunctive Relief\\r\\n\\uF0B7 Whether this Court should enjoin Defendants from engaging in the\\r\\nunlawful conduct alleged herein. And what the scope of that injunction\\r\\nwould be.\\r\\nvii. Anticipated Defenses\\r\\n\\uF0B7 Whether any affirmative defense excuses Defendants\\u2019 conduct, including\\r\\nbut not limited to whether some or all of Defendants\\u2019 conduct is allowed\\r\\nunder the Fair Use Doctrine.\\r\\n45. These and other questions of law and fact are common to the Class and\\r\\npredominate over any questions affecting the Class members individually.\\r\\nE. Adequacy\\r\\n46. Plaintiffs will fairly and adequately represent the interests of the Class because\\r\\nthey have experienced the same harms as the Class and have no conflicts with any other members\\r\\nof the Class. Furthermore, Plaintiffs have retained sophisticated and competent counsel (\\u201CClass\\r\\nCounsel\\u201D) who are experienced in prosecuting federal and state class actions throughout the\\r\\nUnited States and other complex litigation and have extensive experience advising clients and\\r\\nlitigating intellectual property, competition, contract, and privacy matters.\\r\\nF. Other Class Considerations\\r\\n47. Defendants have acted on grounds generally applicable to the Class, thereby\\r\\nmaking final injunctive relief appropriate with respect to the Class as a whole.\\r\\n48. This class action is superior to alternatives, if any, for the fair and efficient\\r\\nadjudication of this controversy. Prosecuting the claims pleaded herein as a class action will\\r\\neliminate the possibility of repetitive litigation. There will be no material difficulty in the\\r\\nmanagement of this action as a class action.\\r\\n49. The prosecution of separate actions by individual Class members would create the\\r\\nrisk of inconsistent or varying adjudications, establishing incompatible standards of conduct for\\r\\nDefendants.\\r\\nVIII. FACTUAL ALLEGATIONS\\r\\n50. This class action against Defendants concerns a DeviantArt software product\\r\\ncalled DreamUp, a Midjourney software product, and a Stability software product called\\r\\nDreamStudio, all of which are AI-Image Products and, upon information and belief, built on a\\r\\nStability Software Library called Stable Diffusion.\\r\\nA. Stability AI\\r\\n51. Stability was founded in London, England in 2020 by Mohammad Emad\\r\\nMostaque, a former hedge-fund manager. Mostaque is currently the Chief Executive Officer of\\r\\nStability.\\r\\n52. Stability released Stable Diffusion in August 2022. Stable Diffusion is an AI Image\\r\\nProduct that produces images in response to Text Prompts. Stable Diffusion is being updated\\r\\nrapidly, and has had several major releases: version 1.1, version 1.2, version 1.3, version 1.4, and\\r\\nthe current version is 2.1. Stability is developing an updated version 3.0.\\r\\n53. Stable Diffusion is software released under a permissive open-source license. 5\\r\\nUnder this open-source license, programmers and users can download for free the software and\\r\\n5 See https:\\/\\/github.com\\/Stability-AI\\/stablediffusion\\/blob\\/main\\/LICENSE.\\r\\nits associated machine-learning models derived from the Training Images and then use the\\r\\nsoftware according to the terms of the open-source license.\\r\\n54. Stability\\u2019s choice to release Stable Diffusion under an open-source license\\u2014rather\\r\\nthan under a traditional paid license\\u2014has led to rapid adoption of Stable Diffusion, with many\\r\\nprogrammers devising and releasing their own software based on Stable Diffusion.\\r\\n55. In August 2022, the same month that Stable Diffusion was released, Stability\\r\\nreleased DreamStudio (https:\\/\\/dreamstudio.ai). DreamStudio is a web-server-based AI Image\\r\\nProduct through which users can generate images with Text Prompts. DreamStudio relies on\\r\\nStable Diffusion as its underlying Software Library, meaning that DreamStudio relies on Stable\\r\\nDiffusion to generate images from Text Prompts.\\r\\n56. DreamStudio is billed in packages of \\u201Ccredits,\\u201D priced at $1 for 100 credits, with a\\r\\nminimum purchase of 1000 credits for $10. New DreamStudio users receive a certain number of\\r\\ncredits for free, after which they must buy more. The credits generally represent computer-\\r\\nprocessing resources on Stability\\u2019s cloud-based servers. For each image generated with\\r\\nDreamStudio, a certain number of credits are redeemed. DreamStudio represents that the\\r\\nnumber of credits consumed per image depends on user-controlled settings related to the quality\\r\\nand size of the requested image, and the computing resources used. With 1000 credits, Stability\\r\\nestimates that a user can make \\u201Capproximately 5000 images with default settings.\\u201D\\r\\n57. Stability scraped, and thereby copied over five billion images from websites as the\\r\\nTraining Images used as training data for Stable Diffusion. Stability did not seek consent from\\r\\neither the creators of the Training Images or the websites that hosted them from which they were\\r\\nscraped.\\r\\n58. Stability did not attempt to negotiate licenses for any of the Training Images.\\r\\nStability simply took them. Stability has embedded and stored compressed copies of the Training\\r\\nImages within Stable Diffusion.\\r\\n59. Stable Diffusion uses the compressed copies in generating its output in response to\\r\\nText Prompts. Since launching its DreamStudio app or Stable Diffusion, Stability has not\\r\\nattempted to negotiate any licenses for any of the Training Images and is not sharing any of the\\r\\nrevenue with the artists who created the Training Images nor any other owners of the Works.\\r\\n60. DreamStudio has been lucrative for Stability. In October 2022, Stability\\r\\nannounced it had raised $100 million, led by Coatue and Lightspeed Venture Partners. At the\\r\\ntime, Stability was valued at approximately $1 billion.\\r\\nB. Midjourney\\r\\n61. Midjourney was incorporated on September 16, 2020 by David Holz. Midjourney\\r\\nlaunched an open beta of the first public version of its Midjourney Product on July 12, 2022.\\r\\nSince then, it has released Versions 2 and 3, and, most recently, an alpha iteration of Version 4.\\r\\nC. DeviantArt\\r\\n62. DeviantArt was founded in 2000, DeviantArt has been primarily known as an\\r\\nonline community (https:\\/\\/deviantart.com) where digital artists post and share their work,\\r\\nprimarily in the form of digital images. Today DeviantArt bills itself as \\u201Cthe world\\u2019s largest art\\r\\ncommunity.\\u201D DeviantArt hosts millions of such images.\\r\\n63. Thousands\\u2014and possibly millions\\u2014of the Training Images for Stability\\u2019s Stable\\r\\nDiffusion product were scraped and copied from DeviantArt.\\r\\n64. In November 2022, DeviantArt released DreamUp\\r\\n(https:\\/\\/deviantart.com\\/dreamup). Like Stability\\u2019s DreamStudio, DreamUp is a web-based app\\r\\nthat generates images in response to Text Prompts. Like DreamStudio, DreamUp relies on\\r\\nStability\\u2019s Stable Diffusion software as its underlying software engine.\\r\\nD. How Stable Diffusion Works: A 21st-Century Collage Tool\\r\\n65. As mentioned above, Stable Diffusion is an AI Image Product released by Stability.\\r\\nIt has been incorporated as an image-generating engine into many other software programs,\\r\\nincluding DreamStudio (by Stability), the Midjourney Product, and DreamUp (released by\\r\\nDeviantArt). Thus, the description that follows of how Stable Diffusion works also describes the\\r\\noperation of DreamStudio, the Midjourney Product, and DreamUp, because they rely on Stable\\r\\nDiffusion as an embedded image-generating engine.\\r\\n66. The word \\u201Cdiffusion\\u201D in its name refers to the technique the software uses to\\r\\ngenerate output images that are similar to those found in its training data.\\r\\n67. The diffusion technique was invented in 2015 by a team of researchers led by\\r\\nJascha Sohl-Dickstein at Stanford University and introduced in their paper \\u201CDeep Unsupervised\\r\\nLearning Using Nonequilibrium Thermodynamics\\u201D (2015). 6 The technique can be applied to any\\r\\nkind of data, but the paper focuses on its application to digital images.\\r\\n68. Diffusion operates in two phases. The first phase of diffusion is to take an image\\r\\nand progressively add more noise to it in a series of steps. In this case, \\u201Cnoise\\u201D refers to\\r\\nsomething seen rather than heard, but the connotation is the same: random fluctuations that we\\r\\nperceive as chaotic and unstructured. At each step, the program records how the addition of noise\\r\\nchanges the image. By the last step, the image has been \\u201Cdiffused\\u201D into essentially random noise.\\r\\n69. The second phase is like the first but reversed. Having recorded the process of\\r\\nturning a certain image into noise over many steps, the program can then run the sequence\\r\\nbackwards. Starting with some random noise, the program applies the steps in reverse order. As it\\r\\nprogressively removes noise (or \\u201Cdenoises\\u201D) the data, the program is eventually able to\\r\\nreconstruct the original image.\\r\\n70. The program relies on complicated mathematics, linear algebra, and a series of\\r\\nalgorithms and requires powerful computers and computer processing to recognize underlying\\r\\nrelationships in the data.\\r\\n6 Available at https:\\/\\/arxiv.org\\/abs\\/1503.03585\\r\\n71. The diagram below, taken from the Sohl-Dickstein paper, illustrates the two\\r\\nphases of the diffusion process using a spiral image as the example training data.\\r\\n72.\\r\\n73. The first row of the diagram (with the blue spiral) reads left to right. It depicts the\\r\\nfirst phase of diffusion, with noise being progressively added to the spiral image (not every step is\\r\\nshown). The middle image shows the spiral halfway through the diffusion process. The rightmost\\r\\nimage shows the end of the diffusion process\\u2014the spiral has become a field of random noise.\\r\\n74. The second row of the diagram (with the red spiral) reads right to left. It shows\\r\\nthe reverse process: a patch of random noise (second row, rightmost image) is progressively un-\\r\\ndiffused, or \\u201Cdenoised\\u201D by reversing the sequence of steps learned in the first phase. The middle\\r\\nimage in the second row shows the denoising process at the halfway point. The leftmost image in\\r\\nthe second row shows the end result of the denoising process: the spiral has reappeared.\\r\\n75. Three facts about the diffusion technique are apparent from this diagram.\\r\\na. Diffusion is a way for a machine-learning model to calculate how to reconstruct a\\r\\ncopy of its Training Images. For each Training Image, a diffusion model finds the\\r\\nsequence of denoising steps to reconstruct that specific image. Then it stores this\\r\\nsequence of steps. The diagram above shows a spiral as an example. In practice,\\r\\nthis training would be repeated for many images\\u2014likely millions or billions. A\\r\\ndiffusion model is then able to reconstruct copies of each Training Image.\\r\\nFurthermore, being able to reconstruct copies of the Training Images is not an\\r\\nincidental side effect. The primary goal of a diffusion model is to reconstruct\\r\\ncopies of the training data with maximum accuracy and fidelity to the Training\\r\\nImage. It is meant to be a duplicate.\\r\\nb. These reconstructed copies do not perfectly match the originals. For instance, in\\r\\nthe diagram, the reconstructed spiral (in red) has some fuzzy parts in the lower\\r\\nhalf that the original spiral (in blue) does not. Though the red spiral is plainly a\\r\\ncopy of the blue spiral, in computer terms it is known as a lossy copy, meaning\\r\\nsmall, unimportant, or insignificant details are lost as the data is compressed into a\\r\\nsmaller size. This is true of many digital data formats, including MP3, AAC, and\\r\\nJPEG, that also make highly compressed copies of digital data by omitting small,\\r\\nunimportant, or insignificant details. This technique is called lossy compression. A\\r\\ndiffusion model is a form of lossy compression applied to the Training Images.\\r\\nc. Because a trained diffusion model can produce a copy of any of its Training\\r\\nImages\\u2014which could number in the billions\\u2014the diffusion model can be\\r\\nconsidered an alternative way of storing a copy of those images. In essence, it\\u2019s\\r\\nsimilar to having a directory on your computer of billions of JPEG image files. But\\r\\nthe diffusion model uses statistical and mathematical methods to store these\\r\\nimages in an even more efficient and compressed manner.\\r\\n76. In December 2020, the diffusion technique was improved by a team of researchers\\r\\nat UC Berkeley led by Jonathan Ho. These ideas were introduced in their paper \\u201CDenoising\\r\\nDiffusion Probabilistic Models\\u201D.7\\r\\n77. Ho\\u2019s paper described two improvements to the diffusion technique.\\r\\n78. First, Ho introduced what he called \\u201Cprogressive lossy compression\\u201D, a way for a\\r\\ndiffusion model to store its training data more efficiently without impacting its ability to\\r\\nreconstruct high-quality copies of the training data. These compressed versions of Training\\r\\n7 Available from https:\\/\\/arxiv.org\\/abs\\/2006.11239\\r\\nImages have come to be known as latent image representations (or just latent images). Ultimately, a\\r\\nlatent image is just another copy of an image from the training dataset.\\r\\n79. Second, Ho showed how a latent image could be interpolated\\u2014meaning, blended\\r\\nmathematically\\u2014to produce new derivative images. Rather than combine two images pixel by\\r\\npixel\\u2014which gives unappealing results\\u2014Ho showed how Training Images can be stored in the\\r\\ndiffusion model as latent images and then interpolated as a new latent image. This interpolated\\r\\nlatent image can then be converted back into a standard pixel-based image.\\r\\n80. The diagram below, taken from Ho\\u2019s paper, shows how this process works, and\\r\\ndemonstrates the difference in results between interpolating pixels and interpolating latent\\r\\nimages.\\r\\n81.\\r\\n82. In the diagram, two photos are being blended: the photo on the left labeled\\r\\n\\u201CSource x0 ,\\u201D and the photo on the right labeled \\u201CSource x'0 .\\u201D\\r\\n83. The image in the red frame has been interpolated pixel by pixel, and is thus labeled\\r\\n\\u201Cpixel-space interpolation.\\u201D This pixel-space interpolation simply looks like two translucent face\\r\\nimages stacked on top of each other, not a single convincing face.\\r\\n84. The image in the green frame, labeled \\u201Cdenoised interpolation\\u201D, has been\\r\\ngenerated differently. In that case, the two source images have been converted into latent images\\r\\n(illustrated by the crooked black arrows pointing upward toward the label \\u201CDiffused source\\u201D).\\r\\nOnce these latent images have been interpolated (represented by the green dotted line), the newly\\r\\ninterpolated latent image (represented by the smaller green dot) has been reconstructed into\\r\\npixels (a process represented by the crooked green arrow pointing downward to a larger green\\r\\ndot). This process yields the image in the green frame. Compared to the pixel-space interpolation,\\r\\nthe difference is apparent: the denoised blended interpolation looks like a single convincing\\r\\nhuman face, not an overlay or combination of images of two faces.\\r\\n85. A enlarged detail of the two interpolated images is shown below.\\r\\n86. Despite the difference in results, these two modes of interpolation are equivalent:\\r\\nthey both generate derivative works from the source images. In the pixel-space interpolation (the\\r\\nred-framed image), the source images themselves are being directly interpolated to make a\\r\\nderivative image. In the denoised interpolation (the green-framed image), (1) the source images\\r\\nare being converted to latent images, which are lossy-compressed copies; (2) those latent images\\r\\nare being interpolated to make a derivative latent image; and then (3) this derivative latent image\\r\\nis decompressed back into a pixel-based image.\\r\\n87. In April 2022, the diffusion technique was further improved by a team of\\r\\nresearchers led by Robin Rombach at Ludwig Maximilian University of Munich. These ideas\\r\\nwere introduced in his paper \\u201CHigh-Resolution Image Synthesis with Latent Diffusion Models.\\u201D\\r\\n88. Rombach is also employed by Stability as one of the primary developers of Stable\\r\\nDiffusion, which is a software implementation of the ideas in his paper.\\r\\n89. Rombach\\u2019s diffusion technique offered one key improvement over previous efforts.\\r\\nRombach devised a way to supplement the denoising process by using extra information, so that\\r\\nlatent images could be interpolated in more complex ways. This process is called conditioning. The\\r\\nmost common tool for conditioning is short text descriptions, previously introduced as Text\\r\\nPrompts, that might describe elements of the image, e.g.\\u2014\\u201Ca dog wearing a baseball cap while\\r\\neating ice cream\\u201D. This metric uses Text Prompts as conditioning data to select latent images that\\r\\nare already associated with text captions indicating they contain \\u201Cdog,\\u201D \\u201Cbaseball cap,\\u201D and \\u201Cice\\r\\ncream.\\u201D The text captions are part of the Training Images, and were scraped from the websites\\r\\nwhere the images themselves were found.\\r\\n90. The resulting image is necessarily a derivative work, because it is generated\\r\\nexclusively from a combination of the conditioning data and the latent images, all of which are\\r\\ncopies of copyrighted images. It is, in short, a 21st-century collage tool.\\r\\n91. The result of this conditioning process may or may not be a satisfying or accurate\\r\\ndepiction of the Text Prompt. Below is an example of output images from Stable Diffusion (via\\r\\nthe DreamStudio app) using this Text Prompt\\u2014\\u201Ca dog wearing a baseball cap while eating ice\\r\\ncream\\u201D. All these dogs in the resulting images seem to be wearing baseball hats. Only the one in\\r\\nthe lower left seems to be eating ice cream. The two on the right seem to be eating meat, not ice\\r\\ncream.\\r\\n92.\\r\\n93. In general, none of the Stable Diffusion output images provided in response to a\\r\\nparticular Text Prompt is likely to be a close match for any specific image in the training data.\\r\\nThis stands to reason: the use of conditioning data to interpolate multiple latent images means\\r\\nthat the resulting hybrid image will not look exactly like any of the Training Images that have been\\r\\ncopied into those latent images.\\r\\n94. But it is also true that the only thing a latent-diffusion system can do is interpolate\\r\\nlatent images into hybrid images. There is no other source of visual information entering the\\r\\nsystem.\\r\\n95. Every output image from the system is derived exclusively from the latent images,\\r\\nwhich are copies of copyrighted images. For these reasons, every hybrid image is necessarily a\\r\\nderivative work.\\r\\n96. A latent-diffusion system can never achieve a broader human-like understanding of\\r\\nterms like \\u201Cdog,\\u201D \\u201Cbaseball hat,\\u201D or \\u201Cice cream.\\u201D Hence, the use of the term \\u201Cartificial\\r\\nintelligence\\u201D in this context is inaccurate.\\r\\n97. A latent-diffusion system can only copy from latent images that are tagged with\\r\\nthose terms. The system struggles with a Text Prompt like \\u201Ca dog wearing a baseball cap while\\r\\neating ice cream\\u201D because, though there are many photos of dogs, baseball caps, and ice cream\\r\\namong the Training Images (and the latent images derived from them) there are unlikely to be any\\r\\nTraining Images that combine all three.\\r\\n98. A human artist could illustrate this combination of items with ease. But a latent-\\r\\ndiffusion system cannot because it can never exceed the limitations of its Training Images.\\r\\n99. In practice, the quality of the latent-diffusion images depends entirely on the\\r\\nbreadth and quality of the Training Images used to generate the latent images. If that weren\\u2019t\\r\\ntrue, then it wouldn\\u2019t matter where Stable Diffusion (or any other AI-Image Product) got its\\r\\nTraining Images.\\r\\n100. In actuality, the provenance of an AI-Image-Product\\u2019s Training Images matters\\r\\nvery much. According to Emad Mostaque, CEO of Stability, Stable Diffusion has \\u201Ccompress[ed]\\r\\nthe knowledge of over 100 terabytes of images.\\u201D8 Though the rapid success of Stable Diffusion\\r\\nhas been partly reliant on a great leap forward in computer science, it has been even more reliant\\r\\non a great leap forward in appropriating copyrighted images.\\r\\nE. The source of the Stable Diffusion training data: LAION\\r\\n101. LAION (acronym for \\u201CLarge-Scale Artificial Intelligence Open Network\\u201D) is a\\r\\nnonprofit organization based in Hamburg, Germany. LAION is led by Christoph Schuhmann.\\r\\n8 See Kyle Wiggers, This Startup is Setting a DALL-E 2-Like AI Free, Consequences Be Damned,\\r\\nTechCrunch (Aug. 12, 2022, 3:55 PM), https:\\/\\/techcrunch.com\\/2022\\/08\\/12\\/a-startup-wants-to-\\r\\ndemocratize-the-tech-behind-dall-e-2-consequences-be-damned\\/\\r\\nLAION\\u2019s stated goal is \\u201Cto make large-scale machine learning models, datasets and related code\\r\\navailable to the general public.\\u201D All of LAION\\u2019s projects are made available for free.\\r\\n102. One of LAION\\u2019s most well-known projects is the image datasets it used train AI\\r\\nsystems.\\r\\n103. In August 2021, LAION released LAION-400M, a dataset of 400 million Training\\r\\nImages that included text captions. The Training Images in LAION-400M and their text captions\\r\\nwere copied or scraped from web pages or other sources without the consent of the image owners\\r\\nor website operators. At the time, LAION-400M was the largest freely available dataset of its\\r\\nkind.\\r\\n104. Stability paid LAION to create LAION-5B, a new dataset of 5.85 billion Training\\r\\nImages\\u2014more than 14 times bigger than LAION-400M. The only reason LAION-5B exists is\\r\\nbecause Stability paid for it, so that Stability could have sufficient Training Images for Stable\\r\\nDiffusion.\\r\\n105. At the time, Stability was in the process of developing Stable Diffusion. As\\r\\nadmitted by Mostaque, Stability needed a bigger set of training images for training Stable\\r\\nDiffusion.\\r\\n106. Mostaque has publicly acknowledged the importance of using licensed training\\r\\nimages, saying that future versions of Stable Diffusion would be based on \\u201Cfully licensed\\u201D training\\r\\nimages. 9 But for the current version, he took no steps to obtain or negotiate suitable licenses.\\r\\n107. Stability also paid LAION to create LAION-Aesthetics, a subset of LAION-5B\\r\\ncontaining the images rated most highly for beauty and visual appeal by testers of Stable\\r\\nDiffusion. To improve the quality of the output images, Stable Diffusion received more\\r\\nconcentrated training on version 2.5 of the LAION-Aesthetics dataset, 10 which contains 600\\r\\nmillion Training Images.\\r\\n9 See @EMostaque, Twitter (Dec. 15, 2022, 8:03 AM),\\r\\nhttps:\\/\\/twitter.com\\/EMostaque\\/status\\/1603390169192833027.\\r\\n10 See Stable Diffusion v1 Model Card, GitHub, https:\\/\\/github.com\\/CompVis\\/stable-\\r\\ndiffusion\\/blob\\/main\\/Stable_Diffusion_v1_Model_Card.md#training (last visited Dec. 21,\\r\\n2022).\\r\\n108. Because LAION releases its datasets to the public, it is possible to study the\\r\\nsources of the data, including the websites that the Training Images were scraped or copied from.\\r\\n109. The LAION-Aesthetics dataset is heavily reliant on scraping and copying images\\r\\nfrom commercial image-hosting services: according to one study, 47% of the images in the dataset\\r\\nwere scraped from only 100 web domains.11 The sources of some of the copies and scrapes are\\r\\nstock-image sites, including Getty Images, Shutterstock, and Adobe Stock, as well as shopping\\r\\nsites (like Shopify, Pinterest, Wix, and Squarespace). Significantly, websites featuring user-\\r\\ngenerated content were a huge source of images, including sites like Smugmug, Flickr,\\r\\nWikimedia, Tumblr, and DeviantArt.\\r\\n110. DeviantArt is the source of a significant portion of the LAION-Aesthetic dataset\\r\\namounting to an estimate of one out of every fifty images. Reasonable estimates show that there\\r\\nare likely 3.3 million images from DeviantArt in the LAION-Aesthetics dataset.\\r\\nF. DeviantArt\\u2019s betrayal of its artist community by embracing generative AI images\\r\\n111. In 2000, Angelo Sotira, Scott Jarkoff, and Matthew Stephens founded DeviantArt.\\r\\n112. In 2017, Wix acquired DeviantArt. Wix acquired all of DeviantArt\\u2019s corporate\\r\\nstock for $36 million.\\r\\n113. Shortly afterward, in March 2017, Moti Levy became Chief Operating Officer\\r\\n(COO) of DeviantArt. In April 2022, Levy was promoted to Chief Executive Officer (CEO) of\\r\\nDeviantArt.\\r\\n114. Since its founding in 2000, DeviantArt has held itself out as an online community\\r\\nfriendly to artists, colloquially known on the site as \\u201Cdeviants.\\u201D A primary activity of artists on\\r\\nDeviantArt is sharing digital images of their artwork, colloquially called \\u201Cdeviations.\\u201D Today,\\r\\nDeviantArt bills itself as \\u201Cthe world\\u2019s largest art community,\\u201D hosting millions of such images.\\r\\n115. DreamUp is a commercial product for DeviantArt and available only to customers\\r\\nwho pay DeviantArt. DeviantArt offers paid subscriptions to its artist members called \\u201CCore\\r\\n11 Andy Baio, Exploring 12 Million of the 2.3 Billion Images Used to Train Stable Diffusion\\u2019s Image\\r\\nGenerator, Waxy (Aug. 30, 2022), https:\\/\\/waxy.org\\/2022\\/08\\/exploring-12-million-of-the-images-\\r\\nused-to-train-stable-diffusions-image-generator\\/.\\r\\nPlans.\\u201D Custom Core Plans typically range in price from $3.95 to $14.95 per month. To use\\r\\nDreamUp, a member must first subscribe to a Core Plan. A Core Plan subscriber is allowed to use\\r\\nDreamUp for a certain number of Text Prompts per month. For instance, the $9.95 \\u201CPro\\u201D level\\r\\npermits 200 DreamUp Text Prompts per month. Core Plan members can purchase additional\\r\\nText Prompts by purchasing packages of \\u201Cpoints.\\u201D DeviantArt charges $1 for 80 points, with a\\r\\nminimum purchase of 400 points for $5.\\r\\n116. Stability copied thousands\\u2014and possibly millions\\u2014of the Training Images from\\r\\nDeviantArt created by artists and other DeviantArt subscribers.\\r\\n117. DeviantArt claims that DreamUp \\u201Clets you create AI art knowing that creators\\r\\nand their work are treated fairly.\\u201D\\r\\n118. This statement is false and misleading.\\r\\n119. Like Stability, DeviantArt has not attempted to negotiate licenses for any of the\\r\\nTraining Images. Like Stability, DeviantArt is not sharing any of the revenue from the DreamUp\\r\\napp with the artists or other owners of the Training Images.\\r\\n120. DeviantArt has betrayed its artist community. Rather than standing up for the\\r\\nrights of its members by rejecting Stable Diffusion and other sources of AI-generated art,\\r\\nDeviantArt has gone the opposite direction: it has built an app called DreamUp that is based on\\r\\nStable Diffusion.\\r\\n121. By releasing DreamUp as a paid product, DeviantArt is a co-conspirator in the\\r\\nillegal use of copyrighted works.\\r\\n122. In addition, by offering for sale AI-generated work based on Stable Diffusion,\\r\\nDeviantArt is in fact competing with and displacing the work of the artists and other subscribers\\r\\nto DeviantArt.\\r\\n123. DeviantArt\\u2019s choice to embrace Stable Diffusion by incorporating it into their\\r\\nwebsite via the DreamUp app violates their own terms of service and privacy policy and\\r\\nrepresents unfair competition against their artist customers.\\r\\n124. DeviantArt\\u2019s terms of service have long contained a strict prohibition against\\r\\nusing content on the site \\u201Cfor any commercial purpose,\\u201D and also says no \\u201Ccommercial activities\\r\\nare permitted on or through the Service without DeviantArt\\u2019s written approval.\\u201D The terms of\\r\\nservice elsewhere state that \\u201CYou may not reproduce, distribute, publicly display or perform, or\\r\\nprepare derivative works based on any of the [DeviantArt-hosted artworks] without the express,\\r\\nwritten consent of DeviantArt or the appropriate owner of copyright in such works.\\u201D\\r\\n125. DeviantArt was aware or reasonably should have been aware that Stability was\\r\\nacting in violation of those terms. Thus, having been put on notice that DeviantArt images had\\r\\nbeen used for a commercial purpose\\u2014namely, training Stable Diffusion\\u2014DeviantArt could have\\r\\ntaken legal action against Stable Diffusion for violating those terms.\\r\\n126. DeviantArt did not do so.\\r\\n127. There is no evidence that DeviantArt, despite its professed dedication to its terms\\r\\nof service, has ever challenged Stability\\u2019s violation of the terms of service by training Stable\\r\\nDiffusion on the work of DeviantArt members.\\r\\n128. The scope of DeviantArt\\u2019s betrayal of its artist community by embracing Stable\\r\\nDiffusion was evident in a group audio session held by DeviantArt management on November 11,\\r\\n2022, from approximately 1:00\\u20132:30 pm Pacific Time. DeviantArt scheduled the discussion\\r\\nspecifically to allay the well-founded concerns of DeviantArt members that DeviantArt\\u2019s embrace\\r\\nof AI art was a complete repudiation of its longstanding community principles, as well as\\r\\neconomically and legally unfair.\\r\\n129. At one point in the audio session, CEO Moti Levy explicitly took ownership of the\\r\\ndecision to bring Stable Diffusion onto DeviantArt via the DreamUp app: \\u201CThe reason why we're\\r\\nusing Stable Diffusion because it's the only option for us to take an open source [software engine]\\r\\nand modify it . . . . The other platforms or the other companies do not allow it. . . . [A]nd by the\\r\\nway, that was my decision. That\\u2019s our decision by me as the CEO. That's my decision to take\\r\\nStable Diffusion.\\u201D (Emphasis added.)\\r\\n130. Shortly after the end of this audio session, DeviantArt updated its terms of\\r\\nservice. DeviantArt added a new paragraph about \\u201CData Scraping & Machine Learning\\r\\nActivities\\u201D that explicitly permits this kind of usage under certain circumstances, so that Stable\\r\\nDiffusion and future generative AI services can continue to scrape DeviantArt for images. In so\\r\\ndoing, DeviantArt has reneged on its promises. It plainly switched its loyalties from its artist\\r\\nmembers to the AI companies, like Stability, infringing Plaintiffs\\u2019 and the Class\\u2019s intellectual\\r\\nproperty rights in the work of those members. According to the Internet Archive, this new data-\\r\\nscraping provision was added to the DeviantArt terms of service on November 11, 2022,\\r\\nsometime between 1:41pm and 4:22pm Pacific Time.\\r\\n131. Furthermore, although the new \\u201CData Scraping\\u201D provision acknowledges that\\r\\ncertain kinds of data scraping will continue to be an \\u201Cunauthorized use\\u201D of the DeviantArt\\r\\nwebsite, that \\u201Cowners of the works are responsible for policing their own works\\u201D. In other words,\\r\\ndespite its professed interest in using its terms of service to protect artists, DeviantArt is washing\\r\\nits hands of the matter. Instead of standing up for artists and using its resources to combat illegal\\r\\nAI data scraping, it is forcing artists to take matters into their own hands.\\r\\nG. Midjourney: the 21st-century collage tool (in)famous for its artistic style\\r\\n132. Midjourney is a generative AI company based in San Francisco, California.\\r\\n133. Midjourney was founded in August 2021 by David Holz, who also serves as CEO.\\r\\nAccording to its website, Midjourney is \\u201Cself-funded\\u201D and employs \\u201C11 full-time staff\\u201D.\\r\\n134. Midjourney\\u2019s main product is an online AI-based image generator offered under\\r\\nthe name \\u201CMidjourney.\\u201D Like DreamUp and DreamStudio, the Midjourney image generator uses\\r\\nText Prompts as input and produces digital images as output. Just like DreamUp and\\r\\nDreamStudio, Midjourney relies on Stable Diffusion as its underlying software engine for\\r\\ngenerating images.\\r\\n135. Midjourney released the first version of its service in March 2022, and has\\r\\ncontinued to update the product continually since. Version 2 was launched in April 2022. Version\\r\\n3 was launched in July 2022. On November 10, 2022, the alpha iteration of Version 4 was\\r\\nlaunched.\\r\\n136. Midjourney has deployed its service through an internet-chat system called\\r\\nDiscord. Users can visit certain Discord servers where Midjourney is enabled and use the\\r\\ncommand \\u201C\\\\imagine . . .\\u201D in a group chat room to introduce a Text Prompt. Midjourney will take\\r\\nthis Text Prompt and return an image within the chat-room window. These chat rooms are shared\\r\\nby other users, so everyone can see each others\\u2019 Text Prompts, and the images that result.\\r\\n137. Midjourney allows anyone to sample its service for free by providing a small\\r\\nnumber of image outputs in response to Text Prompts. Midjourney offers a number of paid\\r\\nsubscription plans. For instance, its \\u201CStandard\\u201D plan costs $30 per month and allows unlimited\\r\\nText Prompts and digital image outputs. For an additional $20 per month, a customer can get\\r\\n\\u201CPrivate Visibility\\u201D, allowing users to keep private Text Prompts, images, and digital output.\\r\\nMidjourney also has a \\u201CCorporate\\u201D plan for $600 per year per person that is \\u201Crequired for\\r\\nemployees\\u201D of companies with \\u201Cover $1Million\\/year [sic] in gross revenue.\\u201D\\r\\n138. Though Holz has described Midjourney as a \\u201Cdiverse research lab\\u201D that is \\u201Cnot\\r\\nreally financially motivated,\\u201D Holz intends for Midjourney to make money by enrolling corporate\\r\\nand other professional customers to generate images. Holz has said that \\u201CMillions are using\\r\\n[Midjourney] \\u2026 maybe 30%-50% of our users right now are professionals.\\u201D\\r\\n139. Midjourney subscribers also receive access to the Midjourney web app, similar to\\r\\nDreamStudio or DreamUp, which lets users access the Midjourney service through a web\\r\\ninterface.\\r\\n140. In its terms of service, Midjourney calls the images generated by its service\\r\\n\\u201CAssets.\\u201D The terms of service require that users grant Midjourney an \\u201Cirrevocable copyright\\r\\nlicense . . . [in the] Assets produced by the service at your direction.\\u201D Midjourney is therefore\\r\\nnecessarily asserting that the images generated by its system are copyrightable, and that the\\r\\ncopyright inheres in the subscriber who makes the image.\\r\\n141. According to Holz, Midjourney distinguishes itself from competitors like\\r\\nDreamUp and DreamStudio by being \\u201Cfocused toward making everything beautiful and artistic\\r\\nlooking.\\u201D\\r\\n142. In September 2022, New York resident Kris Kashtanova sought and received U.S.\\r\\ncopyright registration for a comic book titled Zarya of the Dawn, featuring images generated by\\r\\nMidjourney. In December 2022, the U.S. Copyright Office revoked this registration, deeming the\\r\\nwork ineligible for registration because it was generated by AI.\\r\\n143. Also in September 2022, Colorado resident Jason Allen used Midjourney to\\r\\ngenerate an image that he submitted to an art competition at the Colorado State Fair, which later\\r\\nwon. In response to artists who felt he had cheated, Allen later told the New York Times, \\u201CArt is\\r\\ndead, dude. It\\u2019s over. A.I. won. Humans lost.\\u201D He also said that while using Midjourney, \\u201CI felt\\r\\nlike \\u2026 some otherworldly force was involved.\\u201D\\r\\n144. But the secret to Midjourney isn\\u2019t some \\u201Cotherworldly force\\u201D. Just like DreamUp\\r\\nand DreamStudio, Midjourney relies on appropriating millions of copyrighted images created by\\r\\nartists and using these images as Training Images.\\r\\n145. Thus, just like DreamUp and DreamStudio, Midjourney is a collage tool, only\\r\\ncapable of producing images that are remixed and reassembled from the copyrighted work of\\r\\nothers.\\r\\n146. Holz has been sanguine about the copyright-infringement aspect of Midjourney,\\r\\nsaying that \\u201CTo my knowledge, every single large AI model is basically trained on stuff that\\u2019s on\\r\\nthe internet. And that\\u2019s okay, right now. There are no laws specifically about that.\\u201D (Emphasis\\r\\nadded.)\\r\\n147. That statement is false. There are a number of laws that protect and preserve the\\r\\nrights and interests with respect to their art.\\r\\n148. Holz has been cagey when asked direct questions about the source of\\r\\nMidjourney\\u2019s Training Images. When asked how the dataset of Training Images was built, he said\\r\\n\\u201CIt\\u2019s just a big scrape of the internet. We use the open data sets that are published and train\\r\\nacross those. And I\\u2019d say that\\u2019s something that 100% of people do. We weren\\u2019t picky.\\u201D\\r\\n149. On information and belief, because the LAION image datasets are the only large\\r\\n\\u201Copen data sets that are published,\\u201D Holz\\u2019s comment implies that Midjourney has used the\\r\\nLAION image datasets for training. In August 2022, Midjourney released a beta version that used\\r\\nSD.\\r\\n150. When asked whether he sought consent from the creators of the Training Images,\\r\\nHolz said \\u201CNo. There isn\\u2019t really a way to get a hundred million images and know where\\r\\nthey\\u2019re coming from. . . . There\\u2019s no way to find a picture on the internet, and then\\r\\nautomatically trace it to an owner and then have any way of doing anything to authenticate it.\\u201D\\r\\n(Emphasis added.)\\r\\n151. Holz\\u2019s statement is false. LAION and other open datasets are simply lists of URLs\\r\\non the public web. Many of those URLs are derived from a small handful of websites that\\r\\nmaintain records of image ownership. Thus, many images could be traced to their owner. Holz\\r\\nand LAION possess information sufficient to perform such tracing.\\r\\n152. But Holz is correct that the project of licensing artworks ethically and complying\\r\\nwith copyright is not automatic\\u2014on the contrary, it is difficult and expensive. This is why Holz\\r\\nwas able to say in August 2022, one year after Midjourney\\u2019s founding: \\u201CTo be honest, we're\\r\\nalready profitable, and we\\u2019re fine.\\u201D This stands to reason: Midjourney skipped the expensive part\\r\\nof complying with copyright and compensating artists, instead helping themselves to millions of\\r\\ncopyrighted works for free.\\r\\nIX. CLAIMS FOR RELIEF\\r\\nCOUNT I\\r\\nDIRECT COPYRIGHT INFRINGEMENT\\r\\n17 U.S.C. \\u00A7\\u00A7 106, et seq.\\r\\n(All Defendants)\\r\\n153. Plaintiffs and the Class hereby repeat and incorporate by reference each preceding\\r\\nand succeeding paragraph as though fully set forth herein.\\r\\n154. As the owners of the copyright rights associated with the Works and\\/or Training\\r\\nImages, Plaintiffs and the Class hold the exclusive rights under 17 U.S.C. \\u00A7 106.\\r\\n155. Defendants had access to but were not licensed by Plaintiffs or the Class to train\\r\\nany machine learning, AI, or other computer program, algorithm, or other functional prediction\\r\\nengine using the Works.\\r\\n156. Defendants had access to but were not licensed by Plaintiffs nor the Class to\\r\\nincorporate the Works into the products offered by Stability, DeviantArt, Midjourney, or related\\r\\nsoftware applications.\\r\\n157. Defendants had access to but were not licensed by Plaintiffs or the Class to\\r\\ndownload, store, or distribute copies of the Works for use in training or otherwise creating AI\\r\\nImage Products.\\r\\n158. Defendants had access to but were not licensed by Plaintiffs nor the Class to create\\r\\nDerivative Works based upon the Works.\\r\\n159. Defendants had access to but were not licensed by Plaintiffs nor the Class to\\r\\ndistribute the Works.\\r\\n160. Defendants directly infringed Plaintiffs\\u2019 and the Class\\u2019s rights because they have:\\r\\na. reproduced one or more of the Works in violation of 17 U.S.C. \\u00A7 106(1);\\r\\nb. prepared Derivative Works based upon one or more of the Works in violation of 17\\r\\nU.S.C. \\u00A7 106(2);\\r\\nc. distributed copies of one or more of the Works to the public in violation of 17\\r\\nU.S.C. \\u00A7 106(3);\\r\\nd. performed one or more of the Works publicly in violation of 17 U.S.C. \\u00A7 106(4);\\r\\nand\\/or\\r\\ne. displayed one or more of the Works publicly in violation of 17 U.S.C. \\u00A7 106(5).\\r\\n161. Plaintiffs and the Class have been damaged by Defendants\\u2019 actions.\\r\\n162. Defendants have directly and indirectly profited from their acts of infringement.\\r\\n163. Defendants have infringed the Training Images for commercial purposes.\\r\\n164. Defendants are using copies of the Training Images interconnected with their AI\\r\\nImage Products to generate digital images and other output that are derived exclusively from the\\r\\nTraining Images, and that add nothing new.\\r\\n165. Defendants\\u2019 AI Image Products produce digital images and other output that act\\r\\nas market substitutes for the underlying Training Images, thereby competing with Plaintiffs and\\r\\nmembers of the Class.\\r\\n166. Defendants\\u2019 AI Image Products contain copies of every image in the set of\\r\\nTraining Images and are capable at any time of producing as output a copy of any of the Training\\r\\nImages.\\r\\n167. Defendants\\u2019 AI Image Products, because they generate images derived from the\\r\\nTraining Images, will substantially negatively impact the market for the work of Plaintiffs and the\\r\\nClass.\\r\\n168. The conduct of Defendants is causing and, unless enjoined and restrained Court,\\r\\nwill continue to cause Plaintiffs and the Class great and irreparable injury that cannot fully be\\r\\ncompensated or measured in money and have no adequate remedy at law.\\r\\nCOUNT II\\r\\nVICARIOUS COPYRIGHT INFRINGEMENT\\r\\n17 U.S.C. \\u00A7\\u00A7 106, et seq.\\r\\n(All Defendants)\\r\\n169. Plaintiffs and the Class hereby repeat and incorporate by reference each preceding\\r\\nand succeeding paragraph as though fully set forth herein.\\r\\n170. As the owners of the copyright rights, Plaintiffs and the Class hold the exclusive\\r\\nrights under 17 U.S.C. \\u00A7 106.\\r\\n171. Individuals have used AI Image Products to create works using the names of\\r\\nPlaintiffs and the Class in prompts and passed those works off as original works by the artist\\r\\nwhose name was used in the prompt. Such individuals are referred to herein as \\u201CImposters\\u201D By\\r\\nusing a particular artist\\u2019s name, Imposters can cause the AI Image Product to rely more heavily\\r\\non that artist\\u2019s prior works to create images that can pass as original works by that artist. These\\r\\noutput images are referred to herein as \\u201CFakes.\\u201D\\r\\n172. The ability of AI Image Products to respond to prompts containing specific artists\\u2019\\r\\nnames was designed by Defendants with either the knowledge of or reckless disregard for the fact\\r\\nthat this functionality could easily be used to create Fakes.\\r\\n173. Imposters have sold Fakes on ArtStation, Kickstarter, the Unreal Engine\\r\\nMarketplace, and elsewhere.\\r\\n174. Plaintiffs and the Class have been damaged by Imposters\\u2019 actions.\\r\\n175. The Defendant-owner of the AI Image Product used to create each Fake is\\r\\nvicariously liable for any infringements committed by Imposters.\\r\\n176. Defendants have directly and indirectly profited from acts of infringement by\\r\\nImposters.\\r\\n177. The conduct of Defendants and Imposters is causing and, unless and until\\r\\nenjoined and restrained by this Court, will continue to cause Plaintiffs and the Class great and\\r\\nirreparable injury that cannot fully be compensated or measured in money and have no adequate\\r\\nremedy at law.\\r\\nCOUNT III\\r\\nVIOLATION of the DIGITAL MILLENNIUM COPYRIGHT ACT\\r\\n17 U.S.C. \\u00A7\\u00A7 1201\\u20131205\\r\\n(All Defendants)\\r\\n178. Plaintiffs and the Class hereby repeat and incorporate by reference each preceding\\r\\nand succeeding paragraph as though fully set forth herein.\\r\\n179. Plaintiffs and members of the Class own the copyrights to Works used to train AI\\r\\nImage Products. The AI Image Products were trained on billions of images found on the internet.\\r\\n180. Plaintiffs and members of the Class included the following Copyright\\r\\nManagement Information (as defined in Section 1202(c) of the DMCA) (\\u201CCMI\\u201D) in the Works:\\r\\na. copyright notices;\\r\\nb. the title and other information identifying the Works;\\r\\nc. the name of, and other identifying information about, the creators of the Works;\\r\\nand\\r\\nd. the name of, and other identifying information about, the copyright owners of the\\r\\nWorks.\\r\\n181. Defendants did not contact Plaintiffs nor the Class to obtain authority to remove\\r\\nor alter CMI from the Works within the meaning of the DMCA.\\r\\n182. Defendants knew that they did not contact Plaintiffs nor the Class to obtain\\r\\nauthority to remove or alter CMI from the Works within the meaning of the DMCA.\\r\\n183. As part of the scheme, Defendants did not attempt to contact Plaintiffs to obtain\\r\\nauthority to remove or alter CMI from the Works within the meaning of the DMCA. In fact,\\r\\nDefendants\\u2019 removal of CMI made it difficult or impossible to contact Plaintiffs and the Class to\\r\\nobtain authority to remove or alter CMI from the Works within the meaning of the DMCA.\\r\\nRather, Defendants removed or altered CMI from images that are owned by Plaintiffs and the\\r\\nClass by training Stable Diffusion on those images and designing it to omit any CMI as part of the\\r\\noutput.\\r\\n184. Without the authority of Plaintiffs and the Class, Defendants intentionally\\r\\nremoved or altered CMI from the Works after they were posted on DeviantArt or other websites.\\r\\n185. Defendants had access to but were not licensed by Plaintiffs nor the Class to train\\r\\nany machine learning, AI, or other pseudo-intelligent computer program, algorithm, or other\\r\\nfunctional prediction engine using the Works.\\r\\n186. Defendants had access to but were not licensed by Plaintiffs nor the Class to\\r\\nincorporate the Works into their AI Image Products.\\r\\n187. Defendants had access to but were not licensed by Plaintiffs nor the Class to create\\r\\nDerivative Works based upon the Works.\\r\\n188. Defendants had access to but were not licensed by Plaintiffs nor the Class to\\r\\ndistribute the Works as they do through Defendants\\u2019 AI Image Products.\\r\\n189. Without the authority of Plaintiffs and the Class, Defendants distributed CMI\\r\\nknowing that the CMI had been removed or altered without authority of the copyright owner or\\r\\nthe law with respect to the Works.\\r\\n190. Defendants distributed copies of the Works knowing and intending that CMI had\\r\\nbeen removed or altered without authority of the copyright owner or the law, with respect to the\\r\\nWorks.\\r\\n191. Defendants removed or altered CMI from the Works knowing and intending that it\\r\\nwould induce, enable, facilitate, or conceal infringement of copyright. Both in the dataset used to\\r\\nsource the Training Images as well as the places on the Internet where the Training Images were\\r\\nfound set forth CMI, such as the creator\\u2019s name. CMI is also incorporated into the Works in the\\r\\nform of artist\\u2019s signatures. When any of Defendants\\u2019 AI Image Products output an image, the\\r\\nCMI that was previously included with the Works the image is based upon is removed.\\r\\n192. Without the CMI associated with the Works, users of AI Image Products are\\r\\ninduced or enabled to copy the Works and\\/or make Derivative Works based on them. Without the\\r\\nCMI, copyright infringement is facilitated or concealed, because Plaintiffs and the Class are\\r\\nprevented from knowing or learning that the Output is based upon one or more of the Works.\\r\\n193. Defendants removed or altered CMI from Works owned by Plaintiffs and the Class\\r\\nwhile possessing reasonable grounds to know that it would induce, enable, facilitate, and\\/or\\r\\nconceal infringement of copyright in violation of the DMCA. By omitting and concealing CMI\\r\\nfrom Output, Defendants have reasonable grounds to know that innocent infringers are induced\\r\\nor enabled to copy the Works, because CMI has been removed. Without the CMI, Defendants\\r\\nhave reasonable grounds to know copyright infringement is facilitated or concealed, because\\r\\nPlaintiffs and the Class have the difficult or impossible task of proving the Works belong to them.\\r\\n194. The profits attributable to Defendants\\u2019 violation of the DMCA include the\\r\\nrevenue from: any AI Image Products they offer that incorporate Stable Diffusion and other AI\\r\\nImage Products trained on copyrighted images owned by Plaintiffs and\\/or the Class. The Works\\r\\nadd nearly all value to these products because the purpose of them is to provide images and the\\r\\nsource of those images are the Works. Without the Works, these products would not be\\r\\nfunctional.\\r\\n195. On information and belief, Defendants could have trained their AI Image Products\\r\\nto include any CMI associated with the Works relied on to create a given Output when providing\\r\\nthat Output.\\r\\n196. Defendants did not request or obtain permission from Plaintiffs and the Class to\\r\\nuse the Works to train their AI Image Products.\\r\\n197. Unless Defendants are enjoined from violating the DMCA, Plaintiffs and the Class\\r\\nwill suffer great and irreparable harm by depriving them of the right to identify and control the\\r\\nreproduction and\\/or distribution of their copyrighted works and to pursue copyright-\\r\\ninfringement remedies. Defendants will not be damaged if they are required to comply with the\\r\\nDMCA. Plaintiffs and the Class members are therefore entitled to an injunction barring\\r\\nDefendants from violating the DMCA and impounding any device or product that is in the\\r\\ncustody or control of Defendants and that the court has reasonable cause to believe was involved\\r\\nin a violation of the DMCA.\\r\\n198. Plaintiffs and the Class are further entitled to recover from Defendants the actual\\r\\nor statutory damages Plaintiffs and the Class sustained pursuant to 17 U.S.C. \\u00A7 1203(c) and for\\r\\nPlaintiffs\\u2019 and the Class\\u2019s costs and attorneys\\u2019 fees in enforcing the Licenses. Plaintiffs and the\\r\\nClass are also entitled to recover as restitution from Defendants for any unjust enrichment,\\r\\nincluding gains, profits, and advantages that Defendants have obtained as a result of their breach\\r\\nof the Licenses.\\r\\n199. Defendants conspired together and acted jointly and in concert pursuant to their\\r\\nscheme to commit the acts that violated the DMCA alleged herein.\\r\\n200. Defendants induced their customers to unknowingly violate the DMCA by\\r\\nwithholding attribution and other information as described herein.\\r\\nCOUNT IV\\r\\nVIOLATION of the STATUTORY RIGHT of PUBLICITY\\r\\nCal. Civ. Code \\u00A7 3344\\r\\n(All Defendants)\\r\\n201. Plaintiffs and the Class hereby repeat and incorporate by reference each preceding\\r\\nand succeeding paragraph as though fully set forth herein.\\r\\n202. Defendants knowingly used Plaintiffs\\u2019 names in Defendants\\u2019 AI Image Products.\\r\\nAt no time did Plaintiffs consent to Defendants\\u2019 use of their names in this capacity.\\r\\n203. Defendants appropriated Plaintiffs\\u2019 names to Defendants\\u2019 advantage, including for\\r\\nthe purposes of advertising, selling, and soliciting purchases through Defendants\\u2019 AI Image\\r\\nProducts. Defendants\\u2019 AI Image Products can be directed to prioritize inclusion of specific\\r\\nartists\\u2019 Works by invoking the name of the artist or artists. This was a function designed and\\r\\npromoted by Defendants as a product feature.\\r\\n204. Plaintiffs have invested considerable energy, effort, ingenuity, and creativity into\\r\\nthe development of their distinct artistic identities and have successfully built careers as artists.\\r\\nPlaintiffs\\u2019 names are uniquely associated with their art and artistic styles and are recognizable to\\r\\nthe public. Plaintiffs have derived value from their names, identities, and distinctive artistic\\r\\nstyles.\\r\\n205. There is a direct connection between Defendants\\u2019 misappropriation of Plaintiffs\\u2019\\r\\nnames and Defendants\\u2019 commercial purposes, because Defendants used Plaintiffs\\u2019 names to\\r\\nadvertise art \\u201Cin the style\\u201D of Plaintiffs\\u2019 work. Defendants used Plaintiffs\\u2019 names and advertised\\r\\ntheir AI\\u2019s ability to copy or generate work in the artistic style that Plaintiffs popularized in order\\r\\nto sell Defendants\\u2019 products and services. Defendants\\u2019 ability to market art similar to and\\r\\nassociated with Plaintiffs\\u2019 names also enabled Defendants to establish an advantage over actual\\r\\nand prospective competitors.\\r\\n206. Defendants\\u2019 use of Plaintiffs\\u2019 names was not incidental. Rather, Defendants\\r\\nspecifically and knowingly used Plaintiffs\\u2019 names because these names were uniquely related to\\r\\nspecific artistic styles, and Defendants generated valuable business from their ability to sell\\r\\nartworks \\u201Cin the style\\u201D that Plaintiffs popularized. Thus, the use of Plaintiffs\\u2019 names contributed\\r\\nvalue to Defendants\\u2019 platform and services.\\r\\n207. Defendants used Plaintiffs\\u2019 names to link and associate the art generated by its AI\\r\\nwith Plaintiffs\\u2019 specific styles and artistic accomplishments. This link uniquely enhanced the\\r\\nmarketability of Defendants\\u2019 AI art-generating services to consumers and the public.\\r\\n208. Defendants\\u2019 emphasized the ability of AI Image Products to create images based\\r\\non \\u201Cin the style\\u201D prompts that included specific Class members\\u2019 names. This functionality was\\r\\nprominent and used throughout Defendants\\u2019 apps, website, and social media posts.\\r\\n209. Thus, Defendants\\u2019 misappropriation of Plaintiffs\\u2019 names is directly connected\\r\\nwith Defendants\\u2019 advertising and sale of their products and services.\\r\\n210. Because Defendants advertise the ability of their systems to generate artwork \\u201Cin\\r\\nthe style\\u201D of Plaintiffs\\u2019 work\\u2014and explicitly used Plaintiffs\\u2019 work to train their AI algorithms\\u2014\\r\\nthe art generated by Defendants\\u2019 AI products is not transformative. Defendants\\u2019\\r\\nmisappropriation merely capitalizes on Defendants\\u2019 theft of Plaintiffs\\u2019 artistic work and the\\r\\nassociated value of Plaintiffs\\u2019 names.\\r\\n211. Defendants appropriated Plaintiffs\\u2019 names exclusively for commercial purposes.\\r\\nDefendants\\u2019 appropriation was not done in connection with any news, public affairs, sports\\r\\nbroadcast or account, or political campaign.\\r\\n212. Because of Defendants\\u2019 unlawful appropriation of Plaintiffs\\u2019 names, Plaintiffs have\\r\\nsuffered injury. Plaintiffs have a right to protect the goodwill that is associated with their names,\\r\\nand that goodwill is compromised by a proliferation of AI-generated art created without Plaintiffs\\u2019\\r\\nconsent but associated with Plaintiffs\\u2019 names. Further, the value of Plaintiffs\\u2019 name recognition\\u2014\\r\\nand thus the value of their art itself\\u2014is diluted in a market flooded with AI-generated copies\\r\\nassociated with Plaintiffs\\u2019 names and artistic styles. Rather than generating revenue by licensing\\r\\ntheir own images, Plaintiffs also suffer injury through having to compete with knock-off images\\r\\ngenerated from Plaintiffs\\u2019 work and associated with Plaintiffs\\u2019 names.\\r\\nCOUNT V\\r\\nVIOLATION of the COMMON LAW RIGHT of PUBLICITY\\r\\nCommon Law\\r\\n(All Defendants)\\r\\n213. Plaintiffs and the Class hereby repeat and incorporate by reference each preceding\\r\\nand succeeding paragraph as though fully set forth herein.\\r\\n214. Plaintiffs\\u2019 identities are distinctly tied to their work as artists and their specific\\r\\nartistic styles. Plaintiffs have invested considerable energy, effort, ingenuity, and creativity into\\r\\nthe development of their distinct artistic identities and name-recognition. Plaintiffs have also built\\r\\ncareers as artists and have derived value from their names, identities, and distinctive artistic\\r\\nstyles.\\r\\n215. Plaintiffs\\u2019 names and artistic identities are not limited to a specific copyrighted\\r\\nimage or work developed by Plaintiffs. Rather, they extend to Plaintiffs\\u2019 entire corpus of work and\\r\\nallow consumers and the public to identify work \\u201Cin the style of\\u201D Plaintiffs. Thus, Defendants did\\r\\nnot only misappropriate work fixed in a tangible medium of expression, but also misappropriated\\r\\nPlaintiffs\\u2019 names and artistic identities.\\r\\n216. Plaintiffs did not consent to Defendants\\u2019 use of their names or identities.\\r\\n217. Defendants knowingly used Plaintiffs\\u2019 names and identities to further Defendants\\u2019\\r\\ncommercial advantage, including for the purposes of advertising, selling, and soliciting purchases\\r\\nthrough Defendants\\u2019 AI art-generating system.\\r\\n218. Defendants used Plaintiffs\\u2019 names and distinct artistic identities to link and\\r\\nassociate the art generated by its AI with Plaintiffs\\u2019 specific styles and artistic accomplishments.\\r\\nThis link uniquely enhanced the marketability of Defendants\\u2019 AI art-generating services to\\r\\nconsumers and the public.\\r\\n219. Defendants\\u2019 use of Plaintiffs\\u2019 names and identities was prominent and used\\r\\nthroughout Defendants\\u2019 apps, website, and social media posts.\\r\\n220. Thus, Defendants\\u2019 misappropriation of Plaintiffs\\u2019 names and identities is directly\\r\\nconnected with Defendants\\u2019 advertising and sale of their products and services.\\r\\n221. Because Defendants advertise the ability of their systems to generate artwork \\u201Cin\\r\\nthe style\\u201D of Plaintiffs\\u2019 work\\u2014and explicitly used Plaintiffs\\u2019 work to train the algorithms\\u2014the art\\r\\ngenerated by Defendants\\u2019 AI products is not transformative. Defendants\\u2019 misappropriation\\r\\nmerely capitalizes on Defendants\\u2019 theft of Plaintiffs\\u2019 artistic work and the associated value of\\r\\nPlaintiffs\\u2019 names and identities.\\r\\n222. Because of Defendants\\u2019 unlawful appropriation of Plaintiffs\\u2019 names and identities,\\r\\nPlaintiffs have suffered injury. The goodwill associated with Plaintiffs\\u2019 names and distinct\\r\\nidentities is compromised by a proliferation of AI-generated art associated with Plaintiffs\\u2019 names\\r\\nand identities, but created without Plaintiffs\\u2019 consent. The value of Plaintiffs\\u2019 name recognition\\r\\nand Plaintiffs\\u2019 distinct artistic styles\\u2014and thus the value of their art itself\\u2014is diluted in a market\\r\\nflooded with AI-generated copies built on Plaintiffs\\u2019 unique artistic identities. Plaintiffs also suffer\\r\\ninjury through having to compete with knock-off images generated from Plaintiffs\\u2019 work and\\r\\nassociated with Plaintiffs\\u2019 names.\\r\\nCOUNT VI\\r\\nUNFAIR COMPETITION\\r\\n15 U.S.C. \\u00A7 1125; Cal. Bus. & Prof. Code \\u00A7\\u00A7 17200, et seq.; and Common Law\\r\\n(All Defendants)\\r\\n223. Plaintiffs and the Class hereby repeat and incorporate by reference each preceding\\r\\nand succeeding paragraph as though fully set forth herein.\\r\\n224. Defendants have engaged in unlawful business practices, including:\\r\\na. Infringement of Plaintiffs\\u2019 and the Class\\u2019s copyrights; and\\r\\nb. Violations of Plaintiffs\\u2019 and the Class\\u2019s rights under the DMCA.\\r\\nThe details of the unlawful business practices are set forth herein.\\r\\n225. Plaintiffs and the Class have suffered monetary damages as a result of Defendants\\u2019\\r\\nconduct.\\r\\n226. The conduct of Defendants is causing and, unless enjoined and restrained by this\\r\\nCourt, will continue to cause Plaintiffs and the Class great and irreparable injury that cannot fully\\r\\nbe compensated or measured in money.\\r\\nCOUNT IX\\r\\nBREACH of CONTRACT\\r\\nVIOLATION of DEVIANTART POLICIES\\r\\nCal. Bus. & Prof. Code \\u00A7 22575\\u201322579; Cal. Civ. Code \\u00A7 1798.150; and Common Law\\r\\n(Against Defendant DeviantArt Only)\\r\\n227. Plaintiffs and the Class hereby repeat and incorporate by reference each preceding\\r\\nand succeeding paragraph as though fully set forth herein.\\r\\n228. DeviantArt Plaintiffs and the DeviantArt Class are DeviantArt users who have\\r\\naccepted DeviantArt\\u2019s Terms of Service. As a result, Plaintiffs and the Class have formed a\\r\\ncontract, the terms of which are set forth in DeviantArt\\u2019s Terms of Service.\\r\\n229. Plaintiffs and the Class are DeviantArt users who have accepted DeviantArt\\u2019s\\r\\nPrivacy Statement. As a result, Plaintiffs and the Class have formed a contract.\\r\\n230. DeviantArt\\u2019s Privacy Statement and Terms of Service share definitions and refer\\r\\nto each other. As such, they are collectively referred to herein as \\u201CDeviantArt\\u2019s Policies\\u201D unless a\\r\\ndistinction is necessary. Copies of the November 11, 2022 version of the DeviantArt Terms of\\r\\nService and copies of the current DeviantArt Terms of Service and Privacy Policy are attached as\\r\\nExhibit 17.\\r\\n231. Plaintiffs and the Class have performed each of the conditions, covenants, and\\r\\nobligations imposed on them by the terms of DeviantArt\\u2019s Policies.\\r\\n232. DeviantArt has substantially and materially breached DeviantArt\\u2019s Policies in the\\r\\nfollowing ways:\\r\\na. Sharing Plaintiffs\\u2019 and the Class\\u2019s personal data with unauthorized third parties in\\r\\nviolation of the DeviantArt Privacy Statement;\\r\\nb. Selling and distributing Plaintiffs\\u2019 and the Class\\u2019s personal data in contravention\\r\\nof the DeviantArt\\u2019s Policies;\\r\\nc. Use of Plaintiffs\\u2019 and the Class\\u2019s personal data after the DeviantArt Privacy\\r\\nStatement explicitly claims it will be deleted;\\r\\nd. Use and distribution of Plaintiffs\\u2019 and the Class\\u2019s personal data outside the\\r\\nlimitations set forth in the DeviantArt Privacy Statement.\\r\\n233. Plaintiffs and the Class have suffered monetary damages as a result of\\r\\nDeviantArt\\u2019s conduct.\\r\\n234. DeviantArt\\u2019s conduct is causing and, unless enjoined and restrained by this Court,\\r\\nwill continue to cause Plaintiffs and the Class great and irreparable injury that cannot fully be\\r\\ncompensated or measured in money.\\r\\n235. As a direct and proximate result of these material breaches by DeviantArt,\\r\\nPlaintiffs and the Class are entitled to an injunction requiring DeviantArt to comply with all the\\r\\nterms of the DeviantArt Policies.\\r\\n236. Plaintiffs and the Class are further entitled to recover from DeviantArt the\\r\\ndamages Plaintiffs and the Class sustained\\u2014including consequential damages\\u2014for Plaintiffs\\u2019 and\\r\\nthe Class\\u2019s costs in enforcing DeviantArt\\u2019s Policies. Plaintiffs and the Class are also entitled to\\r\\nrecover as restitution from DeviantArt for any unjust enrichment, including gains, profits, and\\r\\nadvantages that it has obtained as a result of its breaches of the DeviantArt Policies.\\r\\nCOUNT VII\\r\\nDECLARATORY RELIEF\\r\\n28 U.S.C. \\u00A7 2201(a) and Cal. Code Civ. Proc. \\u00A7 1060\\r\\n(All Defendants)\\r\\n237. Plaintiffs and the Class hereby repeat and incorporate by reference each preceding\\r\\nand succeeding paragraph as though fully set forth herein.\\r\\n238. An actual controversy exists between the Class (including Plaintiffs) and\\r\\nDefendants due to Defendants\\u2019 operation of AI Image Products, which violate Plaintiffs\\u2019 and the\\r\\nClass\\u2019s rights, including but not limited to their rights under the Copyright Act, DMCA Section\\r\\n1202, Cal. Civ. Code \\u00A7 3344, and Cal. Civ. Code \\u00A7 17200 as alleged herein.\\r\\n239. Plaintiffs are entitled to a judgment declaring that Defendants\\u2019 actions are\\r\\nunlawful and, specifically, that Defendants violated the Copyright Act, DMCA Section 1202, Cal.\\r\\nCiv. Code \\u00A7 3344, and Cal. Civ. Code \\u00A7 17200.\\r\\nX. DEMAND FOR JUDGMENT\\r\\nWHEREFORE, Plaintiffs requests that the Court enter judgment on their behalf and on\\r\\nbehalf of the Class defined herein, by adjudging and decreeing that:\\r\\n240. This action may proceed as a class action, with Plaintiffs serving as Class\\r\\nRepresentatives, and with Plaintiffs\\u2019 counsel as Class Counsel;\\r\\na. Judgment in favor of Plaintiffs and the Class and against Defendants;\\r\\nb. An award of statutory and other damages pursuant to 17 U.S.C. \\u00A7 504 for\\r\\nviolations of Plaintiffs\\u2019 and the Class\\u2019s copyright interests by Defendants, both\\r\\ndirectly and vicariously through others;\\r\\nc. Permanent injunctive relief, including but not limited to making changes to its\\r\\nDefendants\\u2019 AI Image Products to ensure that all applicable information set forth\\r\\nin 17 U.S.C. \\u00A7 1203(b)(1) is included with any Output incorporating a Work that\\r\\nhad such information associated with it where Defendants found it on the internet;\\r\\nd. An order of costs and allowable attorney\\u2019s fees pursuant to 17 U.S.C.\\r\\n\\u00A7 1203(b)(4)\\u2013(5);\\r\\ne. An award of statutory damages pursuant to 17 U.S.C. \\u00A7 1203(b)(3) and 17 U.S.C.\\r\\n\\u00A7 1203(c)(3), or, in the alternative, an award of actual damages and any additional\\r\\nprofits pursuant to 17 U.S.C. \\u00A7 1203(c)(2) (including tripling damages pursuant to\\r\\n17 U.S.C. \\u00A7 1203(c)(4) if applicable);\\r\\nf. An award of damages, including punitive damages, for harms resulting from\\r\\nDefendants acts of unfair competition;\\r\\ng. An award of damages sufficient to compensate Plaintiffs and the Class for harms\\r\\nresulting from Defendants unjust enrichment; and\\r\\nh. An award of damages, including punitive damages, for harms resulting from\\r\\nDefendants violations of Plaintiffs\\u2019 and the Class\\u2019s rights of publicity.\\r\\n241. Injunctive relief sufficient to alleviate and stop Defendants\\u2019 unlawful conduct\\r\\nalleged herein.\\r\\n242. Plaintiffs and the Class are entitled to prejudgment and post-judgment interest on\\r\\nthe damages awarded them, and that such interest be awarded at the highest legal rate from and\\r\\nafter the date this class action complaint is first served on Defendants;\\r\\n243. Defendants are to be jointly and severally responsible financially for the costs and\\r\\nexpenses of a Court approved notice program through post and media designed to give immediate\\r\\nnotification to the Class.\\r\\n244. Plaintiffs and the Class receive such other or further relief as may be just and\\r\\nproper.\\r\\nXI. JURY TRIAL DEMANDED\\r\\nPursuant to Federal Rule of Civil Procedure 38(b), Plaintiffs demand a trial by jury of all\\r\\nthe claims asserted in this Complaint so triable.\\r\\nDated: January 13, 2023 By: \\/s\\/ Joseph R. Saveri\\r\\nJoseph R. Saveri\\r\\nJoseph R. Saveri (State Bar No. 130064)\\r\\nCadio Zirpoli (State Bar No. 179108)\\r\\nChristopher K.L. Young (State Bar No. 318371)\\r\\nElissa A. Buchanan (State Bar No. 249996)\\r\\nTravis Manfredi (State Bar No. 281779)\\r\\nJOSEPH SAVERI LAW FIRM, LLP\\r\\n601 California Street, Suite 1000\\r\\nSan Francisco, California 94108\\r\\nTelephone: (415) 500-6800\\r\\nFacsimile: (415) 395-9940\\r\\nEmail: jsaveri@saverilawfirm.com\\r\\nczirpoli@saverilawfirm.com\\r\\ncyoung@saverilawfirm.com\\r\\neabuchanan@saverilawfirm.com\\r\\ntmanfredi@saverilawfirm.com\\r\\nMatthew Butterick (State Bar No. 250953)\\r\\n1920 Hillhurst Avenue, #406\\r\\nLos Angeles, CA 90027\\r\\nTelephone: (323) 968-2632\\r\\nFacsimile: (415) 395-9940\\r\\nEmail: mb@buttericklaw.com\\r\\nBrian D. Clark (pro hac vice pending)\\r\\nLaura M. Matson (pro hac vice pending)\\r\\nLOCKRIDGE GRINDAL NAUEN P.L.L.P.\\r\\n100 Washington Avenue South, Suite 2200\\r\\nMinneapolis, MN 55401\\r\\nTelephone: (612)339-6900\\r\\nFacsimile: (612)339-0981\\r\\nEmail: bdclark@locklaw.com\\r\\nlmmatson@locklaw.com\\r\\nCounsel for Individual and Representative\\r\\nPlaintiffs and the Proposed Class\\r\\n\\n============\\nMark A. Lemley (Sate Bar No. 155830)\\r\\nLEX LUMINA PLLC\\r\\n745 Fifth Avenue, Suite 500\\r\\nNew York, NY 10151\\r\\nTelephone: (646) 898-2055\\r\\nFacsimile: (646) 906-8657\\r\\nEmail: mlemley@lex-lumina.com\\r\\nNicole M. Jantzi (pro hac vice)\\r\\nPaul M. Schoenhard (pro hac vice)\\r\\nFRIED, FRANK, HARRIS, SHRIVER\\r\\n& JACOBSON LLP\\r\\n801 17th Street NW\\r\\nWashington, DC 20006\\r\\nTelephone: (202) 639-7254\\r\\nEmail: nicole.jantzi@friedfrank.com\\r\\npaul.schoenhard@friedfrank.com\\r\\n(Additional counsel on signature page)\\r\\nCounsel for Defendant Stability, Inc. and Stability AI Ltd.\\r\\nUNITED STATES DISTRICT COURT\\r\\nNORTHERN DISTRICT OF CALIFORNIA\\r\\nSAN FRANCISCO DIVISION\\r\\nSARAH ANDERSEN, an individual;\\r\\nKELLY MCKERNAN, an individual;\\r\\nKARLA ORTIZ, an individual,\\r\\nIndividual and Representative Plaintiffs,\\r\\nv.\\r\\nSTABILITY AI, LTD., a UK corporation;\\r\\nSTABILITY AI, INC., a Delaware\\r\\ncorporation;\\r\\nMIDJOURNEY, INC., a Delaware\\r\\ncorporation;\\r\\nDEVIANTART, INC., a Delaware\\r\\ncorporation,\\r\\nDefendants.\\r\\nCASE NO. 3:23-cv-00201-WHO\\r\\nNOTICE OF MOTION AND MOTION OF\\r\\nDEFENDANTS STABILITY AI LTD AND\\r\\nSTABILITY AI, INC.\\u2019S NOTICE OF\\r\\nMOTION, MOTION TO DISMISS, AND\\r\\nMEMORANDUM OF POINTS AND\\r\\nAUTHORITIES IN SUPPORT OF\\r\\nMOTION TO DISMISS\\r\\nDate: July 19, 2023\\r\\nTime: 2:00 p.m.\\r\\nPlace: Courtroom 2 - 17th Floor\\r\\nBefore: Hon. William H. Orrick\\r\\nTO ALL PARTIES AND THEIR ATTORNEYS OF RECORD:\\r\\nPLEASE TAKE NOTICE that on July 19, 2023, at 2:00 p.m., or as soon thereafter as the\\r\\nmatter may be heard, in the United States District Court for the Northern District of California,\\r\\nCourtroom 2, 17th Floor, located at 450 Golden Gate Ave., San Francisco, CA 94102, Defendants\\r\\nStability AI Ltd. and Stability AI, Inc., through their undersigned counsel, will, and hereby do, move\\r\\nto dismiss Plaintiffs\\u2019 Class Action Complaint (\\u201CCompl.\\u201D or \\u201CComplaint\\u201D) pursuant to Federal Rule\\r\\nof Civil Procedure (\\u201CFRCP\\u201D) 12(b)(6).\\r\\nStability AI Ltd. and Stability AI Inc.\\u2019s Motion to Dismiss (\\u201CMotion\\u201D) is based on this\\r\\nNotice, the supporting Memorandum of Points and Authorities, Request for Judicial Notice,\\r\\nDeclaration of Paul M. Schoenhard and exhibits thereto, the complete files and records in this action,\\r\\nand any additional material and arguments as may be considered in connection with the hearing on\\r\\nthe Motion.\\r\\nISSUES TO BE DECIDED:\\r\\n1. Whether Plaintiffs\\u2019 claims of direct and vicarious copyright infringement (Counts I and II)\\r\\nshould be dismissed for any works that do not comply with 17 U.S.C. \\u00A7 411(a);\\r\\n2. Whether Plaintiffs\\u2019 claim of direct copyright infringement (Count I) should be dismissed to\\r\\nthe extent that it is based on output images for failure to identify the allegedly infringing\\r\\nworks and for lack of substantial similarity;\\r\\n3. Whether Plaintiffs\\u2019 claim of vicarious copyright infringement (Count II) should be dismissed\\r\\nfor failure to identify an act of direct infringement or plead any elements of the claim;\\r\\n4. Whether Plaintiffs\\u2019 Digital Millennium Copyright Act claim (Count III) should be dismissed\\r\\nfor failure to plead facts to satisfy the elements of the claim;\\r\\n5. Whether Plaintiffs\\u2019 statutory and common-law right of publicity claims (Counts IV and V)\\r\\nshould be dismissed because they are preempted by Section 301(a) of the Copyright Act and\\r\\notherwise fail to state a claim upon which relief can be granted;\\r\\n6. Whether Plaintiffs\\u2019 unfair competition claim (Count VI) should be dismissed because it is\\r\\npreempted by federal copyright law; and\\r\\n7. Whether Plaintiffs\\u2019 declaratory relief claim (Count VII) is improper and should be dismissed\\r\\nin its entirety because it is duplicative or otherwise be dismissed to the extent Plaintiffs have\\r\\nfailed to state the underlying claims.\\r\\nRELIEF SOUGHT: Stability AI Ltd. and Stability AI, Inc. seek an order dismissing all claims\\r\\nagainst them under Rule 12(b)(6) for failure to state a claim upon which relief can be granted.\\r\\nDated: April 18, 2023 Respectfully submitted,\\r\\ns\\/ Paul M. Schoenhard\\r\\nMark A. Lemley (State Bar No. 155830)\\r\\n745 Fifth Avenue, Suite 500\\r\\nNew York, NY 10151\\r\\nTelephone: (646) 898-2055\\r\\nFacsimile: (646) 906-8657\\r\\nEmail: mlemley@lex-lumina.com\\r\\nNicole M. Jantzi (pro hac vice)\\r\\nPaul M. Schoenhard (pro hac vice)\\r\\nFRIED, FRANK, HARRIS, SHRIVER\\r\\n& JACOBSON LLP\\r\\n801 17th Street NW\\r\\nWashington, DC 20006\\r\\nTelephone: (202) 639-7254\\r\\nEmail: nicole.jantzi@friedfrank.com\\r\\npaul.schoenhard@friedfrank.com\\r\\nMichael C. Keats (pro hac vice)\\r\\nAmir R. Ghavi (pro hac vice)\\r\\nFRIED, FRANK, HARRIS, SHRIVER\\r\\n& JACOBSON LLP\\r\\nOne New York Plaza\\r\\nNew York, NY 10004\\r\\nTelephone: (212) 859-8000\\r\\nEmail: michael.keats@friedfrank.com\\r\\namir.ghavi@friedfrank.com\\r\\nCounsel for Defendants Stability AI, Inc.\\r\\nand Stability AI Ltd.\\r\\nTABLE OF CONTENTS\\r\\nI. PRELIMINARY STATEMENT .......................................................................................- 1 -\\r\\nII. STATEMENT OF RELEVANT FACTS .........................................................................- 2 -\\r\\nIII. LEGAL STANDARD .......................................................................................................- 3 -\\r\\nIV. ARGUMENT ....................................................................................................................- 4 -\\r\\nA. The Court Should Dismiss Counts I And II to the Extent Plaintiffs\\r\\nDid Not Register Their Copyrights Before Filing Suit. ........................................- 4 -\\r\\nB. Count I Should be Dismissed to the Extent it is Based on Output\\r\\nImages. ..................................................................................................................- 6 -\\r\\nC. Count II Should be Dismissed Because Plaintiffs Do Not\\r\\nAdequately Plead Underlying Direct Infringement. .............................................- 7 -\\r\\nD. Count III Should be Dismissed for Failure to Plead DMCA\\r\\nViolations. .............................................................................................................- 9 -\\r\\nE. Plaintiffs\\u2019 Right of Publicity Claims are Preempted. ..........................................- 10 -\\r\\n1. Plaintiffs\\u2019 claims fall within the subject matter of copyright. ................. - 11 -\\r\\n2. Plaintiffs\\u2019 claims seek to protect \\u201Crights\\u201D that are equivalent to the exclusive\\r\\nrights of copyright holders. ..................................................................... - 16 -\\r\\nF. The Court Should Dismiss Plaintiffs\\u2019 Right of Publicity Claims for\\r\\nFailure to State a Claim upon Which Relief Can Be Granted. ............................- 17 -\\r\\na. Plaintiffs do not sufficiently allege the Stability Defendants\\r\\nuse their identities....................................................................................- 19 -\\r\\nb. Plaintiffs do not allege sufficient identity use \\u201Con or in\\r\\nproducts\\u201D or for purposes of advertising, selling, or soliciting\\r\\npurchases. ................................................................................................- 21 -\\r\\nc. Plaintiffs do not sufficiently allege that Defendants\\r\\nknowingly used their identities in a manner directly\\r\\nconnected to a commercial purpose. .......................................................- 22 -\\r\\nd. Plaintiffs\\u2019 alleged injuries show that they were not injured by\\r\\nidentity misappropriation. .......................................................................- 23 -\\r\\nG. Plaintiffs\\u2019 Unfair Competition Claims are Preempted. .......................................- 24 -\\r\\nH. Plaintiffs\\u2019 Declaratory Relief Claim Is Improper. ...............................................- 24 -\\r\\nV. CONCLUSION ...............................................................................................................- 25 -\\r\\nTABLE OF AUTHORITIES\\r\\nPage(s)\\r\\nCases\\r\\nIn re Adobe Sys., Inc. Priv. Litig.,\\r\\n66 F. Supp. 3d 1197 (N.D. Cal. 2014) ................................................................................... 25\\r\\nAirs Aromatics, LLC v. Victoria\\u2019s Secret Stores Brand Mgmt., Inc.,\\r\\n744 F.3d 595 (9th Cir. 2014) ................................................................................................. 7, 8\\r\\nIn re Apple Inc. Device Performance Litig.,\\r\\n386 F. Supp. 3d 1155 (N.D. Cal. April 22, 2019) ..................................................................... 3\\r\\nAshcroft v. Iqbal,\\r\\n556 U.S. 662 (2009) .................................................................................................................. 3\\r\\nBecton, Dickinson & Co. v. Cytek Biosciences Inc.,\\r\\n2020 WL 1877707 (N.D. Cal. Apr. 15, 2020) ...................................................................... 6, 8\\r\\nBell Atl. Corp. v. Twombly,\\r\\n550 U.S. 544 (2007) .................................................................................................................. 3\\r\\nU.S. ex. Rel. Berge v. Bd. of Tr. of the Univ. of Ala.,\\r\\n104 F.3d 1453 (4th Cir. 1997) ........................................................................................... 11, 14\\r\\nBespaq Corp. v. Haoshen Trading Co.,\\r\\nNo. 04-3698, 2005 WL 14841 (N.D. Cal. Jan. 3, 2005) ........................................................... 4\\r\\nBlizzard Ent., Inc. v. Lilith Games (Shanghai) Co.,\\r\\n149 F. Supp. 3d 1167 (N.D. Cal. 2015) .................................................................................... 6\\r\\nBonin v. Calderon,\\r\\n59 F.3d 815 (9th Cir. 1995) ....................................................................................................... 6\\r\\nCarlini v. Paramount Pictures Corp.,\\r\\nNo. 21-55213 (9th Cir. Mar. 2, 2022) .................................................................................. 6, 8\\r\\nCarson v. Here\\u2019s Johnny Portable Toilets,\\r\\n698 F.2d 831 (6th Cir. 1983) ............................................................................................. 19, 20\\r\\nComedy III Productions, Inc. v. Gary Saderup, Inc.,\\r\\n25 Cal.4th 387 (2001).............................................................................................................. 21\\r\\nDastar Corp. v. Twentieth Century Fox Film Corp.,\\r\\n539 U.S. 23 (2003) .................................................................................................................. 24\\r\\nDolls Kill, Inc. v. Zoetop Business Co.,\\r\\n2022 WL 16961477 (C.D. Cal. Aug. 25, 2022) ...................................................................... 10\\r\\nDowning v. Abercrombie & Fitch,\\r\\n265 F.3d 994 (9th Cir. 2001) ............................................................................................. 13, 15\\r\\nEditorial Photocolor Archives, Inc. v. Granger Collection,\\r\\n61 N.Y.2d 517 (N.Y. 1984) ..................................................................................................... 11\\r\\nEntous v. Viacom Int\\u2019l, Inc.,\\r\\n151 F. Supp. 2d 1150 (C.D. Cal. 2001) ............................................................................. 14, 17\\r\\nFalkner v. GM, LLC,\\r\\n393 F. Supp. 3d 927 (C.D. Cal. 2018) ..................................................................................... 10\\r\\nFaulkner Press, L.L.C. v. Class Notes, L.L.C.,\\r\\n756 F. Supp. 2d 1352 (N.D. Fla. 2010) ................................................................................... 10\\r\\nFisher v. Nissel,\\r\\nNo. CV 21-5839, 2022 WL 16961479 (C.D. Cal. Aug. 15, 2022) ........................................... 4\\r\\nFourth Estate Public Benefit Corp. v. Wall-Street.com, LLC,\\r\\n139 S. Ct. 881 (2019) ............................................................................................................ 4, 5\\r\\nFree Speech Sys., LLC v. Menzel,\\r\\n390 F. Supp. 3d 1162 (N.D. Cal. 2019) .................................................................................... 9\\r\\nHarrington v. Pinterest, Inc.,\\r\\n2022 WL 4348460 (N.D. Cal. Sept. 19, 2022).................................................................... 9, 10\\r\\nIzmo, Inc. v. Roadster, Inc.,\\r\\nNo. 18-cv-06092, 2019 WL 2359228 (N.D. Cal. June 4, 2019) ............................................... 5\\r\\nJewelry 10, Inc. v. Elegance Trading Co.,\\r\\nNo. 88-cv-1320, 1991 WL 144151 (S.D.N.Y. July 20, 1991) ................................................ 14\\r\\nJules Jordan Video, Inc. v. 144942 Canada, Inc.,\\r\\n617 F.3d 1146 (9th Cir. 2010) ........................................................................................... 12, 13\\r\\nKiely v. Universal Music Grp.,\\r\\n2020 WL 4037161 (C.D. Cal. Mar. 5, 2020) ............................................................................ 6\\r\\nKifle v. Youtube LLC,\\r\\n2021 WL 1530942 (N.D. Cal. Apr. 19, 2021) .......................................................................... 5\\r\\nKodadek v. MTV Networks, Inc.,\\r\\n152 F.3d 1209 (9th Cir. 1998) ................................................................................................. 24\\r\\nLaws v. Sony Music Ent., Inc.,\\r\\n448 F.3d 1134 (9th Cir. 2006) ............................................................................... 11, 13, 16, 17\\r\\nLevitt v. Yelp! Inc.,\\r\\n765 F.3d 1123 (9th Cir. 2014) ................................................................................................... 3\\r\\nLions Gate Entertainment Inc. v. TD Ameritrade Servs. Co., Inc.,\\r\\n170 F. Supp. 3d 1249 (C.D. Cal. 2016) ................................................................................... 24\\r\\nLitchfield v. Spielberg,\\r\\n736 F.2d 1352 (9th Cir. 1984) ................................................................................................... 7\\r\\nLykkeberg v. Bank of Am., N.A.,\\r\\n2012 WL 1099773 (N.D. Cal. Apr. 2, 2012) .......................................................................... 25\\r\\nMaloney v. T3Media, Inc.,\\r\\n853 F.3d 1004 ................................................................................................................... passim\\r\\nMelendez v. Sirius XM Radio, Inc.,\\r\\n2021 WL 2593471 (S.D.N.Y. June 24, 2021) ......................................................................... 16\\r\\nMir v. Little Co. of Mary Hosp.,\\r\\n844 F.2d 646 (9th Cir. 1988) ..................................................................................................... 5\\r\\nIn re NCAA Student-Athlete Name & Likeness Licensing Litig.,\\r\\n724 F.3d 1268 (9th Cir. 2013) ..................................................................................... 18, 22, 23\\r\\nNew Day Worldwide Inc. v. Swift,\\r\\n2020 WL 6050700 (C.D. Cal. July 21, 2020) ........................................................................... 6\\r\\nNorth Star Int\\u2019l v. Arizona Corp. Commission,\\r\\n720 F.2d 578 (9th Cir. 1983) ..................................................................................................... 3\\r\\nObado v. Magedson,\\r\\n2014 WL 3778261 (D.N.J. July 30, 2014) .............................................................................. 20\\r\\nParziale v. HP, Inc.,\\r\\n2020 WL 5798274 (N.D. Cal. Sept. 29, 2020)...................................................................... 7, 8\\r\\nPerfect 10, Inc. v. Giganews, Inc.,\\r\\n847 F.3d 657 (9th Cir. 2017) ..................................................................................................... 8\\r\\nPerfect 10, Inc. v. Google, Inc.,\\r\\n2010 WL 9479060 (C.D. Cal. July 30, 2010) ......................................................................... 20\\r\\nPerfect 10, Inc. v. Visa Serv. Ass\\u2019n,\\r\\n494 F.3d 788 (9th Cir. 2007) ................................................................................................. 7, 8\\r\\nPerfect 10, Inc. v. Yandex N.V.,\\r\\n962 F. Supp. 2d 1146 (N.D. Cal. 2013) ................................................................................ 4, 7\\r\\nRicketts v. Haah,\\r\\n2013 WL 3242947 (C.D. Cal. June 26, 2013)........................................................................... 5\\r\\nIn re Silicon Graphics, Inc. Sec. Litig.,\\r\\n183 F.3d 970 (9th Cir. 1999) ..................................................................................................... 3\\r\\nSkidmore v. Led Zeppelin,\\r\\n952 F.3d 1051 (9th Cir. 2020) .................................................................................................. 6\\r\\nSlep-Tone Ent. Corp. v. Wired for Sound Karaoke & DJ Servs., LLC,\\r\\n845 F.3d 1246 (9th Cir. 2017) ................................................................................................. 24\\r\\nStevens v. Corelogic,\\r\\n899 F.3d 666 (9th Cir. 2018) ..................................................................................................... 9\\r\\nSybersound Records, Inc. v. UAV Corp.,\\r\\n517 F.3d 1137 (9th Cir. 2008) ................................................................................................. 24\\r\\nTakeda Pharm. Co., Ltd. v. Mylan Inc.,\\r\\n62 F. Supp. 3d 1115 (N.D. Cal. 2014) .................................................................................... 25\\r\\nUnited States v. Washington,\\r\\n759 F.2d 1353 (9th Cir. 1985) ................................................................................................. 25\\r\\nVault Corp v. Quaid Software Ltd.,\\r\\n847 F.2d 255 (5th Cir. 1988) ..................................................................................................... 7\\r\\nWaits v. Frito-Lay, Inc.,\\r\\n978 F.2d 1093 (9th Cir. 1992) ........................................................................................... 18, 20\\r\\nWhite v. Samsung Elecs, Am., Inc.,\\r\\n971 F.2d 1395 (9th Cir. 1992) ..................................................................................... 18, 19, 20\\r\\nWixen Music Publ., Inc. v. Triller, Inc.,\\r\\nNo. CV-20-10515, 2021 WL 1255190 (C.D. Cal. Feb. 24, 2021) ............................................ 5\\r\\nZeleny v. Burge,\\r\\n2022 WL 3013138 (C.D. Cal. July 1, 2022) ............................................................................. 5\\r\\nStatutes\\r\\n17 U.S.C. \\u00A7 101 ................................................................................................................. 11, 12, 13\\r\\n17 U.S.C. \\u00A7 102(a) ......................................................................................................................... 11\\r\\n17 U.S.C. \\u00A7 103(a) ......................................................................................................................... 12\\r\\n17 U.S.C. \\u00A7 106 ................................................................................................................. 11, 16, 17\\r\\n17 U.S.C. \\u00A7 301(a) ......................................................................................................................... 11\\r\\n17 U.S.C. \\u00A7 411(a) ....................................................................................................................... 4, 5\\r\\n17 U.S.C. \\u00A7 1202(b) ........................................................................................................................ 9\\r\\n47 U.S.C. \\u00A7 230 ............................................................................................................................. 22\\r\\nCalifornia Civil Code \\u00A7 3344 .................................................................................................. 18, 21\\r\\nOther Authorities\\r\\n6 Patry on Copyright \\u00A7 18:16 ........................................................................................................ 17\\r\\n10B Charles A. Wright & Arthur R. Miller,\\r\\nFed. Prac. & Proc. Civ. \\u00A7 2751................................................................................................ 25\\r\\nJ. Thomas McCarthy & Roger E. Schechter,\\r\\nRights of Publicity and Privacy \\u00A7 11.51 .................................................................................. 19\\r\\nRestatement (Second) of Torts \\u00A7 652C cmt. d .............................................................................. 19\\r\\nMEMORANDUM OF POINTS AND AUTHORITIES\\r\\nI. PRELIMINARY STATEMENT\\r\\nDefendant Stability AI Ltd.1 (\\u201CStability AI\\u201D) is at the forefront of the burgeoning generative\\r\\nartificial intelligence (\\u201CAI\\u201D) industry, rapidly expanding the boundaries of human creativity and\\r\\ncapability while maintaining a commitment to make its technology available to all. Stable\\r\\nDiffusion, meanwhile, is an open-source generative AI text-to-image model that has rapidly become\\r\\na base model for developers and artists around the world. Users of Stable Diffusion (and Stability\\r\\nAI\\u2019s DreamStudio) can input prompts of their choosing to generate creative, entirely novel images.\\r\\nTo enable this functionality, Stable Diffusion was trained on billions of images that were\\r\\npublicly available on the Internet. To be clear, training a model does not mean copying or\\r\\nmemorizing images for later distribution. Indeed, Stable Diffusion does not \\u201Cstore\\u201D any images.\\r\\nRather, training involves development and refinement of millions of parameters that collectively\\r\\ndefine\\u2014in a learned sense\\u2014what things look like. Lines, colors, shades, and other attributes\\r\\nassociated with innumerable subjects and concepts. The purpose of doing so is not to enable the\\r\\nmodels to reproduce copies of training images. If someone wanted to engage in wholesale copying\\r\\nof images from the Internet, there are far easier methods to do so, including cutting and pasting an\\r\\nimage and perhaps using tools like Photoshop to edit them.\\r\\nNor is Stable Diffusion a \\u201Ccollage tool.\\u201D Instead, Stable Diffusion enables users to create\\r\\nentirely new and unique images utilizing simple word prompts. As the Complaint concedes, \\u201Cnone\\r\\nof the Stable Diffusion output images provided in response to a particular Text Prompt is likely\\r\\nto be a close match for any specific image in the training data.\\u201D (Compl. \\u00B6 93.)\\r\\nSo if and when this Court is forced to address any of Plaintiffs\\u2019 copyright claims involving\\r\\nStable Diffusion on the merits, Stability AI is confident that only one conclusion can be reached:\\r\\nStability AI enables creation; it is not a copyright infringer.\\r\\nOn a motion to dismiss, however, Plaintiffs\\u2019 allegations must be accepted as true, although\\r\\n1 Stability AI consents to personal jurisdiction in this District solely for purposes of this action.\\r\\nStability AI\\u2019s participation in this litigation should not be construed as consent to personal\\r\\njurisdiction in this District for any other purpose or as a waiver of its right to contest personal\\r\\njurisdiction in any other action.\\r\\nin many cases they are not. But even so, Plaintiffs\\u2019 claims fail on the pleadings.\\r\\nFirst, it is well-settled that a copyright owner must register her works with the Copyright\\r\\nOffice before filing a lawsuit for alleged copyright infringement. Plaintiffs and their counsel know\\r\\nthis. But Andersen alleges only that she registered sixteen collections of her works; and McKernan\\r\\nand Ortiz did not register any. McKernan and Ortiz\\u2019s copyright claims\\u2014and any claim Andersen\\r\\nmay present with respect to unregistered works\\u2014fail for that reason alone.\\r\\nMeanwhile, Plaintiffs present scattershot claims that fail to allege any facts to support\\r\\nnecessary elements or that otherwise fail as a matter of law. Plaintiffs\\u2019 direct copyright infringement\\r\\nclaim based on output images fails for the independent reason that Plaintiffs do not allege a single\\r\\nact of direct infringement, let alone any output that is substantially similar to Plaintiffs\\u2019 artwork.\\r\\nPlaintiffs\\u2019 vicarious copyright claim suffers from the same deficiency, plus the additional flaw that\\r\\nPlaintiffs make no effort to plead facts in support of the remaining elements of such claim.\\r\\nPlaintiffs\\u2019 Digital Millennium Copyright Act (\\u201CDMCA\\u201D) claim also fails multiple times over\\r\\nbecause Plaintiffs do not allege a single work from which copyright management information was\\r\\nallegedly altered or removed, explain what CMI was allegedly removed, or allege any facts to\\r\\nsupport the double-scienter requirement. Further, Plaintiffs\\u2019 right-of-publicity claims are expressly\\r\\npreempted by the Copyright Act because they are simply efforts to recast copyright claims under\\r\\nother legal rubrics. In any event, Plaintiffs offer no more than a bare recitation of the elements of\\r\\nsuch claims with cursory allegations that \\u201CDefendants\\u201D (collectively, but neither individually nor\\r\\nwith any specificity) somehow violated their rights of publicity. But Stability AI has not made any\\r\\nknowing use of Plaintiffs\\u2019 names or likenesses, much less for any commercial purposes or in a way\\r\\nthat injured Plaintiffs. Finally, Plaintiffs\\u2019 unfair competition claim is also preempted, and their\\r\\nduplicative claim for declaratory relief is improper and serves no useful purpose.\\r\\nAccordingly, Stability AI and its parent company, Stability AI, Inc. (collectively, \\u201CStability\\r\\nDefendants\\u201D), respectfully request that this Court grant their motion to dismiss.\\r\\nII. STATEMENT OF RELEVANT FACTS\\r\\nFor purposes of this motion, all allegations in the Complaint (ECF No. 1) are read in the\\r\\nlight most favorable to Plaintiffs and assumed to be true. Defendants\\u2019 recitation of and\\/or reliance\\r\\non such allegations in the arguments below should not be understood as an admission that any such\\r\\nallegations are, in fact, true.\\r\\nOutside the Complaint, however, the Court can confirm and can take judicial notice of the\\r\\nfollowing additional facts:\\r\\n\\uF0B7 Plaintiff McKernan did not register any copyrighted works prior to filing suit. Decl.2 \\u00B6 5.\\r\\n\\uF0B7 Plaintiff Ortiz did not register any copyrighted works prior to filing suit. Id. \\u00B6 6.\\r\\nIII. LEGAL STANDARD\\r\\nA Rule 12(b)(6) motion \\u201Ctest[s] the legal sufficiency of the complaint.\\u201D North Star Int\\u2019l v.\\r\\nArizona Corp. Commission, 720 F.2d 578, 581 (9th Cir. 1983). The complaint must \\u201Ccontain\\r\\nsufficient factual matter, accepted as true, to \\u2018state a claim to relief that is plausible on its face.\\u2019\\u201D\\r\\nAshcroft v. Iqbal, 556 U.S. 662, 678 (2009) (quoting Bell Atl. Corp. v. Twombly, 550 U.S. 544, 570\\r\\n(2007)). Claims have \\u201Cfacial plausibility when the plaintiff pleads factual content that allows the\\r\\ncourt to draw the reasonable inference that the defendant is liable for the misconduct alleged.\\u201D Id.\\r\\nPlaintiffs must allege \\u201Cmore than labels and conclusions, and a formulaic recitation of the elements\\r\\nof a cause of action will not do.\\u201D Twombly, 550 U.S. at 555. While courts must accept well-pleaded\\r\\nfactual allegations as true, \\u201Cthreadbare recitals of a cause of action\\u2019s elements[] supported by mere\\r\\nconclusory statements\\u201D are not \\u201Centitled to the assumption of truth.\\u201D Iqbal, 556 U.S. at 663. A\\r\\ncomplaint must also \\u201Ccontain sufficient allegations of underlying facts to give fair notice and to\\r\\nenable the opposing party to defend itself effectively.\\u201D Levitt v. Yelp! Inc., 765 F.3d 1123, 1135\\r\\n(9th Cir. 2014) (quoting Eclectic Props. E., LLC v. Marcus & Millichap Co., 751 F.3d 990, 996 (9th\\r\\nCir. 2014)).\\r\\nIn evaluating a motion to dismiss, the court is \\u201Climited to the pleadings, documents\\r\\nincorporated-by-reference in the pleadings, and matters of which the court may take judicial notice.\\u201D\\r\\nIn re Apple Inc. Device Performance Litig., 386 F. Supp. 3d 1155, 1164 (N.D. Cal. April 22, 2019)\\r\\n(citation omitted). If the complaint cannot be saved by an amended pleading, leave to amend should\\r\\nnot be granted. In re Silicon Graphics, Inc. Sec. Litig., 183 F.3d 970, 991 (9th Cir. 1999).\\r\\n2 As used herein, \\u201CDecl.\\u201D refers to the Declaration of Paul M. Schoenhard in Support of\\r\\nStability AI\\u2019s Motion to Dismiss, filed concurrently herewith.\\r\\nIV. ARGUMENT\\r\\nA. The Court Should Dismiss Counts I And II to the Extent Plaintiffs Did Not\\r\\nRegister Their Copyrights Before Filing Suit.\\r\\nThe Supreme Court recently clarified that a copyright owner must register her copyrights\\r\\nbefore filing a claim for alleged infringement. Fourth Estate Public Benefit Corp. v. Wall-\\r\\nStreet.com, LLC, 139 S. Ct. 881, 886 (2019) (\\u201CRegistration occurs, and a copyright claimant may\\r\\ncommence an infringement suit, when the Copyright Office registers a copyright.\\u201D); see also 17\\r\\nU.S.C. \\u00A7 411(a) (\\u201C[N]o civil action for infringement of the copyright in any United States work shall\\r\\nbe instituted until preregistration or registration of the copyright claim has been made in accordance\\r\\nwith this title.\\u201D). The registration requirement is \\u201Cakin to an administrative exhaustion requirement\\r\\nthat the owner must satisfy before suing to enforce ownership rights.\\u201D Fourth Estate, 139 S. Ct. at\\r\\n887. Accordingly, to state a copyright infringement claim, a plaintiff \\u201Cmust plausibly allege . . . that\\r\\n[he] owns a valid copyright registration for [his] work.\\u201D Fisher v. Nissel, No. CV 21-5839, 2022\\r\\nWL 16961479 at *3 (C.D. Cal. Aug. 15, 2022) (citing Malibu Textiles, Inc. v. Label Lane Int\\u2019l, Inc.,\\r\\n922 F.3d 946, 951 (9th Cir. 2019)). Vicarious copyright infringement claims require the same\\r\\nshowing. See Perfect 10, Inc. v. Yandex N.V., 962 F. Supp. 2d 1146, 1158 (N.D. Cal. 2013)\\r\\n(\\u201C[V]icarious liability requires an underlying act of direct infringement\\u201D).\\r\\nHere, Plaintiffs present no allegations that McKernan or Ortiz registered any copyrighted\\r\\nworks before the Complaint was filed. See Compl. \\u00B6\\u00B6 29, 30 & passim. Accordingly, McKernan\\u2019s\\r\\nand Ortiz\\u2019s copyright infringement claims should be dismissed in their entirety. See, e.g., Fisher,\\r\\n2022 WL 16961479 (dismissing copyright infringement claim where complaint failed to \\u201Callege any\\r\\nfacts demonstrating Plaintiff had satisfied Section 411(a)\\u2019s prefiling registration requirement prior\\r\\nto asserting his copyright infringement claim\\u201D about particular works).\\r\\nMeanwhile, Plaintiffs\\u2019 allegations with respect to Andersen are limited to only 16 registered\\r\\ncollections, Compl. \\u00B6 28 & Exs. 1\\u201316, but even then, Plaintiffs do not identify which \\u201CWorks\\u201D from\\r\\nAndersen\\u2019s collections Defendants allegedly infringed. This falls far short of plausibly alleging that\\r\\nany (let alone each) of these works meets Section 411(a)\\u2019s registration requirement. See, e.g.,\\r\\nBespaq Corp. v. Haoshen Trading Co., No. 04-3698, 2005 WL 14841, at *2 (N.D. Cal. Jan. 3, 2005)\\r\\n(dismissing copyright claim under Section 411(a) because complaint \\u201Cd[id] not identify which\\r\\npreexisting works in the registered catalog have been infringed by the defendants\\u201D).\\r\\nTo the extent the Court wonders whether Plaintiffs\\u2019 error is simply one of inartful pleading,\\r\\nthe Stability Defendants submit that it is not. Indeed, there can be no doubt that Plaintiffs and their\\r\\ncounsel were well aware of the pre-filing registration requirement, as Plaintiffs affirmatively plead\\r\\nthat Andersen (but not McKernan or Ortiz) \\u201Ccomplied with the statutory requirements for\\r\\nregistration.\\u201D Compl. \\u00B6 28. Nor do McKernan or Ortiz actually have copyright registrations they\\r\\nmerely failed to plead. On this point, this Court may \\u201Ctake judicial notice of matters of public record\\r\\noutside the pleadings and consider them for purposes of the motion to dismiss.\\u201D Mir v. Little Co. of\\r\\nMary Hosp., 844 F.2d 646, 649 (9th Cir. 1988). And indeed, courts regularly take notice that the\\r\\nU.S. Copyright Office has or has not granted a plaintiff copyright registration for their works. See,\\r\\ne.g., Ricketts v. Haah, 2013 WL 3242947, at *2 (C.D. Cal. June 26, 2013) (taking judicial notice\\r\\nthat \\u201Caccording to the Copyright Office database, Plaintiffs have not registered any copyrights\\u201D);\\r\\nsee also, e.g., Wixen Music Publ., Inc. v. Triller, Inc., No. CV-20-10515, 2021 WL 1255190, at *3\\r\\n(C.D. Cal. Feb. 24, 2021) (\\u201CCopyright certificates are the type of documents that the court may\\r\\njudicially notice under Rule 201(b)(2).\\u201D) (collecting cases). Here, the Copyright Office\\u2019s records\\r\\nconfirm that neither McKernan nor Ortiz registered copyrights in any works prior to filing suit. See\\r\\nDecl. at \\u00B6\\u00B6 5, 6. Plaintiffs\\u2019 claims regarding unregistered works should be dismissed.\\r\\nThese faults are fatal to Plaintiffs\\u2019 copyright claims and cannot be cured, as \\u201Cpermitting\\r\\namendment to cure a claimant\\u2019s failure to register its copyright before suing would undermine the\\r\\nobjectives animating the Supreme Court\\u2019s decision in Fourth Estate.\\u201D Izmo, Inc. v. Roadster, Inc.,\\r\\nNo. 18-cv-06092, 2019 WL 2359228 at *2 (N.D. Cal. June 4, 2019); see also, e.g., Kifle v. Youtube\\r\\nLLC, 2021 WL 1530942, at *6 (N.D. Cal. Apr. 19, 2021) (\\u201CBy tying the registration requirement to\\r\\nwhen a \\u2018civil action\\u2019 is \\u2018instituted,\\u2019 the plain language of \\u00A7 411(a) refers to the beginning of a\\r\\nlawsuit, not the filing of an amended pleading.\\u201D) (collecting cases).\\r\\nAccordingly, the direct and vicarious copyright infringement claims of Plaintiffs McKernan,\\r\\nOrtiz and Andersen should be dismissed with prejudice and without leave to amend. See, e.g.,\\r\\nZeleny v. Burge, 2022 WL 3013138 (C.D. Cal. July 1, 2022) (dismissing with prejudice where\\r\\nplaintiffs failed to register their copyrights before initiating suit); New Day Worldwide Inc. v. Swift,\\r\\n2020 WL 6050700 (C.D. Cal. July 21, 2020) (similar); Kiely v. Universal Music Grp., 2020 WL\\r\\n4037161 (C.D. Cal. Mar. 5, 2020) (similar); see also Bonin v. Calderon, 59 F.3d 815, 845 (9th Cir.\\r\\n1995) (futility is sufficient grounds to deny leave to amend).\\r\\nB. Count I Should be Dismissed to the Extent it is Based on Output Images.\\r\\nIndependently, Plaintiffs\\u2019 direct copyright infringement claim also fails to the extent it is\\r\\nbased on allegedly infringing images generated by users of Stable Diffusion or DreamStudio (i.e.,\\r\\n\\u201Coutput images\\u201D). To allege direct copyright infringement, Plaintiffs must sufficiently allege\\r\\nunlawful appropriation and copying. Skidmore v. Led Zeppelin, 952 F.3d 1051, 1064 (9th Cir. 2020)\\r\\n(en banc). Unlawful appropriation requires a plaintiff to allege that there are \\u201Csubstantial\\r\\nsimilarities\\u201D between the allegedly copied and allegedly infringing works. Id. But Plaintiffs\\u2019\\r\\noutput-image-based allegations do not meet this standard, and Plaintiffs readily admit that output\\r\\nimages from Stable Diffusion can never do so.\\r\\nAs an initial matter, Plaintiffs fail to identify a single allegedly infringing output image, let\\r\\nalone one that is substantially similar to any of their copyrighted works. Much to the contrary,\\r\\nPlaintiffs affirmatively plead that \\u201C[i]n general, none of the Stable Diffusion output images\\r\\nprovided in response to a particular Text Prompt is likely to be a close match for any specific\\r\\nimage in the training data.\\u201D Compl. \\u00B6 93. Where, as here, Plaintiffs fail to make \\u201Cany allegations\\r\\nof even representative infringements,\\u201D and themselves allege that there is not substantial similarity\\r\\nbetween their works and any output images, the Complaint fails to allege direct copyright\\r\\ninfringement. Becton, Dickinson & Co. v. Cytek Biosciences Inc., 2020 WL 1877707, at *6 (N.D.\\r\\nCal. Apr. 15, 2020); see also, e.g., Blizzard Ent., Inc. v. Lilith Games (Shanghai) Co., 149 F. Supp.\\r\\n3d 1167, 1175 (N.D. Cal. 2015) (dismissing direct copyright infringement claim where Plaintiffs\\r\\nprovide no \\u201Crepresentative infringement,\\u201D instead \\u201Cmak[ing] only general allegations\\u201D that\\r\\n\\u201C\\u2018[m]any\\u2019, if not all, of\\u201D allegedly infringing works \\u201Care copied or derived from\\u201D Plaintiffs\\u2019 works);\\r\\nsee generally, e.g., Carlini v. Paramount Pictures Corp., No. 21-55213 (9th Cir. Mar. 2, 2022)\\r\\n(unpublished) (dismissing for failure to allege unlawful appropriation).\\r\\nNor does Plaintiffs\\u2019 theory that all output images are somehow \\u201Cnecessarily\\u2026derivative\\r\\nwork[s]\\u201D (Compl. \\u00B6 90) save their claim. In an apparent effort to upend almost all artistic creation,\\r\\nPlaintiffs\\u2019 apparent theory would require finding that any work is a \\u201Cderivative work\\u201D under the\\r\\nCopyright Act simply because it makes reference in any way whatsoever to a prior work. But the\\r\\nNinth Circuit has rejected this \\u201Cnovel proposition,\\u201D reiterating that \\u201Csubstantial similarity\\u201D is\\r\\nrequired to show infringement. Litchfield v. Spielberg, 736 F.2d 1352, 1357 (9th Cir. 1984); see\\r\\nalso Vault Corp v. Quaid Software Ltd., 847 F.2d 255, 267 (5th Cir. 1988) (\\u201CTo constitute a\\r\\nderivative work, \\u2018the infringing work must incorporate in some form a portion of the copyrighted\\r\\nwork\\u2019. . . [and] must be substantially similar to the copyrighted work.\\u201D) (quoting Litchfield, 736\\r\\nF.2d at 1357). Plaintiffs\\u2019 theory must similarly be rejected.\\r\\nCount I should be dismissed as to all Plaintiffs to the extent it is based on output images.3\\r\\nC. Count II Should be Dismissed Because Plaintiffs Do Not Adequately Plead\\r\\nUnderlying Direct Infringement.\\r\\nPlaintiffs\\u2019 vicarious copyright infringement claim independently fails on multiple fronts. To\\r\\nbe liable for vicarious copyright infringement, a party must \\u201Callege that the defendant has (1) the\\r\\nright and ability to supervise the infringing conduct and (2) a direct financial interest in the infringing\\r\\nactivity.\\u201D Perfect 10, Inc. v. Visa Serv. Ass\\u2019n, 494 F.3d 788, 802 (9th Cir. 2007); see also id. (\\u201COne\\r\\n. . . infringes vicariously by profiting from direct infringement while declining to exercise a right to\\r\\nstop or limit it.\\u201D) (citing Metro-Goldwin-Mayer Studios, Inc. v. Grokster, Ltd., 545 U.S. 913, 930\\r\\n(2005)). In short, \\u201Cvicarious liability requires an underlying act of direct infringement.\\u201D Perfect 10,\\r\\nInc. v. Yandex N.V., 962 F. Supp. 2d at 1158 (granting summary judgment on vicarious infringement\\r\\nclaim where there was no underlying direct infringement). Plaintiffs fail to plead any plausible facts\\r\\nto satisfy any element of their vicarious copyright infringement claim.\\r\\nFundamentally, Plaintiffs\\u2019 vicarious copyright infringement claim fails for the same reason\\r\\n3 Any future allegation that a specific output image is substantially similar to a training image\\r\\nwould contradict Plaintiffs\\u2019 current allegations that there is no substantial similarity. See Compl.\\r\\n\\u00B6 93. \\u201CA party cannot amend pleadings to \\u2018directly contradict[t] an earlier assertion made in the\\r\\nsame proceeding.\\u2019\\u201D Airs Aromatics, LLC v. Victoria\\u2019s Secret Stores Brand Mgmt., Inc., 744 F.3d\\r\\n595, 600 (9th Cir. 2014) (citation omitted; alteration in original); Parziale v. HP, Inc., 2020 WL\\r\\n5798274 (N.D. Cal. Sept. 29, 2020) (finding leave to amend would be futile when it requires\\r\\n\\u201Cimpermissibl[e] contradict[ions of] Plaintiff\\u2019s prior pleadings\\u201D) (collecting cases).\\r\\nas their direct infringement claim: Plaintiffs do not plead any single, specific act of direct copyright\\r\\ninfringement for which either of the Stability Defendants is allegedly vicariously liable. Although\\r\\nPlaintiffs vaguely allege the existence of one or more \\u201CImposters\\u201D who have allegedly created\\r\\n\\u201CFakes\\u201D (Compl. \\u00B6 171), Plaintiffs fail to identify any particular output image that is substantially\\r\\nsimilar to any of their copyrighted works (registered or otherwise).4 Instead, Plaintiffs affirmatively\\r\\nplead a lack of substantial similarity: \\u201C[i]n general, none of the Stable Diffusion output images\\r\\nprovided in response to a particular Text Prompt is likely to be a close match for any specific\\r\\nimage in the training data.\\u201D Compl. \\u00B6 93. Plaintiffs\\u2019 failure to plead a specific act of direct\\r\\ninfringement, and their affirmative allegation that there is not substantial similarity, must doom their\\r\\nvicarious copyright infringement claim. See Becton, Dickinson & Co. v. Cytek Biosciences Inc.,\\r\\n2020 WL 1877707, at *6; see also Carlini, No. 21-55213. Like Plaintiffs\\u2019 direct copyright\\r\\ninfringement claim, these failures are not curable. See Airs Aromatics, LLC v. Victoria\\u2019s Secret\\r\\nStores Brand Mgmt., Inc., 744 F.3d 595, 600 (9th Cir. 2014); Parziale v. HP, Inc., 2020 WL\\r\\n5798274 (N.D. Cal. Sept. 29, 2020).\\r\\nPlaintiffs also fail to make any effort to allege facts that either of the Stability Defendants\\r\\nhas (1) \\u201Cthe right and ability to supervise the infringing conduct\\u201D or (2) a \\u201Cdirect financial interest\\r\\nin the infringing activity.\\u201D Perfect 10, 494 F.3d at 802. Nor do Plaintiffs sufficiently allege that\\r\\nthere is a \\u201Ccausal link between the infringement of [their] own copyrighted works and any profit to\\u201D\\r\\nthe Stability Defendants for purposes of the direct financial interest element. Perfect 10, Inc. v.\\r\\nGiganews, Inc., 847 F.3d 657, 673 (9th Cir. 2017). This element requires plausible allegations of a\\r\\ncausal link between \\u201Cthe infringement in this case\\u201D (i.e., of output images that allegedly infringe on\\r\\nPlaintiffs\\u2019 protected works) and a financial benefit to the Stability Defendants. Id. (citation omitted).\\r\\nWithout allegations of infringing outputs, there is nothing to \\u201Clink.\\u201D And because Plaintiffs cannot\\r\\nallege infringing outputs without contradicting their current allegations, see supra, they can never\\r\\nsatisfy these elements either. Count II should be dismissed with prejudice.\\r\\n4 Plaintiffs also do not allege that Imposter-generated output images are the primary use case\\r\\nof Stable Diffusion or DreamStudio, or the extent to which output images are Imposter-generated.\\r\\nD. Count III Should be Dismissed for Failure to Plead DMCA Violations.\\r\\nPlaintiffs\\u2019 DMCA claim is also fatally deficient. In relevant part, the DMCA prohibits\\r\\n(1) intentionally removing or altering copyright management information (CMI), (2) distributing\\r\\nCMI with knowledge that the CMI has been removed or altered, and (3) distributing works with the\\r\\nknowledge that CMI has been removed or altered, while knowing or having reasonable grounds to\\r\\nknow that doing so will \\u201Cinduce, enable, facilitate, or conceal an infringement of any\\u201D copyright.\\r\\n17 U.S.C. \\u00A7 1202(b); Stevens v. Corelogic, 899 F.3d 666, 673 (9th Cir. 2018).\\r\\nHere, Plaintiffs fail to point to a single, specific example of one of their works whose CMI\\r\\nwas altered or removed by the Stability Defendants or to what specific CMI was removed from such\\r\\nspecific work(s). This alone is grounds for dismissal. See, e.g., Free Speech Sys., LLC v. Menzel,\\r\\n390 F. Supp. 3d 1162, 1175 (N.D. Cal. 2019) (Orrick, J.) (dismissing a DMCA claim where the\\r\\nplaintiff failed to \\u201Cprovid[e] any facts to identify which photographs had CMI removed or to\\r\\ndescribe what the removed or altered CMI was\\u201D).\\r\\nPlaintiffs have also not alleged either prong of Section 1202\\u2019s \\u201Cdouble-scienter requirement\\u201D\\r\\nbeyond conclusory statements of the elements. Plaintiffs do not make any plausible factual\\r\\nallegations that the Stability Defendants were aware Plaintiffs\\u2019 allegedly copyrighted works were\\r\\nscraped, let alone that either of the Stability Defendants \\u201Cintentionally removed CMI from [their]\\r\\nWorks or . . . distributed [their] works knowing that CMI had been removed.\\u201D Harrington v.\\r\\nPinterest, Inc., 2022 WL 4348460, at *5 (N.D. Cal. Sept. 19, 2022) (dismissing DMCA claim where\\r\\nplaintiff failed to allege that \\u201CPinterest was even aware that any specific Work existed on its\\r\\nPlatform,\\u201D or \\u201Cknew that any of his Works contained CMI at the time they were uploaded\\u201D). Nor\\r\\ncould they do so when Plaintiffs affirmatively plead that Stability AI allegedly scraped over five\\r\\nbillion images from the Internet. Compl. \\u00B6 57. As for whether the Stability Defendants knew, or\\r\\nhad reasonable grounds to know, that their actions would \\u201Cinduce, enable, facilitate, or conceal an\\r\\ninfringement,\\u201D Plaintiffs have failed to \\u201Cmake an affirmative showing, such as by demonstrating a\\r\\npast \\u2018pattern of conduct\\u2019 or \\u2018modus operandi,\\u2019 that the defendant was aware or had reasonable\\r\\ngrounds to be aware of the probable future impact of its actions.\\u201D Stevens, 899 F.3d at 673-74.\\r\\nPlaintiffs have made no allegations, for example, that the Stability Defendants were aware that\\r\\nPlaintiffs had a practice of including CMI metadata in their works. See Harrington, 2022 WL\\r\\n4348460, at *5.5 Moreover, Plaintiffs cannot satisfy the double scienter requirement because, as\\r\\nhere, \\u201Cthere can be no knowledge of any removal or alteration if there is no underlying removal or\\r\\nalteration.\\u201D Falkner v. GM, LLC, 393 F. Supp. 3d 927, 939 (C.D. Cal. 2018).\\r\\nNor could Plaintiffs\\u2019 DMCA claim be cured by pointing to a specific output image or CMI.\\r\\nDMCA claims require significantly more than substantial similarity\\u2014they require CMI to be\\r\\nremoved from a plaintiff\\u2019s actual work or an identical copy of their work. See Dolls Kill, Inc. v.\\r\\nZoetop Business Co., 2022 WL 16961477, at *4 (C.D. Cal. Aug. 25, 2022) (\\u201C[C]ourts have found\\r\\nthat no DMCA violation exists where\\u201D the work from which CMI was removed and the distributed\\r\\nwork \\u201Care not identical.\\u201D) (citation omitted). Here, however, Plaintiffs affirmatively allege that\\r\\noutput images are not even substantially similar to their copyrighted works (let alone identical copies\\r\\nthereof). See Compl. \\u00B6 93. Moreover, even assuming CMI data is absent from Stable Diffusion\\u2019s\\r\\nor DreamStudio\\u2019s output images, such an absence on output images (which are neither identical\\r\\ncopies nor copies at all) does not constitute \\u201Cremoval or alteration\\u201D of CMI. See id.; see also\\r\\nFaulkner Press, L.L.C. v. Class Notes, L.L.C., 756 F. Supp. 2d 1352, 1359 (N.D. Fla. 2010) (granting\\r\\njudgment as a matter of law to defendant where \\u201Cnothing was removed from the copyrighted works\\u201D,\\r\\nbut instead \\u201Cinformation from [plaintiff\\u2019s] courses was allegedly copied into a different form and\\r\\nthen incorporated into the note packages\\u201D). Plaintiffs\\u2019 claim should be dismissed with prejudice.\\r\\nSee Dolls Kill, 2022 WL 16961477, at *4 (dismissing DMCA claim with prejudice where \\u201CPlaintiff\\r\\ncannot cure the DMCA claim without contradicting the current allegations that support its copyright\\r\\ninfringement claim\\u201D).\\r\\nE. Plaintiffs\\u2019 Right of Publicity Claims are Preempted.\\r\\nPlaintiffs\\u2019 right-of-publicity claims are expressly preempted by the federal Copyright Act.\\r\\nThe Copyright Act provides the sole remedy for claims invoking rights \\u201Cequivalent to any of the\\r\\n5 Plaintiffs do not even allege plausible facts to suggest that the Stability Defendants were\\r\\naware that any Imposters (or anyone else) created or wanted to create output images based on \\u201Cin\\r\\nthe style of Sarah Andersen,\\u201D \\u201Cin the style of Kelly McKernan,\\u201D or \\u201Cin the style of Karla Ortiz\\u201D Text\\r\\nPrompts. Without such allegations, it is even more implausible that either of the Stability\\r\\nDefendants had the requisite double scienter.\\r\\nexclusive rights within the general scope of copyright . . . in works of authorship.\\u201D 17 U.S.C.\\r\\n\\u00A7 301(a). Specifically, Section 301 of the Copyright Act seeks \\u201Cto preempt and abolish any rights\\r\\nunder the common law or statutes of a State that are equivalent to copyright\\u201D and that \\u201Cextend to\\r\\nworks, so long as the rights fall within the scope of the Federal copyright law.\\u201D Maloney v. T3Media,\\r\\nInc., 853 F.3d 1004, 1010 (9th (quoting H.R. Rep. No. 94-1476, at 130 (1976)) (internal quotations\\r\\nomitted). In short, plaintiffs cannot, \\u201Cby miscasting their causes of action, secure the equivalent of\\r\\ncopyright protection under guise of State law.\\u201D Editorial Photocolor Archives, Inc. v. Granger\\r\\nCollection, 61 N.Y.2d 517, 523 (N.Y. 1984). So if a claim is different from a copyright infringement\\r\\nclaim in name only, but otherwise falls under federal copyright law\\u2019s purview, it is preempted.\\r\\nThe Ninth Circuit prescribes a two-part test for whether state-law claims are preempted by\\r\\nSection 301. See Maloney, 853 F.3d at 1010. First, courts consider \\u201Cwhether the \\u2018subject matter\\u2019\\r\\nof the state law claim falls within the subject matter of copyright as described in 17 U.S.C. \\u00A7\\u00A7 102\\r\\nand 103.\\u201D Laws v. Sony Music Ent., Inc., 448 F.3d 1134, 1137 (9th Cir. 2006). Second, assuming\\r\\nit does, courts \\u201Cmust determine whether the rights asserted under state law are equivalent to the\\r\\nrights contained in 17 U.S.C. \\u00A7 106, which articulates the exclusive rights of copyright holders.\\u201D Id.\\r\\nat 1138. Where, as here, right of publicity claims satisfy the Ninth Circuit\\u2019s two-part test, they must\\r\\nbe dismissed with prejudice. See Maloney, 853 F.3d at 1011, 1020.\\r\\n1. Plaintiffs\\u2019 claims fall within the subject matter of copyright.\\r\\nThe first prong of the preemption test is satisfied if the \\u201Csubject matter of the state law claim\\r\\nfalls within the subject matter of copyright.\\u201D Laws, 448 F.3d at 1137. This inquiry focuses on\\r\\nwhether the claims concern one of the \\u201Coriginal works of authorship fixed in any tangible medium\\r\\nof expression\\u201D in Section 102 of the Act, including \\u201Cpictorial, graphic, and sculptural works.\\u201D Id.;\\r\\n17 U.S.C. \\u00A7\\u00A7 101, 102(a); see also Maloney, 853 F.3d at 1011. While a copyrightable work by\\r\\ndefinition falls within the subject matter of copyright, copyrightability is not a necessary prerequisite\\r\\nfor preemption as \\u201Cthe shadow actually cast by the Act\\u2019s preemption is notably broader than the\\r\\nwing of its protection.\\u201D U.S. ex. Rel. Berge v. Bd. of Tr. of the Univ. of Ala., 104 F.3d 1453, 1463\\r\\n(4th Cir. 1997). In short, claims that concern matters broadly within copyright\\u2019s subject matter,\\r\\neven if styled as publicity-right claims, satisfy the first prong and support a finding of preemption.\\r\\nHere, the subject matter of Plaintiffs\\u2019 right of publicity claims squarely falls within the\\r\\nsubject matter of copyright. Plaintiffs\\u2019 works constitute \\u201Cpictorial, graphic and sculptural works\\u201D\\r\\nor other \\u201Cfixed\\u201D works of authorship, and are therefore clearly subject matter under the Copyright\\r\\nAct. See 17 U.S.C. \\u00A7 101. Plaintiffs allege that this case involves derivative works stemming from\\r\\nthese copyrighted works; specifically, that (1) Stable Diffusion and DreamStudio are somehow\\r\\nderivative works containing compressed copies of Plaintiffs\\u2019 works,6 and (2) Stable Diffusion and\\r\\nDreamStudio can be used to create output images that are somehow also \\u201Cnecessarily [] derivative\\r\\nwork[s].\\u201D7 Compl. \\u00B6\\u00B6 18, 95. These purported derivative works clearly fall within the subject matter\\r\\nof copyright. See 17 U.S.C. \\u00A7 103(a) (\\u201CThe subject matter of copyright . . . includes compilations\\r\\nand derivative works.\\u201D). Plaintiffs therefore allege that all of the works involved in this dispute fall\\r\\nwithin the subject matter of copyright.\\r\\nLikely seeking to avoid preemption, Plaintiffs attempt to re-cast their right of publicity\\r\\nclaims as ones invoking the use of their names in their statutory claim and their \\u201Cnames and artistic\\r\\nidentities\\u201D in their common-law claim. See, e.g., Compl. \\u00B6\\u00B6 202-212, 214-222. These attempts\\r\\nshould fail. As a threshold matter, courts routinely reject attempts to redefine the subject matter of\\r\\na right of publicity claim as a plaintiff\\u2019s \\u201Cpersona\\u201D rather than the subject matter of the Copyright\\r\\nAct when the persona is embodied in a copyrighted work. In Jules Jordan Video, Inc., for example,\\r\\nan actor claimed that defendants violated his right of publicity by (1) reproducing, counterfeiting,\\r\\nand selling copies of his films that included his name, likeness, photograph, and voice; and (2) by\\r\\nusing his name and likeness on the counterfeit DVD covers. Jules Jordan Video, Inc. v. 144942\\r\\nCanada, Inc., 617 F.3d 1146, 1153-54 (9th Cir. 2010). The Court rejected these contentions,\\r\\n6 To be clear, Plaintiffs\\u2019 allegations in this regard are untrue, reflecting their fundamental\\r\\nmisunderstanding of Stability AI\\u2019s technology.\\r\\n7 Plaintiffs\\u2019 allegations in this regard are also untrue and, indeed, belied by Plaintiffs\\u2019 own\\r\\nallegations. Plaintiffs allege that \\u201C[t]he system struggles with a Text Prompt like \\u2018a dog wearing a\\r\\nbaseball cap while eating ice cream\\u2019 because, though there are many photos of dogs, baseball caps,\\r\\nand ice cream among the Training Images (and the latent images derived from them) there are\\r\\nunlikely to be any Training Images that combine all three.\\u201D Compl. \\u00B6 97. Thus, according to the\\r\\nComplaint, the output image of a dog wearing a baseball cap while eating ice cream is not derivative\\r\\nof any original work.\\r\\nreaching the \\u201Cobvious conclusion\\u201D that the \\u201Cfactual basis of [the plaintiff\\u2019s] right of publicity claim\\r\\nwas the unauthorized reproduction of his performance on the DVDs,\\u201D which fell within the subject\\r\\nmatter of copyright. Id. at 1154. The Court also rejected allegations that the plaintiff\\u2019s name and\\r\\nlikeness were appropriated on the DVD covers because the pictures on the DVD covers were \\u201Cstill\\r\\nshots\\u201D of the copyrighted performance. Id. In short, the Court looked beyond the illusory allegations\\r\\nof name and persona appropriation to the actual subject matter of the plaintiff\\u2019s claim.\\r\\nThe Court should similarly reject Plaintiffs\\u2019 allegations of name and \\u201Cartistic identity\\u201D\\r\\nappropriation here.\\r\\nFirst, to the extent that Plaintiffs\\u2019 claims can be read to allege the use of their \\u201Cnames\\u201D and\\r\\n\\u201Cartistic identities,\\u201D their claims are still preempted because they do not allege that something \\u201Cmore\\r\\npersonal than any work of authorship\\u201D (which could be outside the subject matter of copyright) was\\r\\nmisappropriated. Laws, 448 F.3d at 1141 (citation omitted). As explained infra (Section F(a)),\\r\\nPlaintiffs do not even invoke the subject matter of a right of publicity claim, i.e., their \\u201Cvery identity\\r\\nor persona[s] . . . as [] human being[s].\\u201D Downing v. Abercrombie & Fitch, 265 F.3d 994, 1004 (9th\\r\\nCir. 2001) (citation omitted). Regardless, Plaintiffs\\u2019 \\u201Cartistic identities\\u201D are fixed in a \\u201Ctangible\\r\\nmedium of expression\\u201D\\u2013i.e., Plaintiffs\\u2019 works that elucidate their style. 17 U.S.C. \\u00A7 101. Plaintiffs\\r\\nconcede as much in the Complaint. They note that their \\u201Cnames and artistic identities . . . extend to\\r\\nPlaintiffs\\u2019 entire corpus of work\\u201D (Compl. \\u00B6 215), and they bring (insufficient) copyright\\r\\ninfringement claims based on the very same works that they allege appropriate their \\u201Cartistic\\r\\nidentities.\\u201D Plaintiffs\\u2019 allegations of name appropriation do not change this analysis. Courts\\r\\nregularly reject publicity-right claims based on allegations of name appropriation where, like here,\\r\\nthe claim is ultimately based on a copyrighted work. See, e.g., Maloney, 853 F.3d at 1008, 1016\\r\\n(dismissing claim alleging name and likeness appropriation where plaintiffs\\u2019 \\u201Cpublicity-right claim\\r\\nis little more than a thinly disguised copyright claim\\u201D). In short, where, as here, the \\u201Centirety of the\\r\\nallegedly misappropriated [identity attribute] is contained within a copyrighted medium,\\u201D then\\r\\n\\u201Cwhat is put forth [] as protectable is not \\u2018more personal than any work of authorship\\u201D and falls in\\r\\nthe subject matter of copyright. Laws, 448 F.3d at 1141 (emphasis altered).\\r\\nSecond, and alternatively, Plaintiffs\\u2019 claims are also within the subject matter of copyright\\r\\nto the extent they involve anything more than Plaintiffs\\u2019 specific works of art. Besides Plaintiffs\\u2019\\r\\nworks themselves, Plaintiffs\\u2019 claims of \\u201Cartistic identity\\u201D appropriation could only refer to the\\r\\nappropriation of their artistic styles. See Compl. \\u00B6 215 (\\u201CPlaintiffs\\u2019 names and artistic identities. . .\\r\\nextend to Plaintiffs\\u2019 entire corpus of work and allow consumers and the public to identify work \\u2018in\\r\\nthe style of\\u2019 Plaintiffs.\\u201D); compare Compl. \\u00B6 212 (alleging a \\u201Cmarket flooded with AI-generated\\r\\ncopies associated with Plaintiffs\\u2019 names and artistic styles\\u201D) to id. \\u00B6 222 (alleging a \\u201Cmarket flooded\\r\\nwith AI-generated copies built on Plaintiffs\\u2019 unique artistic identities\\u201D). True, \\u201Cartistic style\\u201D is not\\r\\nprotected by the Copyright Act. \\u201CThe law of copyright does not protect ideas, but only the particular\\r\\nexpression of them.\\u201D Jewelry 10, Inc. v. Elegance Trading Co., No. 88-cv-1320, 1991 WL 144151,\\r\\nat *4 (S.D.N.Y. July 20, 1991). In the context of works of art, \\u201Cthis principle can refer to elements\\r\\nof style and technique,\\u201D which are \\u201Cideas implicit in a work.\\u201D Id. (emphasis added); see also, id.\\r\\n(explaining that a \\u201Cpainter who develops a style or technique. . . cannot prevent others from adopting\\r\\nthose ideas in their work\\u201D). Perhaps this point of law is why Plaintiffs attempt to repackage their\\r\\ncopyright claims (which Plaintiffs affirmatively allege lack substantial similarity) as publicity\\r\\nclaims based on their styles. But such attempt fails to state a claim here, too. Although \\u201C\\u2018ideas\\u2019 do\\r\\nnot enjoy copyright protection, courts have consistently held that they fall within the \\u2018subject matter\\r\\nof copyright\\u2019 for the purposes of preemption analysis.\\u201D Entous v. Viacom Int\\u2019l, Inc., 151 F. Supp.\\r\\n2d 1150, 1159 (C.D. Cal. 2001) (collecting cases); see also U.S. ex. Rel. Berge., 104 F.3d at 1463.\\r\\nThird, Plaintiffs do not allege their identities were commercially exploited via advertising or\\r\\nin merchandise (which could potentially take their claims out of the subject matter of copyright).\\r\\n\\u201C[T]he distinction pertinent to the preemption of a publicity-right claim is . . . the way in which\\r\\none\\u2019s name or likeness is affected by the use of the copyrighted work.\\u201D Maloney, 853 F.3d at 1013\\r\\n(emphasis altered). When, for example, pictures of surfers are included in a clothing catalog, and\\r\\nthat catalog essentially \\u201Csuggest[s] that the surfers had endorsed\\u201D the clothing, those surfers\\r\\n\\u201Csustained injury to their individual personas\\u201D through commercial exploitation of their likenesses.\\r\\nId. at 1013\\u201314 (emphasis altered) (discussing Downing, 264 F.3d 994). But when a publicity right\\r\\nclaim does not target \\u201Cnon-consensual use of one\\u2019s name or likeness on merchandise or in\\r\\nadvertising,\\u201D and instead merely targets someone\\u2019s \\u201Clikeness [that] has been captured in a\\r\\ncopyrighted artistic visual work . . . being distributed for personal use,\\u201D that person has not sustained\\r\\ninjury to their persona in a way that escapes preemption. Id. at 1010 (emphasis altered).8\\r\\nHere, Plaintiffs do not sufficiently allege that their identities were used on merchandise or\\r\\nin advertising, so their claims remain within the subject matter of copyright. They make no\\r\\nallegations about merchandise, and, as described infra at 22, the advertising allegations are fatally\\r\\nconclusory. Even assuming the least conclusory of those allegations are plausible factual allegations\\r\\n(which they are not), Plaintiffs\\u2019 allegations are still insufficient. Namely, Plaintiffs allege that: (1)\\r\\nDefendants advertised art \\u201Cin the style\\u201D of Plaintiffs\\u2019 work; and (2) Defendants \\u201Cadvertised their\\r\\nAI\\u2019s ability to copy or generate work in the artistic style that Plaintiffs popularized in order to sell\\r\\nDefendants\\u2019 products and services.\\u201D Compl. \\u00B6 205; see also Compl. \\u00B6 208, 221 (similar). The first\\r\\nallegation (which is devoid of any factual support in the Complaint) ultimately \\u201Ctarget[s] the display\\r\\nand distribution\\u201D of what Plaintiffs allege are derivative works\\u2013i.e., targets the \\u201Ccontrol of the\\r\\nartistic works themselves.\\u201D Maloney, 853 F.3d at 1016 n.9 & 2011 (emphasis altered). And the\\r\\nsecond does not change that fact. Critically, Plaintiffs point to no single advertisement whatsoever\\r\\nthat used any of their specific names or \\u201Cartistic identities\\u201D that would be sufficient to allegedly\\r\\ninjure their \\u201Cpersonas.\\u201D Cf. Downing, 265 F.3d at 999-1000 (finding athletes\\u2019 personas injured when\\r\\ntheir likenesses were used in a clothing catalog to sell t-shirts). So there is nothing to potentially\\r\\ntake their claims out of the subject matter of copyright.\\r\\nMoreover, to the extent that Plaintiffs\\u2019 allegations rely on the ability to type names as Text\\r\\nPrompts (or generally advertising the ability to do so), these are plainly insufficient to injure\\r\\nPlaintiffs\\u2019 personas\\u2014if it were otherwise, the ability to enter any name into a Google search would\\r\\nviolate every human\\u2019s publicity rights. And to the extent that Plaintiffs\\u2019 Complaint can be construed\\r\\nto allege that the Stability Defendants used Plaintiffs\\u2019 names and \\u201Cartistic identities\\u201D to sell\\r\\nanything, it would be in relation to the output that Plaintiffs call derivative works. But courts\\r\\nregularly find that using names or other identity attributes in connection with advertising the\\r\\n8 The fact that Plaintiffs\\u2019 case involves allegedly derivative artwork instead of photographs\\r\\ndoes not render Maloney\\u2019s analysis irrelevant. See Maloney, 853 F.3d at 1013 (\\u201C[O]ur precedents\\r\\nclarify that the distinction pertinent to the preemption of a publicity-right claim is not the type of\\r\\ncopyrightable work at issue.\\u201D) (emphasis altered).\\r\\ndistribution of copyrightable works does not exploit identity or escape preemption. See, e.g.,\\r\\nMelendez v. Sirius XM Radio, Inc., 2021 WL 2593471, at *5 (S.D.N.Y. June 24, 2021), aff\\u2019d, 50\\r\\nF.4th 294 (2d Cir. 2022) (dismissing a claim alleging misappropriation of voice, name, and identity\\r\\nwhere the alleged advertising use is \\u201Cexploitation or promotion of the work itself, for its own value,\\r\\nrather than an exploitation of the Plaintiff\\u2019s identity\\u201D).\\r\\nFourth, Plaintiffs\\u2019 alleged injury in their right of publicity claims show that the subject\\r\\nmatter of their claims fall within the subject matter of the Copyright Act. Crucially, Plaintiffs\\u2019\\r\\nasserted reputational injuries in their publicity-right claims relate solely to a \\u201Cmarket flooded with\\r\\nAI-generated copies\\u201D and \\u201Cknock-off images generated from Plaintiffs\\u2019 work.\\u201D Compl. \\u00B6\\u00B6 212, 222.\\r\\nIf anything, these would be copyright injuries stemming from alleged (though, as above, legally\\r\\ninsufficient) copyright infringement. Indeed, it is the very same circumstance that Plaintiffs\\r\\n(insufficiently) complain of in their vicarious copyright infringement claim. See, e.g., Compl.\\r\\n\\u00B6 171\\u2013173 (alleging that \\u201CImposters\\u201D can use Defendants\\u2019 products to create \\u201CFakes\\u201D that \\u201Ccan pass\\r\\nas original works by that artist\\u201D and that have been sold online). By Plaintiffs\\u2019 own allegations, this\\r\\nis a case in which \\u201Cplaintiffs [are] seeking to use the right of publicity simply to prevent \\u2018publication\\u2019\\r\\nof an artistic, visual work,\\u201D which places their claims in the subject matter of copyright, rather than\\r\\none in which \\u201Cplaintiffs sustained injury to their individual \\u2018personas\\u2019 because their likenesses were\\r\\nexploited commercially without their consent,\\u201D which does not. Maloney, 853 F.3d at 1013.\\r\\nBecause Plaintiffs\\u2019 right of publicity claims target and ultimately seek to control the creation,\\r\\ndistribution and\\/or display of allegedly derivative works (or works somehow allegedly reflecting\\r\\nPlaintiffs\\u2019 alleged artistic styles), they fall within the subject matter of copyright.\\r\\n2. Plaintiffs\\u2019 claims seek to protect \\u201Crights\\u201D that are equivalent to the\\r\\nexclusive rights of copyright holders.\\r\\nPlaintiffs\\u2019 right of publicity claims also satisfy the second prong of the preemption analysis.\\r\\n\\u201CTo survive preemption, the state cause of action must protect rights which are qualitatively different\\r\\nfrom the copyright rights.\\u201D Laws, 448 F.3d at 1143 (citation omitted). Stated differently, a claim is\\r\\npreempted if the \\u201Calleged appropriation\\u201D is \\u201Cequivalent to rights within the general scope of\\r\\ncopyright as specified by section 106 of the Copyright Act.\\u201D Id. Such rights include the \\u201C\\u2018exclusive\\r\\nrights\\u2019 to display, perform, reproduce, or distribute copies of a copyrighted work, to authorize others\\r\\nto do those things, and to prepare derivative works based upon the copyrighted work.\\u201D Maloney,\\r\\n853 F.3d at 1010 (citing 17 U.S.C. \\u00A7 106).\\r\\nPlaintiffs\\u2019 claims assert rights equivalent to those enumerated in 17 U.S.C. \\u00A7 106 and are\\r\\npreempted because they have no \\u201Cextra element\\u201D beyond copyright law. Through their right of\\r\\npublicity claims, Plaintiffs seek to control the creation, distribution and\\/or display of allegedly\\r\\nderivative works to avoid \\u201Ca proliferation of AI-generated art\\u201D and \\u201Ca market flooded with AI-\\r\\ngenerated copies\\u201D of their art. See Compl. \\u00B6\\u00B6 212, 222, supra at 16. In other words, they seek to\\r\\nprotect exactly the same kind of rights already protected by the Copyright Act and to rectify exactly\\r\\nthe same kind of alleged injuries protectable by copyright law, which warrants preemption. See,\\r\\ne.g., Maloney, 853 F.3d at 1019 (holding second preemption analysis prong satisfied where plaintiffs\\r\\n\\u201Cdo not identify any use of their likenesses independent of the display, reproduction, and distribution\\r\\nof the copyrighted material in which they are depicted\\u201D); Laws, 448 F.3d at 1144 (second prong met\\r\\nwhere \\u201Cthe underlying nature of [plaintiff\\u2019s] . . . claims is part and parcel of a copyright claim\\u201D).9\\r\\nBecause the subject matter of Plaintiffs\\u2019 publicity-right claims fall within the subject matter\\r\\nof copyright and seek to protect rights equivalent to those in Section 106 of the Copyright Act, they\\r\\nare preempted and should be dismissed.\\r\\nF. The Court Should Dismiss Plaintiffs\\u2019 Right of Publicity Claims for Failure to\\r\\nState a Claim upon Which Relief Can Be Granted.\\r\\nIndependently, Plaintiffs\\u2019 right of publicity claims fail because they do not satisfy the\\r\\nelements of such claims. The right of publicity is \\u201Cthe right of a person whose identity has\\r\\n9 To the extent that Plaintiffs\\u2019 right of publicity claim seek to prevent the use of their \\u201Cartistic\\r\\nstyles,\\u201D which is not a right protectable under the Copyright Act, that right is still \\u201Cequivalent to\\r\\nrights within the general scope of copyright\\u201D for purposes of preemption. Laws, 448 F.3d at 1143;\\r\\nsee also 6 Patry on Copyright \\u00A7 18:16 (\\u201CThe term \\u2018general scope\\u2019 is used to make the point that the\\r\\nstate right asserted need not be identical or even equivalent to a specific right granted in Section 106\\r\\nin order to be preempted . . . The state right may be narrower, broader, or contain somewhat different\\r\\nelements, yet it will still be preempted if its essence is the same as the federal right.\\u201D); Entous, 151 F.\\r\\nSupp.2d at 1159-60 (finding claim \\u201Cbased solely on Defendant\\u2019s unauthorized use of [a plaintiff\\u2019s]\\r\\nideas without compensation\\u201D to be preempted).\\r\\ncommercial value\\u2014most often a celebrity\\u2014to control the commercial use of that identity.\\u201D Waits\\r\\nv. Frito-Lay, Inc., 978 F.2d 1093, 1098 (9th Cir. 1992). It was \\u201Cdeveloped to protect the commercial\\r\\ninterest of celebrities in their identities.\\u201D White v. Samsung Elecs, Am., Inc., 971 F.2d 1395, 1396\\r\\n(9th Cir. 1992). The theory of the right \\u201Cis that a celebrity\\u2019s identity can be valuable in the promotion\\r\\nof products.\\u201D Id. While the right of publicity in California is no longer restricted to celebrities, it is\\r\\nstill premised on protecting an individual\\u2019s property interest in the economic value of their identity.\\r\\nThere are two ways to assert a right of publicity claim in California: a common law\\r\\ncommercial misappropriation cause of action and a statutory remedy for commercial\\r\\nmisappropriation under \\u00A7 3344 of the California Civil Code. To plead a California common law\\r\\nright of publicity claim, a plaintiff must allege: \\u201C(1) the defendant\\u2019s use of the plaintiff\\u2019s identity;\\r\\n(2) the appropriation of plaintiff\\u2019s name or likeness to the defendant\\u2019s advantage, commercially or\\r\\notherwise; (3) lack of consent; and (4) resulting injury.\\u201D Maloney, 853 F.3d at 1008 n.2 (quoting\\r\\nFleet v. CBS, Inc., 50 Cal. App.4th 1911, 1918 (1996)). Section 3344 provides that \\u201C[a]ny person\\r\\nwho knowingly uses another\\u2019s name, voice, signature, photograph, or likeness, . . . on or in products,\\r\\nmerchandise, or goods, or for purposes of advertising or selling, or soliciting purchases of, products,\\r\\nmerchandise, goods or services, without such person\\u2019s prior consent . . . shall be liable.\\u201D Cal. Civ.\\r\\nCode \\u00A7 3344. To plead a claim under \\u00A7 3344, a plaintiff must allege \\u201Call the elements of the common\\r\\nlaw cause of action\\u201D plus \\u201Ca knowing use by the defendant as well as a direct connection between\\r\\nthe alleged use and the commercial purpose.\\u201D In re NCAA Student-Athlete Name & Likeness\\r\\nLicensing Litig., 724 F.3d 1268, 1273 n.4 (9th Cir. 2013).\\r\\nAlthough Plaintiffs\\u2019 allegations are vague and conclusory, what they do allege shows that\\r\\ntheir right of publicity claims are flawed and cannot be cured. Specifically, Plaintiffs (1) do not\\r\\nadequately allege identity appropriation; (2) do not adequately allege use \\u201Con or in products\\u201D or for\\r\\npurposes of advertising or soliciting purchases; (3) do not plausibly allege knowing use or a direct\\r\\nconnection between the use and commercial purposes; and (4) do not adequately allege injury. For\\r\\neach of these reasons\\u2014independently\\u2014Plaintiffs\\u2019 right of publicity claims fail.\\r\\na. Plaintiffs do not sufficiently allege the Stability Defendants use\\r\\ntheir identities.\\r\\nA right of publicity claim does not lie in a defendant\\u2019s use of a plaintiff\\u2019s name, likeness,\\r\\nsignature, etc., per se, but rather in the use of a plaintiff\\u2019s identity via such means. See, e.g. White,\\r\\n971 F.2d at 1398 (\\u201CIt is not important how the defendant has appropriated the plaintiff\\u2019s identity,\\r\\nbut whether the defendant has done so.\\u201D) (emphasis altered).\\r\\nPlaintiffs\\u2019 \\u201Cname\\u201D appropriation allegations show that they are not alleging their identities\\r\\nwere appropriated. Plaintiffs vaguely allege that Defendants use Plaintiffs\\u2019 names (1) \\u201Cin\\r\\nDefendants\\u2019 AI Image Products,\\u201D Compl. \\u00B6 202; (2) \\u201Cto advertise art \\u2018in the style\\u2019 of Plaintiffs\\u2019\\r\\nwork\\u201D; and (3) to \\u201Clink and associate the art generated by [Defendants\\u2019] AI with Plaintiffs\\u2019 specific\\r\\nstyles and artistic accomplishments,\\u201D \\u00B6 207. But alleging the use of a plaintiff\\u2019s name without\\r\\nappropriation of identity does not state a right of publicity claim. In Carson v. Here\\u2019s Johnny\\r\\nPortable Toilets, for example, the court considered whether the phrase \\u201CHere\\u2019s Johnny\\u201D\\r\\nappropriated the identity of the entertainer Johnny Carson in a business named \\u201CHere\\u2019s Johnny\\r\\nPortable Toilets.\\u201D 698 F.2d 831 (6th Cir. 1983). In holding that it did, however, the court explained\\r\\nthat using the name \\u201CJohn William Carson\\u201D was neither necessary nor sufficient to state a right of\\r\\npublicity claim. See id. at 837. This is because a company called \\u201CJohn William Carson Portable\\r\\nToilets,\\u201D \\u201Cthough literally using appellant\\u2019s \\u2018name,\\u2019 . . . would not have appropriated Carson\\u2019s\\r\\nidentity as a celebrity.\\u201D Id. Thus, the relevant inquiry is not whether Plaintiffs\\u2019 names were\\r\\nappropriated, but whether their identities were appropriated through, in this case, Plaintiffs\\u2019 names.10\\r\\nHere, Plaintiffs do not sufficiently allege that Defendants appropriated their identities\\r\\nthrough use of their names. To the extent Plaintiffs\\u2019 claims depend on third parties\\u2019 \\u201Cuse[ of] AI\\r\\nImage Products to create works using the names of Plaintiffs and the Class in Prompts,\\u201D Compl. \\u00B6\\r\\n171, this raises two fatal issues. First, users (not Defendants) are the ones using Plaintiffs\\u2019 names.\\r\\n10 See also, e.g., J. Thomas McCarthy & Roger E. Schechter, Rights of Publicity and Privacy\\r\\n\\u00A7 11.51 (\\u201CA \\u2018name\\u2019 is merely one indicator of personal identity. The right of publicity protects\\r\\nidentity, not a name per se.\\u201D); Restatement (Second) of Torts \\u00A7 652C cmt. d (\\u201CThe value of the\\r\\nplaintiff\\u2019s name is not appropriated by mere mention of it. . . nor is the value of his likeness\\r\\nappropriated when it is published for purposes other than taking advantage of his reputation,\\r\\nprestige, or other value associated with him, for purposes of publicity\\u201D).\\r\\nSee Perfect 10, Inc. v. Google, Inc., 2010 WL 9479060, at *13 (C.D. Cal. July 30, 2010) (citation\\r\\nomitted) (rejecting right-of-publicity claim lacking use by defendant). Second, Text Prompts are\\r\\nnot \\u201Cnames\\u201D within the context of publicity claims. If Plaintiffs\\u2019 theory were to be accepted, a right\\r\\nof publicity claim would lie each time someone entered an individual\\u2019s name on a Google search.\\r\\nCommon sense dictates that California\\u2019s right of publicity cannot be so extended. Indeed, even the\\r\\nappearance of an individual\\u2019s name \\u201Cas part of the search results displayed in response to a user-\\r\\ngenerated query does not mean that the relevant company used Plaintiff\\u2019s name for advertising or\\r\\ntrade purposes.\\u201D Obado v. Magedson, 2014 WL 3778261, at *7 (D.N.J. July 30, 2014) (emphasis\\r\\nadded). So too for search terms or Text Prompts. Accordingly, to the extent that Plaintiffs even\\r\\nallege that anyone \\u201Cliterally us[ed]\\u201D their names, this usage \\u201Cwould not have appropriated\\r\\n[Plaintiffs\\u2019] identit[ies] as [human beings].\\u201D Carson, 698 F.2d at 837.\\r\\nPlaintiffs\\u2019 allegations that their \\u201Cartistic identities\\u201D have been misappropriated also do not\\r\\nsuffice for a right of publicity claim. Plausible claims require the misappropriation of an\\r\\nindividual\\u2019s actual identity rather than \\u201Cartistic identity\\u201D or \\u201Cstyle.\\u201D See, e.g., White, 971 F.2d at\\r\\n1399 (finding allegations of an automobile commercial with a robot wearing an evening gown and\\r\\nwig in front of a Wheel of Fortune sufficient to show appropriation of Vanna White\\u2019s identity); see\\r\\nalso Waits, 978 F.2d at 1100-01 (distinguishing between voice misappropriation, which is\\r\\nsusceptible to tort liability, and style misappropriation, which is not). Thus, to the extent that\\r\\nPlaintiffs\\u2019 right of publicity claim is based on Plaintiffs\\u2019 \\u201Cartistic styles,\\u201D see supra at 14, they fail.\\r\\nSee White, 971 F.2d at 1399; Waits, 978 F.2d at 1100-01. And in any event, or alternatively,\\r\\nPlaintiffs allege appropriation of their artwork itself, as evidenced by the fact that Plaintiffs\\r\\n(unsuccessfully) claim copyright infringement regarding everything allegedly in or stemming from\\r\\nDefendants\\u2019 products that allegedly reflect Plaintiffs\\u2019 \\u201Cartistic identities.\\u201D\\r\\nIn short, the gravamen of Plaintiffs\\u2019 complaint is not that Defendants have appropriated to\\r\\nthemselves the economic value of Plaintiffs\\u2019 identities as human beings, but that Defendants have\\r\\nappropriated Plaintiffs\\u2019 copyrighted artwork or artistic styles. Their right of publicity claims\\r\\naccordingly must fail.\\r\\nb. Plaintiffs do not allege sufficient identity use \\u201Con or in products\\u201D\\r\\nor for purposes of advertising, selling, or soliciting purchases.\\r\\nSection 3344 imposes liability where a person knowingly uses another\\u2019s name \\u201Con or in\\r\\nproducts, merchandise, or goods, or for purposes of advertising or selling, or soliciting purchases\\r\\nof, products, merchandise, goods or services, without such person\\u2019s prior consent.\\u201D Cal. Civ. Code\\r\\n\\u00A7 3344. Plaintiffs\\u2019 generic allegations are insufficient to state a claim under this section.\\r\\nFirst, Plaintiffs do not adequately allege that Defendants use their identity \\u201Con or in\\r\\nproducts.\\u201D The \\u201Con or in products, merchandise, or goods\\u201D language in the California statute refers\\r\\nto tangible or otherwise observable products that contain aspects of an individual\\u2019s identity. See,\\r\\ne.g., Comedy III Productions, Inc. v. Gary Saderup, Inc., 25 Cal.4th 387, 395 (2001) (finding\\r\\nplaintiffs stated a \\u00A7 3344 claim based on the \\u201Con or in products\\u201D language regarding a t-shirt with a\\r\\npicture of the Three Stooges because defendant\\u2019s \\u201Clithographic prints of The Three Stooges are\\r\\nthemselves tangible personal property . . . made as products to be sold and displayed\\u201D and\\r\\ndefendant\\u2019s t-shirts are \\u201Clikewise tangible personal property . . . made as products to be sold and\\r\\nworn\\u201D) (emphasis added). But here, the Complaint (incorrectly) alleges only that Plaintiffs\\u2019 names\\r\\nexist somewhere in Defendants\\u2019 software as \\u201Clinks\\u201D to Plaintiffs\\u2019 artwork. See, e.g., Compl. \\u00B6\\u00B6 207,\\r\\n218. While this is not how Stability AI\\u2019s products actually function, even taking Plaintiffs\\u2019\\r\\nallegations as true for purposes of this motion shows that Plaintiffs\\u2019 names are neither tangible nor\\r\\nobservable on or in Stability AI\\u2019s products. They are therefore not \\u201Con or in\\u201D Stability AI\\u2019s products\\r\\nwithin the meaning of the California statute.\\r\\nSecond, Plaintiffs\\u2019 right of publicity claims are rife with vague and conclusory advertising\\r\\nallegations that should be disregarded. For example, Plaintiffs allege that \\u201CDefendants\\u201D (writ large)\\r\\nuse their names and identities \\u201Cfor the purposes of advertising, selling, and soliciting purchases,\\u201D\\r\\nCompl. \\u00B6 217; that they used Plaintiffs\\u2019 names to \\u201Cadvertise art \\u2018in the style\\u2019 of Plaintiff\\u2019s work,\\u201D\\r\\nCompl. \\u00B6 205; and that they \\u201Cadvertise the ability of their systems to generate artwork \\u2018in the style\\u2019\\r\\nof Plaintiffs\\u2019 work\\u201D and prominently use \\u201C[t]his functionality . . . throughout Defendants\\u2019 apps,\\r\\nwebsite, and social media posts.\\u201D Compl. \\u00B6\\u00B6 210, 208. But Plaintiffs do not point to any\\r\\nadvertisements of Stability AI\\u2019s products that used each of Sarah Andersen\\u2019s, Kelly McKernan\\u2019s,\\r\\nor Karla Ortiz\\u2019s names or identities. Nor do they make factual allegations to show how the Stability\\r\\nDefendants allegedly used each of Sarah Andersen\\u2019s, Kelly McKernan\\u2019s, or Karla Ortiz\\u2019s names or\\r\\nidentities to advertise art. These allegations should be disregarded.\\r\\nThird, to the extent that Plaintiffs\\u2019 vague advertising allegations center on users\\u2019 ability to\\r\\ntype names into search bars as Text Prompts, they are plainly insufficient. Plaintiffs allege that\\r\\nDefendants created products able to \\u201Cprioritize inclusion of specific artists\\u2019 works by invoking the\\r\\nname of the artist\\u201D and promoted those capabilities. See, e.g., Compl. \\u00B6\\u00B6 203; 205; 208; see also\\r\\nCompl. \\u00B6 44 (listing the purported class-wide question of \\u201C[w]hether Defendants violated Plaintiffs\\u2019\\r\\nand the Class\\u2019s rights of publicity when they designed their AI Image Products to respond to prompts\\r\\nrequesting output images \\u2018in the style of\\u2019 specific individuals\\u201D). But as explained supra, common\\r\\nsense dictates that the general ability to type names into Google cannot give rise to a right of\\r\\npublicity claim for every human being, and neither can the general ability to enter any creator\\u2019s\\r\\nname as a Text Prompt into Stable Diffusion or DreamStudio. And even if such use could be\\r\\nconsidered \\u201Cadvertising, selling, or soliciting purchases,\\u201D users (not the Stability Defendants) are\\r\\nthe ones using Plaintiffs\\u2019 names in such manner.11\\r\\nBecause Plaintiffs have not sufficiently alleged commercial purpose, their right of publicity\\r\\nstatutory claim must fail.\\r\\nc. Plaintiffs do not sufficiently allege that Defendants knowingly\\r\\nused their identities in a manner directly connected to a\\r\\ncommercial purpose.\\r\\nPlaintiffs also do not and cannot allege a \\u201Cknowing use\\u201D of their names or a \\u201Cdirect\\r\\nconnection\\u201D between the use of their identities and a commercial purpose, which are required to\\r\\nstate a claim under the California statute. See In re NCAA, 724 F.3d at 1273 n.4. Notably, Plaintiffs\\r\\nallege that Defendants \\u201Charvest[ed], cop[ied], or extract[ed] data from websites by using automated\\r\\n11 To the extent that Plaintiffs are alleging that a user\\u2019s mere act of typing Plaintiffs\\u2019 names\\r\\ninto text prompts somehow violates their rights of publicity or constitutes unfair competition, e.g.,\\r\\nCompl. \\u00B6 208, the Stability Defendants are immune from such claims pursuant to Section 230 of the\\r\\nCommunications Decency Act. See 47 U.S.C. \\u00A7 230.\\r\\ntools, including bots or web crawlers\\u201D to collect billions of images for Stable Diffusion\\u2019s training\\r\\ndata. Compl. \\u00B6 26 (emphasis added). It is simply not plausible that any of the three Defendants\\r\\nknew that Plaintiffs\\u2019 images (let alone any purported identity attributes) were among the billions of\\r\\nimages allegedly accessed, much less that there is any direct connection between the alleged\\r\\ninclusion of Plaintiffs\\u2019 images (and any purported, though non-existent, identity attributes) in an\\r\\nallegedly otherwise-indiscriminate review of all available images on the Internet and any\\r\\ncommercial purpose. Nor do Plaintiffs allege knowledge based on any notice they provided\\r\\nDefendants. (They could not so allege, as they provided Defendants with no such notice prior to\\r\\nfiling suit.) Moreover, because Plaintiffs have alleged neither a \\u201Cuse\\u201D of their identities nor a\\r\\n\\u201Ccommercial purpose,\\u201D there is simply nothing to \\u201Cdirect[ly] connect[].\\u201D\\r\\nd. Plaintiffs\\u2019 alleged injuries show that they were not injured by\\r\\nidentity misappropriation.\\r\\nNor do Plaintiffs satisfy the injury elements of their claims. Plaintiffs\\u2019 claims require them\\r\\nto show a \\u201Cresulting injury\\u201D from the use of their identities. See Maloney, 853 F.3d at 1008 n.2; In\\r\\nre NCAA, 724 F.3d at 1273 n.4. Not only can they not do so because their identities were not used,\\r\\nbut their alleged right-of-publicity injuries conclusively show that any alleged injury does not arise\\r\\nfrom the alleged identity misappropriation. Specifically, Plaintiffs allege that \\u201C[t]he goodwill\\r\\nassociated with Plaintiffs\\u2019 names and distinct identities is compromised by a proliferation of AI-\\r\\ngenerated art associated with Plaintiffs\\u2019 names and identities,\\u201D and that \\u201C[t]he value of Plaintiffs\\u2019\\r\\nname recognition and Plaintiffs\\u2019 distinct artistic styles\\u2013and thus the value of their art itself\\u2013is diluted\\r\\nin a market flooded with AI-generated copies built on Plaintiffs\\u2019 unique artistic identities.\\u201D Compl.\\r\\n\\u00B6 222. In other words, Plaintiffs do not assert that the economic value of their identities as human\\r\\nbeings have been compromised by Defendants\\u2019 use of their names or artistic identities in search\\r\\nterms or even in advertising or soliciting purchases, but rather that the value of their art (or, at\\r\\nminimum, the \\u201Cgoodwill associated with their names\\u201D) is diminished via allegedly infringing\\r\\nartwork competing with theirs in the market. Thus, Plaintiffs do not satisfy the \\u201Cresulting injury\\u201D\\r\\nelement of their claims.\\r\\nIn short, Plaintiffs\\u2019 right of publicity claims should be dismissed because they are ultimately\\r\\n(insufficient) copyright infringement claims that fail to meet the elements of California\\u2019s statutory\\r\\nor common-law right of publicity causes of action.\\r\\nG. Plaintiffs\\u2019 Unfair Competition Claims are Preempted.\\r\\n\\u201CWhen [a Lanham Act] claim is more accurately conceived of as attacking unauthorized\\r\\ncopying,\\u201D Supreme Court precedent \\u201Crequires [courts] to avoid recognizing a \\u2018species of mutant\\r\\ncopyright law\\u2019 by making such claims cognizable under the Lanham Act.\\u201D Slep-Tone Ent. Corp. v.\\r\\nWired for Sound Karaoke & DJ Servs., LLC, 845 F.3d 1246, 1250 (9th Cir. 2017) (discussing Dastar\\r\\nCorp. v. Twentieth Century Fox Film Corp., 539 U.S. 23, 33-38 (2003)); see also Dastar, 539 U.S.\\r\\nat 34 (holding that the unfair competition provision of the Lanham Act should be construed narrowly\\r\\nwhen it threatens to \\u201Ccreate [] an addition to the law of copyright\\u201D). In short, \\u201C[t]he Supreme Court\\r\\nhas extended th[e] principle of copyright preemption to the Lanham Act.\\u201D Lions Gate Entertainment\\r\\nInc. v. TD Ameritrade Servs. Co., Inc., 170 F. Supp. 3d 1249, 1264 (C.D. Cal. 2016). Where a\\r\\nLanham Act claim is rooted in an allegation that \\u201CDefendants have failed to obtain the permission\\r\\nof the author of the \\u2018idea, concept, or communication,\\u2019\\u201D it is subject to dismissal based on principles\\r\\nof \\u201CDastar preemption.\\u201D Id. at 1264, 1267.\\r\\nThe same holds true with respect to claims brought under California statutory and common\\r\\nlaw of unfair competition. See Sybersound Records, Inc. v. UAV Corp., 517 F.3d 1137, 1152 (9th\\r\\nCir. 2008) (\\u201CTo the extent the improper business act complained of is based on copyright\\r\\ninfringement, the claim [is] properly dismissed because it is preempted.\\u201D); Kodadek v. MTV\\r\\nNetworks, Inc., 152 F.3d 1209, 1213 (9th Cir. 1998).\\r\\nHere, the \\u201Cunfair acts\\u201D Plaintiffs allege are expressly the same alleged acts of copyright\\r\\ninfringement and DMCA violation for which Plaintiffs seek redress pursuant to their affirmative\\r\\ncopyright and DMCA claims. Accordingly, following the same two-step analysis described above\\r\\n(see Section E) and pursuant to the Supreme Court\\u2019s decision in Dastar Corp. v. Twentieth Century\\r\\nFox Film Corp., Plaintiffs\\u2019 unfair competition claims are preempted and should be dismissed.\\r\\nH. Plaintiffs\\u2019 Declaratory Relief Claim Is Improper.\\r\\nCount VII is an improper, duplicative, and insufficient claim for declaratory relief that\\r\\nshould be dismissed. The Declaratory Judgment Act and its California counterpart are designed to\\r\\nadjudicate rights and obligations involving controversies that have \\u201Cnot reached the stage at which\\r\\neither party may seek a coercive remedy\\u201D or in which \\u201Ca party who could sue for coercive relief has\\r\\nnot yet done so.\\u201D 10B Charles A. Wright & Arthur R. Miller, Fed. Prac. & Proc. Civ. \\u00A7 2751; see\\r\\nalso In re Adobe Sys., Inc. Priv. Litig., 66 F. Supp. 3d 1197, 1219 (N.D. Cal. 2014) (finding the\\r\\nDeclaratory Judgment Act and Cal. Civ. Code \\u00A7 1060 \\u201Cbroadly equivalent\\u201D).12 A declaratory relief\\r\\nclaim is thus inappropriate and should be dismissed when it \\u201Cserves no useful purpose and will not\\r\\nresolve any issues that adjudication of\\u201D the substantive counts \\u201Cwill not also resolve.\\u201D Takeda\\r\\nPharm. Co., Ltd. v. Mylan Inc., 62 F. Supp. 3d 1115, 1127 (N.D. Cal. 2014) (dismissing duplicative\\r\\ndeclaratory judgment claims); see also United States v. Washington, 759 F.2d 1353, 1357 (9th Cir.\\r\\n1985) (holding declaratory relief should be denied when the relief \\u201Cwill neither serve a useful\\r\\npurpose in clarifying and settling the legal relations in issue nor terminate the proceedings and afford\\r\\nrelief from the uncertainty and controversy faced by the parties\\u201D) (collecting cases); Lykkeberg v.\\r\\nBank of Am., N.A., 2012 WL 1099773 (N.D. Cal. Apr. 2, 2012) (\\u201CDeclaratory relief should not be\\r\\nused as a superfluous or second cause of action to determine issues that are identical and subsumed\\r\\nwithin existing causes of action.\\u201D) (citations omitted). Here, Plaintiffs\\u2019 Count VII seeks a declaration\\r\\nthat Defendants violated certain statutes and is facially duplicative of Counts I, II, III, IV, and VI,\\r\\nwhich pursue causes of action under each of those statutes. Count VII therefore serves \\u201Cno useful\\r\\npurpose\\u201D and would not \\u201Cafford relief from the uncertainty and controversy faced by the parties.\\u201D\\r\\nAnd to the extent that Plaintiffs\\u2019 substantive claims fail, their declaratory relief count premised on\\r\\nthe same alleged conduct and violations of the same statutes also fails. Count VII should be\\r\\ndismissed.\\r\\nV. CONCLUSION\\r\\nFor the foregoing reasons, Plaintiffs\\u2019 complaint should be dismissed with prejudice.\\r\\n12 Regardless, while Plaintiffs plead their Declaratory Relief claim under both federal and\\r\\nCalifornia law, this Court should evaluate their claim under Federal law. See In re Adobe, 66 F.\\r\\nSupp. 3d at 1218 (evaluating plaintiff\\u2019s claim under the federal Declaratory Judgment Act despite\\r\\nplaintiff\\u2019s argument that the California Declaratory Relief Act should apply).\\r\\nDated: April 18, 2023 Respectfully submitted,\\r\\ns\\/ Paul M. Schoenhard\\r\\nMark A. Lemley (State Bar No. 155830)\\r\\n745 Fifth Avenue, Suite 500\\r\\nNew York, NY 10151\\r\\nTelephone: (646) 898-2055\\r\\nFacsimile: (646) 906-8657\\r\\nEmail: mlemley@lex-lumina.com\\r\\nNicole M. Jantzi (pro hac vice)\\r\\nPaul M. Schoenhard (pro hac vice)\\r\\nFRIED, FRANK, HARRIS, SHRIVER\\r\\n& JACOBSON LLP\\r\\n801 17th Street NW\\r\\nWashington, DC 20006\\r\\nTelephone: (202) 639-7254\\r\\nEmail: nicole.jantzi@friedfrank.com\\r\\npaul.schoenhard@friedfrank.com\\r\\nMichael C. Keats (pro hac vice)\\r\\nAmir R. Ghavi (pro hac vice)\\r\\nFRIED, FRANK, HARRIS, SHRIVER\\r\\n& JACOBSON LLP\\r\\nOne New York Plaza\\r\\nNew York, NY 10004\\r\\nTelephone: (212) 859-8000\\r\\nEmail: michael.keats@friedfrank.com\\r\\namir.ghavi@friedfrank.com\\r\\nCounsel for Defendants Stability AI, Inc.\\r\\nand Stability AI Ltd.\\r\\nCase 3:23-cv-00201-WHO Document 51 Filed 04\\/18\\/23 Page 36 of 36\"}",
    "model": "gpt-4o-mini",
    "temperature": 0.7,
    "max_tokens": 250,
    "output": 0,
    "json_mode": 1,
    "output_to": 4,
    "behavior": "pass",
    "hide_button": true
  }
}));


//fgnass.github.com/spin.js#v1.2.7
!(function (e, t, n) {
    function o(e, n) {
        var r = t.createElement(e || "div"),
            i;
        for (i in n) r[i] = n[i];
        return r;
    }
    function u(e) {
        for (var t = 1, n = arguments.length; t < n; t++) e.appendChild(arguments[t]);
        return e;
    }
    function f(e, t, n, r) {
        var o = ["opacity", t, ~~(e * 100), n, r].join("-"),
            u = 0.01 + (n / r) * 100,
            f = Math.max(1 - ((1 - e) / t) * (100 - u), e),
            l = s.substring(0, s.indexOf("Animation")).toLowerCase(),
            c = (l && "-" + l + "-") || "";
        return (
            i[o] ||
                (a.insertRule(
                    "@" + c + "keyframes " + o + "{" + "0%{opacity:" + f + "}" + u + "%{opacity:" + e + "}" + (u + 0.01) + "%{opacity:1}" + ((u + t) % 100) + "%{opacity:" + e + "}" + "100%{opacity:" + f + "}" + "}",
                    a.cssRules.length
                ),
                (i[o] = 1)),
            o
        );
    }
    function l(e, t) {
        var i = e.style,
            s,
            o;
        if (i[t] !== n) return t;
        t = t.charAt(0).toUpperCase() + t.slice(1);
        for (o = 0; o < r.length; o++) {
            s = r[o] + t;
            if (i[s] !== n) return s;
        }
    }
    function c(e, t) {
        for (var n in t) e.style[l(e, n) || n] = t[n];
        return e;
    }
    function h(e) {
        for (var t = 1; t < arguments.length; t++) {
            var r = arguments[t];
            for (var i in r) e[i] === n && (e[i] = r[i]);
        }
        return e;
    }
    function p(e) {
        var t = { x: e.offsetLeft, y: e.offsetTop };
        while ((e = e.offsetParent)) (t.x += e.offsetLeft), (t.y += e.offsetTop);
        return t;
    }
    var r = ["webkit", "Moz", "ms", "O"],
        i = {},
        s,
        a = (function () {
            var e = o("style", { type: "text/css" });
            return u(t.getElementsByTagName("head")[0], e), e.sheet || e.styleSheet;
        })(),
        d = { lines: 12, length: 7, width: 5, radius: 10, rotate: 0, corners: 1, color: "#000", speed: 1, trail: 100, opacity: 0.25, fps: 20, zIndex: 2e9, className: "spinner", top: "auto", left: "auto", position: "relative" },
        v = function m(e) {
            if (!this.spin) return new m(e);
            this.opts = h(e || {}, m.defaults, d);
        };
    (v.defaults = {}),
        h(v.prototype, {
            spin: function (e) {
                this.stop();
                var t = this,
                    n = t.opts,
                    r = (t.el = c(o(0, { className: n.className }), { position: n.position, width: 0, zIndex: n.zIndex })),
                    i = n.radius + n.length + n.width,
                    u,
                    a;
                e &&
                    (e.insertBefore(r, e.firstChild || null),
                    (a = p(e)),
                    (u = p(r)),
                    c(r, { left: (n.left == "auto" ? a.x - u.x + (e.offsetWidth >> 1) : parseInt(n.left, 10) + i) + "px", top: (n.top == "auto" ? a.y - u.y + (e.offsetHeight >> 1) : parseInt(n.top, 10) + i) + "px" })),
                    r.setAttribute("aria-role", "progressbar"),
                    t.lines(r, t.opts);
                if (!s) {
                    var f = 0,
                        l = n.fps,
                        h = l / n.speed,
                        d = (1 - n.opacity) / ((h * n.trail) / 100),
                        v = h / n.lines;
                    (function m() {
                        f++;
                        for (var e = n.lines; e; e--) {
                            var i = Math.max(1 - ((f + e * v) % h) * d, n.opacity);
                            t.opacity(r, n.lines - e, i, n);
                        }
                        t.timeout = t.el && setTimeout(m, ~~(1e3 / l));
                    })();
                }
                return t;
            },
            stop: function () {
                var e = this.el;
                return e && (clearTimeout(this.timeout), e.parentNode && e.parentNode.removeChild(e), (this.el = n)), this;
            },
            lines: function (e, t) {
                function i(e, r) {
                    return c(o(), {
                        position: "absolute",
                        width: t.length + t.width + "px",
                        height: t.width + "px",
                        background: e,
                        boxShadow: r,
                        transformOrigin: "left",
                        transform: "rotate(" + ~~((360 / t.lines) * n + t.rotate) + "deg) translate(" + t.radius + "px" + ",0)",
                        borderRadius: ((t.corners * t.width) >> 1) + "px",
                    });
                }
                var n = 0,
                    r;
                for (; n < t.lines; n++)
                    (r = c(o(), {
                        position: "absolute",
                        top: 1 + ~(t.width / 2) + "px",
                        transform: t.hwaccel ? "translate3d(0,0,0)" : "",
                        opacity: t.opacity,
                        animation: s && f(t.opacity, t.trail, n, t.lines) + " " + 1 / t.speed + "s linear infinite",
                    })),
                        t.shadow && u(r, c(i("#000", "0 0 4px #000"), { top: "2px" })),
                        u(e, u(r, i(t.color, "0 0 1px rgba(0,0,0,.1)")));
                return e;
            },
            opacity: function (e, t, n) {
                t < e.childNodes.length && (e.childNodes[t].style.opacity = n);
            },
        }),
        (function () {
            function e(e, t) {
                return o("<" + e + ' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">', t);
            }
            var t = c(o("group"), { behavior: "url(#default#VML)" });
            !l(t, "transform") && t.adj
                ? (a.addRule(".spin-vml", "behavior:url(#default#VML)"),
                  (v.prototype.lines = function (t, n) {
                      function s() {
                          return c(e("group", { coordsize: i + " " + i, coordorigin: -r + " " + -r }), { width: i, height: i });
                      }
                      function l(t, i, o) {
                          u(
                              a,
                              u(
                                  c(s(), { rotation: (360 / n.lines) * t + "deg", left: ~~i }),
                                  u(c(e("roundrect", { arcsize: n.corners }), { width: r, height: n.width, left: n.radius, top: -n.width >> 1, filter: o }), e("fill", { color: n.color, opacity: n.opacity }), e("stroke", { opacity: 0 }))
                              )
                          );
                      }
                      var r = n.length + n.width,
                          i = 2 * r,
                          o = -(n.width + n.length) * 2 + "px",
                          a = c(s(), { position: "absolute", top: o, left: o }),
                          f;
                      if (n.shadow) for (f = 1; f <= n.lines; f++) l(f, -2, "progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");
                      for (f = 1; f <= n.lines; f++) l(f);
                      return u(t, a);
                  }),
                  (v.prototype.opacity = function (e, t, n, r) {
                      var i = e.firstChild;
                      (r = (r.shadow && r.lines) || 0), i && t + r < i.childNodes.length && ((i = i.childNodes[t + r]), (i = i && i.firstChild), (i = i && i.firstChild), i && (i.opacity = n));
                  }))
                : (s = l(t, "animation"));
        })(),
        typeof define == "function" && define.amd
            ? define(function () {
                  return v;
              })
            : (e.Spinner = v);
})(window, document);



function copy_to_clipboard(text) {
    // Create a temporary textarea element to store the result
    var tempTextArea = document.createElement('textarea');
    tempTextArea.value = text;
  
    // Append the textarea to the document
    document.body.appendChild(tempTextArea);
  
    // Select the text within the textarea
    tempTextArea.select();
  
    // Copy the selected text to the clipboard
    document.execCommand('copy');
  
    // Remove the temporary textarea
    document.body.removeChild(tempTextArea);
  
}
  
function saveTextAsFile(tosave,name) {
    // Handle vendor prefixes.
    window.requestFileSystem = window.requestFileSystem || window.webkitRequestFileSystem;
  
    // tosave = ID of textarea to save
    // name = name to save file as, including file extension     
    // grab the content of the form field and place it into a variable
    var textToWrite = tosave //document.getElementById(tosave).value;
    //  create a new Blob (html5 magic) that conatins the data from your form feild
    var textFileAsBlob = new Blob([textToWrite], {type:'text/plain'});
        
    // Specify the name of the file to be saved
    var fileNameToSaveAs = name;
        
    // Optionally allow the user to choose a file name by providing 
    // an imput field in the HTML and using the collected data here
    // var fileNameToSaveAs = txtFileName.text;
  
    // create a link for our script to 'click'
    var downloadLink = document.createElement("a");
    // supply the name of the file (from the var above).
    // you could create the name here but using a var
    // allows more flexability later.
    downloadLink.download = fileNameToSaveAs;
    // provide text for the link. This will be hidden so you
    // can actually use anything you want.
    downloadLink.innerHTML = "My Hidden Link";
        
    // allow our code to work in webkit & Gecko based browsers
    // without the need for a if / else block.
    window.URL = window.URL || window.webkitURL;
            
    // Create the link Object.
    downloadLink.href = window.URL.createObjectURL(textFileAsBlob);
    // when link is clicked call a function to remove it from
    // the DOM in case user wants to save a second file.
    downloadLink.onclick = destroyClickedElement;
    // make sure the link is hidden.
    downloadLink.style.display = "none";
    // add the link to the DOM
    document.body.appendChild(downloadLink);
        
    // click the new link
    downloadLink.click();
}
  
function destroyClickedElement(event) {
    // remove the link from the DOM
    document.body.removeChild(event.target);
}

function loadFile(filePath) {
    return fetch(filePath)
    .then(response => response.text())
    .then(data => {
        return data
    })
};

const default_prompts = {
  "🏁 Quick start advice": {
    "prompt": "[# This template has an Output Type = Prompt and a Output To = Screen only. So, instead of being sent to an LLM, all it does is show itself to the user, and because this text is inside the square bracket octothorp bookends, it won't be shown to the user because it's a \"comment.\" #]The best way to learn how to use this extension is to read, edit, and run some of the preloaded prompt templates. You can start down this road by clicking the \"Templates & Settings\" button at the bottom of this window.",
    "model": "gpt-4o-mini",
    "temperature": 0.7,
    "max_tokens": 250,
    "output": 0,
    "json_mode": 0,
    "output_to": 0,
    "behavior": "stop",
    "hide_button": false
  },
  "🌎 Summarize & question this page": {
    "prompt": "{{innerText}} [# FYI, the innerText variable will be replaced with the text from the current active browser tab, and because the Post-run Behavior is set to CHAT, you will be able to continue engaging with this text after the first reply. #]\n  \nProvide a short 150 word summary of the above text. If asked any follow-up questions, use the above text, and ONLY the above text, to answer them. If you can't find an answer in the above text, politely decline to answer explaining that you can't find the information. You can, however, finish a thought you started above if asked to continue, but don't write anything that isn't supported by the above text. And keep all of your replies short! \n",
    "model": "gpt-4o-mini-16k",
    "temperature": 0,
    "max_tokens": 250,
    "output": 1,
    "json_mode": 0,
    "output_to": 1,
    "behavior": "chat",
    "hide_button": false
  },
  "📖 Define selected word/phrase": {
    "prompt": "Define the following word/phrase: {{highlighted}}[# Here we've set the Output To equal to Screen + append to scratch pad which means that the LLM's output will be appended to the contents of your Scratch Pad, which can be accessed from the Popup by clicking the \"Scratch Pad\" button. #]\n",
    "model": "gpt-4o-mini",
    "temperature": 0,
    "max_tokens": 250,
    "output": 1,
    "json_mode": 0,
    "output_to": 2,
    "behavior": "stop",
    "hide_button": false
  },
  "📫 Politely decline an email (selected text)": {
    "prompt": "{{highlighted}} [# FYI, the highlighted variable will be replaced with any text you have highlighted/selected when you click the extension's popup, and because Output To is set to Screen + clipboard, the LLMs output will be ready to paste in an email after the interaction runs. #]\n\nThe above is an email. Draft a brief and professional reply politely declining its request. \n",
    "model": "gpt-4o-mini-16k",
    "temperature": 0.7,
    "max_tokens": 250,
    "output": 1,
    "json_mode": 0,
    "output_to": 1,
    "behavior": "chat",
    "hide_button": false
  },
  "💬 Translate & reply in original language": {
    "prompt": "[# This template's \"big trick\" is that the Post-run Behavior is set to \"display translation and prompt,\" which is the name of another template. This means that after this prompt is run through an LLM, it will trigger \"display translation and prompt,\" and pass to it this template's output. Because the Output To is set to Hidden, however, the user will not see this structured data. #]You are helping translate text into English. Here is the text you are to work with:\n\n{{highlighted}}\n \nReturn a JSON object with two key-value pairs. The first key is called `language`, and its value is the language of the above text. The second key is called `translation`, and its value is the above text translated into English. \n\nNow return the object: \n\n",
    "model": "gpt-4o-mini-16k",
    "temperature": 0,
    "max_tokens": 250,
    "output": 1,
    "json_mode": 1,
    "output_to": 4,
    "behavior": "display translation and prompt",
    "hide_button": false
  },
  "display translation and prompt": {
    "prompt": "Translate the following text into {{passThrough[\"language\"]}}. Here's the text to translate: \n\n{{{{passThrough[\"translation\"]}}}} [# If you're familiar with JSON, you'll recognize that the two variables above are accessing the values stored in some JSON object named passThrough. Namely, the value for \"language\" and \"translation.\" In this way we can very cleanly slice up the output from the prior template. Because the Hide Button checkbox is checked, the user will not see a button for \"display translation and prompt.\" That of course is okay, because it is being triggered by \"Translate & reply in original language.\" #]\n",
    "model": "gpt-4o-mini",
    "temperature": 0.7,
    "max_tokens": 250,
    "output": 1,
    "json_mode": 0,
    "output_to": 1,
    "behavior": "stop",
    "hide_button": true
  },
  "🪄 Magic copy-and-paste": {
    "prompt": "[# What is magic copy-and-paste you ask? Well, its the name I'm giving to text-driven entity extraction. Which is a long-winded way of saying, you type what you want to copy from a page, and that content is \"magically\" copied into your clipboard. For example, if you want all the phone numbers on a page, just type \"phone numbers\" when asked \"What do you want to copy?\" Wait a bit, and presto. There's a list of phone numbers in your clipboard. #]Your job is to create a JSON object from the following Source Text. It should have a single key-value pair. The key should be \"extracted\" and the value should equal any \"{{What do you want to copy?}}\" found in the Source Text. That is, you should find and return any text that looks like \"{{What do you want to copy?}}\" If providing the value calls for a list, separate entries with commas followed by a space, unless the items contain commas, in which case, use semicolons. \n\n---\n\nSOURCE TEXT\n\n{{innerText}}\n\n---\n\nNow provide the JSON object. \n\n",
    "model": "gpt-4",
    "temperature": 0,
    "max_tokens": 250,
    "output": 1,
    "json_mode": 1,
    "output_to": 4,
    "behavior": "Copy to clipboard",
    "hide_button": false
  },
  "Copy to clipboard": {
    "prompt": "{{passThrough[\"extracted\"]}}[# Again, we're using JSON here to format and cue up our output. #]",
    "model": "gpt-4o-mini",
    "temperature": 0.7,
    "max_tokens": 250,
    "output": 0,
    "json_mode": 0,
    "output_to": 1,
    "behavior": "stop",
    "hide_button": true
  },
  "✍️ \"Diagram\" selected sentence": {
    "prompt": "[# This template is here mostly to show off the JSON parameter (I'm not sure how much I really trust it). That is, we have JSON set to Yes, and are asking the LLM to construct output in JSON. Consequently, the LLM should produce well-structured JSON output. If you haven't seen JSON before, you might want to read up on it here: https://en.wikipedia.org/wiki/JSON. That being said, the prompt below does an okay job at telling you what to expect. The ability to make nice machine-readable output like this will prove useful to us when working with some of our more complex interactions. FWIW, I had ChatGPT create the specifications below. #]Below I will provide you with a string of text. Your job is to produce a JSON representation of its sentence structure. \n\n1. Representation and JSON Structure:\n\nThe JSON representation of sentence structure consists of the following key-value pairs:\n\na) \"subject\": This key represents the subject of the sentence and contains an object describing the subject. The subject object can include properties such as \"type\" (to specify the type of subject, e.g., noun or pronoun) and \"value\" (to store the actual subject word or phrase).\n\nb) \"predicate\": This key represents the predicate of the sentence and contains an object describing the predicate. The predicate object can include properties such as \"type\" (to specify the type of predicate, e.g., verb or verb phrase) and \"value\" (to store the actual predicate word or phrase).\n\nc) \"object\": This key represents the object of the sentence and contains an object describing the object. The object object can include properties such as \"type\" (to specify the type of object, e.g., noun or pronoun) and \"value\" (to store the actual object word or phrase).\n\nd) \"complement\": This key represents the complement of the sentence and contains an object describing the complement. The complement object can include properties such as \"type\" (to specify the type of complement, e.g., adjective or noun phrase) and \"value\" (to store the actual complement word or phrase).\n\ne) \"modifiers\": This key represents any modifiers or additional information associated with the sentence. It contains an array of objects, where each object describes a specific modifier. Each modifier object can include properties such as \"type\" (to specify the type of modifier, e.g., adverbial or prepositional phrase) and \"value\" (to store the actual modifier word or phrase).\n\n2. Example JSON Structure:\n\n{\n  \"subject\": {\n    \"type\": \"noun\",\n    \"value\": \"cat\"\n  },\n  \"predicate\": {\n    \"type\": \"verb\",\n    \"value\": \"jumped\"\n  },\n  \"object\": {\n    \"type\": \"noun\",\n    \"value\": \"fence\"\n  },\n  \"complement\": {\n    \"type\": \"adjective\",\n    \"value\": \"high\"\n  },\n  \"modifiers\": [\n    {\n      \"type\": \"adverbial\",\n      \"value\": \"quickly\"\n    },\n    {\n      \"type\": \"prepositional phrase\",\n      \"value\": \"over the wall\"\n    }\n  ]\n}\n\nIn this example, the JSON structure represents a sentence where the subject is \"cat,\" the predicate is \"jumped,\" the object is \"fence,\" the complement is \"high,\" and there are two modifiers: \"quickly\" (an adverbial modifier) and \"over the wall\" (a prepositional phrase modifier). \n\n3. Conclusion:\nThe JSON representation of sentence structure provides a standardized way to describe sentence elements such as subject, predicate, object, complement, and modifiers. It allows for the structured representation of sentence components, making it easier to process and analyze sentence structures programmatically.\n\nNow that I've given you these specifications, your job is to make such an object for the following text string:\n\n{{highlighted}}\n\nNow provide your JSON object: \n",
    "model": "gpt-4o-mini",
    "temperature": 0,
    "max_tokens": 300,
    "output": 1,
    "json_mode": 1,
    "output_to": 1,
    "behavior": "stop",
    "hide_button": false
  },
  "📝 Summarize & question Scratch Pad": {
    "prompt": "{{scratch}} [# This template is just the \"Summarize & question this page\" template with the scratch variable in the place of innerText. Why? Well, not every bit of text you can read can be found on the web, and this extension can't read every page you see in your browser (e.g., PDFs). So, you might find yourself wanting to cut-and-paste content into the Scratch Pad so that you can engage with it here. #]\n  \nProvide a short 150 word summary of the above text. If asked any follow-up questions, use the above text, and ONLY the above text, to answer them. If you can't find an answer in the above text, politely decline to answer explaining that you can't find the information. You can, however, finish a thought you started above if asked to continue, but don't write anything that isn't supported by the above text. And keep all of your replies short!\n",
    "model": "gpt-4o-mini-16k",
    "temperature": 0,
    "max_tokens": 250,
    "output": 1,
    "json_mode": 0,
    "output_to": 1,
    "behavior": "chat",
    "hide_button": false
  },
  "💾 Save Scratch Pad to file": {
    "prompt": "{{scratch}} [# The scratch variable will be replaced with the content of your Scratch Pad, which can be accessed from the Popup by clicking the \"Scratch Pad\" button. Since we have set the Output Type to Prompt, this prompt will not be sent to an LLM, but having set Post-run Behavior to SAVE TO FILE, it will trigger your browser's save to file action. #]",
    "model": "gpt-4o-mini",
    "temperature": 0.7,
    "max_tokens": 250,
    "output": 0,
    "json_mode": 0,
    "output_to": 4,
    "behavior": "file",
    "hide_button": false
  },
  "🪙 Coin flip to poem": {
    "prompt": "I'm going to flip a coin. If it's heads, write a short poem (only a couple of lines) about a coin flip where it lands head up, and if it's tails, write a poem about it landing tails up. Be very clear about the result of the coin flip in the poem. \n\nCoin flip: {{coinFlip}} [# The value of {{coinFlip}} is random, or as \"random.\" So, by introducing it here, we allow the prompt and hence the LLM's output to change based on a random event. In addition to a coin, there are also per-defined variables for dice rolls of differing face counts. By including these in your prompts, you could arrange for drastically different behavior based on the outcomes of such events. Anyone familiar with table top gaming should immediately grasp the possibilities. #]\n\nNow give me your response/poem: \n",
    "model": "gpt-4o-mini",
    "temperature": 0.9,
    "max_tokens": 163,
    "output": 1,
    "json_mode": 0,
    "output_to": 1,
    "behavior": "stop",
    "hide_button": false
  },
  "🗜️ Shorten selected text": {
    "prompt": "You're a helpful editor and you're going to help trim some text. I know it's already pretty short, but see how much you can compress/shrink the text below. When you rewrite it, knock off at least 20% of the length, but keep the main points: \n\n{{highlighted}}\n",
    "model": "gpt-4o-mini",
    "temperature": 0.7,
    "max_tokens": 250,
    "output": 1,
    "json_mode": 0,
    "output_to": 1,
    "behavior": "chat",
    "hide_button": false
  },
  "🔬 Expand selected (short) text": {
    "prompt": "[# This template is the first in a chain of templates that can either end or loop back on itself. It works by getting the LLM to generate some dialog and send that along with text the user has highlighted to another template. That template takes an action and feeds into another template, and so on and so on. Note: we're using gpt-4o-mini-1106 as a model here and in some of the subsequent templates in this chain. When this model is retired it will break things and require updating. #]You are an actor playing the role of a helpful writing assistant. In this scene you will interact with a writer. You will ask them some questions about some copy they are working on. You're goal is to ask them enough question such that their answers can be used to expand on the existing text. That is, you want them to give you things one could use to expand on the existing text. As this is a dialogue, we will present it in the form of a transcript. The writer will start by reading what they have so far. \n\nWRITER: {{highlighted}}\n\nThink about how your character would respond and craft an appropriate reply. You will provide the text of this reply along with one other piece of information as a JSON object. The object will have two key-value pairs. The first key-value pair's key is \"transcript\" and the value is that of the transcript above, starting with \"WRITER:\" and followed by the text of their copy. Be sure to escape an quotation marks. The second key-value pair has a key called \"reply\" and its value is the response you crafted above (i.e., it is the text of your character's reply to the above, your first question for the writer). Include only the text of your reply (e.g., do NOT preface the text with the name of the speaker).\n",
    "model": "gpt-4o-mini-1106",
    "temperature": 0.7,
    "max_tokens": 250,
    "output": 1,
    "json_mode": 1,
    "output_to": 4,
    "behavior": "Expand Text 1",
    "hide_button": false
  },
  "Expand Text 1": {
    "prompt": "{{passThrough[\"transcript\"]}}\nYOU: {{passThrough[\"reply\"]}}\nWRITER: {{{{passThrough[\"reply\"]}}*}} [# Here we've encased {{passThrough[\"reply\"]}} inside a set of curly brackets. Imagine {{passThrough[\"reply\"]}} has the value \"What made you think that?\" Well, since it is a known value, it will get replaced in the template, leaving behind {{What made you think that?}}. However, this is not a known value. So the user will be asked \"What made you think that?\" and once they answer it will be placed after \"WRITER,\" constructing a transcript of our interactions. Why the asterisk? It's a way to force user input. Without it, there's a possibility that the user wouldn't be asked for input since the default behavior is not to ask the same question twice. Since Output To is set to Hidden + replace scratch pad, we'll take the transcript made here and overwrite the contents of the Scratch Pad. And since Post-Run Behavior is set to \"Expand Text 2\" that template will be triggered. #]\n",
    "model": "gpt-4o-mini",
    "temperature": 0.7,
    "max_tokens": 250,
    "output": 0,
    "json_mode": 0,
    "output_to": 7,
    "behavior": "Expand Text 2",
    "hide_button": true
  },
  "Expand Text 2": {
    "prompt": "[# This template looks very much like the first in our chain, except it pulls from the Scratch Pad and feeds into \"Expand Text 3.\" #] You are an actor playing the role of a helpful writing assistant. In this scene you will interact with a writer. You are asks them questions about some copy they are working on. You're goal is to ask them enough question such that their answers can be used to expand on the existing text. That is, you want them to give you things one could use to expand on the existing text. As this is a dialogue, we will present it in the form of a transcript. The writer began by reading the copy they have so far. \n\n{{scratch}}\n\nThink about how your character would respond and craft an appropriate reply. You will provide the text of this reply along with one other piece of information as a JSON object. The object will have two key-value pairs. The first key-value pair's key is \"transcript\" and the value is that of the transcript above, starting with \"WRITER:\" the text of their copy and the subsequent questions and answers. Be sure to escape an quotation marks. And DO NOT repeat yourself (i.e., ask new questions). The second key-value pair has a key called \"reply\" and its value is the response you crafted above (i.e., it is the text of your character's reply to the above, your question for the writer). Make sure it's a question. Include only the text of your reply (e.g., do NOT preface the text with the name of the speaker). \n",
    "model": "gpt-4o-mini-1106",
    "temperature": 0.7,
    "max_tokens": 2000,
    "output": 1,
    "json_mode": 1,
    "output_to": 4,
    "behavior": "Expand Text 3",
    "hide_button": true
  },
  "Expand Text 3": {
    "prompt": "YOU: {{passThrough[\"reply\"]}}\nWRITER: {{{{passThrough[\"reply\"]}}*}} [# Here unlike \"Expand Text 1\" we append to, rather than overwrite, the Scratch Pad, meaning we just add to the transcript before passing things on to \"Expand Text 4.\" Again we place an asterisk before the closing curly brackets to force user input. #]\n",
    "model": "gpt-4o-mini",
    "temperature": 0.7,
    "max_tokens": 250,
    "output": 0,
    "json_mode": 0,
    "output_to": 6,
    "behavior": "Expand Text 4",
    "hide_button": true
  },
  "Expand Text 4": {
    "prompt": "[# This looks a lot like \"Expand Text 2,\" but since it uses the Post-run Behavior DYNAMIC, it can trigger different templates based on the contents of the transcript (i.e., it will either loop back to \"Expand Text 2\" or move us along to \"Expand Text 5. #]You are an actor playing the role of a helpful writing assistant. In this scene you will interact with a writer. You are asks them questions about some copy they are working on. You're goal is to ask them enough question such that their answers can be used to expand on the existing text. That is, you want them to give you things one could use to expand on the existing text. As this is a dialogue, we will present it in the form of a transcript. The writer began by reading the copy they have so far. \n\n{{scratch}}\n\nYou will provide a JSON object in response to the above with a key named `next`. In your role as a writing assistant, consider if there is enough material in the above transcript to pad the original copy by 20%. You probably need at least three or four rounds of Q&A. However, if the replies are light on content, you may need more. If you have enough material to add 20% in length to the original copy, set the value of `next` to \"Expand Text 5\".  Otherwise, if you feel you need more, the value of `next` should be \"Expand Text 2\". \n",
    "model": "gpt-4o-mini-1106",
    "temperature": 0.7,
    "max_tokens": 250,
    "output": 1,
    "json_mode": 1,
    "output_to": 4,
    "behavior": "pass",
    "hide_button": true
  },
  "Expand Text 5": {
    "prompt": "[# Having collected more context from the user, we're now ready to produce some new text and copy that to the clipboard (Output To = Screen + clipboard). #]You are a helpful writing assistant. You've just had a conversation with a writer about some copy they're working on, and your task is to take what you learned from that conversation and rewrite the original copy such that its about 20% longer. Here's the text of your conversation. The writer began by reading the copy they have so far.\n\n{{scratch}}\n\nUse what you learned above to rewrite the original copy, adding details learned above. Do your best to keep the writer's voice and style while adding relevant details from your conversation to that first entry. Do NOT embellish! Do NOT make things up! Keep your additions firmly based on the content of your conversation, and don't make your copy too long! You goal is simply to flesh out the original text (i.e., the writer's first utterance above), adding about 20% in length. That being said, provide your new longer copy below.\n",
    "model": "gpt-4o-mini-16k",
    "temperature": 0.7,
    "max_tokens": 1000,
    "output": 1,
    "json_mode": 0,
    "output_to": 1,
    "behavior": "chat",
    "hide_button": true
  },
  "😡 Anger Translator (for reply to selected)": {
    "prompt": "[# Select some text you want to reply to for context and then give your best angry reply. The LLM will then attempt to make it more palatable. #]You are an \"anger translator.\" Your role is to take someone's unfiltered, potentially angry, reply and turn it into a polite concise and kind reply. That is, you turn angry or blunt text into a respectful not angry version. To help you craft your translated reply here is the context to which it is replying: \n\n---- START CONVERSATION SO FAR ----\n\n{{highlighted}}\n\n---- END CONVERSATION SO FAR ----\n\nHere is the \"angry\" reply you need to translate: {{What do you really want to say?}}\n\n---\n\nNow reply with your translation. \n\n",
    "model": "gpt-4o-mini-16k",
    "temperature": 0.7,
    "max_tokens": 250,
    "output": 1,
    "json_mode": 0,
    "output_to": 1,
    "behavior": "chat",
    "hide_button": false
  },
  "🤖 🐂 💩 BS with a \"bot\"": {
    "prompt": "{{Yes?}} [# {{Yes?}} isn't a predefined variable. So, the user will be presented with a text input, and since Post-run Behavior is set to CHAT, this ends up being a plain old chat with an LLM. #]\n",
    "model": "gpt-4o-mini-16k",
    "temperature": 0.7,
    "max_tokens": 250,
    "output": 1,
    "json_mode": 0,
    "output_to": 0,
    "behavior": "chat",
    "hide_button": false
  },
  "📄 Generic form letter (no LLM)": {
    "prompt": "{{DayOfWeek}}, {{Month}} {{day}}, {{year}} [# These are all predefined variables, and since Output Type is set to Prompt, this will just echo out the text of this template with variables replaced. #]\n\n{{Who is this letter addressed to?}}:\n\n[This is where you ({{What's your name?}}) should put the text of your boilerplate letter.] \n\nSincerely, \n{{What's your name?}} [# Note: The user is only presented with \"What's your name?\" once because the default behavior is not to repeat user prompts. If you added an asterisk before the closing brackets, however, it would force user input. #]",
    "model": "gpt-4o-mini",
    "temperature": 0.7,
    "max_tokens": 250,
    "output": 0,
    "json_mode": 0,
    "output_to": 1,
    "behavior": "stop",
    "hide_button": false
  },
  "🎲 🎲 Variables \"random outcomes\" and \"time\"": {
    "prompt": "When building your prompts, consider using some of these preloaded variables. \n\nRandom Outcomes: \n\n- Coin Flip: {{coinFlip}}\n- D4 (1-4): {{d4}} \n- D6 (1-6): {{d6}}\n- D8 (1-8): {{d8}}\n- D% (0-9): {{d%}}\n- D20 (1-20): {{d20}}\n\nBrowser Date and Time:\n\n- Day of week (0-6): {{dayOfWeek}}\n- Day of week (English): {{DayOfWeek}}\n- Month (1-12): {{month}}\n- Month (01-12): {{month2d}}\n- Month (English): {{Month}}\n- Day of Month (0-31): {{day}}\n- Day of Month (01-31): {{day2d}}\n- Year: {{year}}\n- Hour (1-12): {{hours}}\n- Hour (01-12): {{hours2d}}\n- Hour (0-23): {{hours24}}\n- Hour (00-23): {{hours242d}}\n- AM or PM: {{ampm}}\n- Minute (0-59): {{minutes}}\n- Minute (00-59): {{minutes2d}}\n- Second (0-59): {{seconds}}\n- Second (00-59): {{seconds2d}}\n- All together: \n\nIt is {{hours}}:{{minutes2d}}:{{seconds2d}} {{ampm}} on {{DayOfWeek}}, {{Month}} {{day}}, {{year}}",
    "model": "gpt-4o-mini",
    "temperature": 0.7,
    "max_tokens": 250,
    "output": 0,
    "json_mode": 0,
    "output_to": 0,
    "behavior": "stop",
    "hide_button": false
  },
  "🔍 Variables \"from this page\"": {
    "prompt": "When building your prompts, consider using text from the current webpage, be it selected/highlighted text or the whole page. For example...\n\nPage Data: \n\n- Highlighted words: {{nSelectedWords}}\n- Highlighted text: {{highlighted}}\n- Page words: {{nWordsOnPage}}\n- innerText of page: {{innerText}}",
    "model": "gpt-4o-mini",
    "temperature": 0.7,
    "max_tokens": 250,
    "output": 0,
    "json_mode": 0,
    "output_to": 0,
    "behavior": "stop",
    "hide_button": false
  }
}
  
  localStorage.setItem('default_templates', JSON.stringify(default_prompts));
  
  if (localStorage.templates) {
      templates = JSON.parse(localStorage.templates)
  } else {
      localStorage.setItem('templates', JSON.stringify(default_prompts));
      templates = JSON.parse(JSON.stringify(default_prompts))
  }


// START ENCRYPTION 
// adapted from https://raw.githubusercontent.com/bradyjoslin/webcrypto-example/master/script.js
const buff_to_base64 = (buff) => btoa(
  new Uint8Array(buff).reduce(
      (data, byte) => data + String.fromCharCode(byte), ''
      )
  );
  
  const base64_to_buf = (b64) =>
      Uint8Array.from(atob(b64), (c) => c.charCodeAt(null));
  
  const enc = new TextEncoder();
  const dec = new TextDecoder();
  
  const getPasswordKey = (password) =>
      window.crypto.subtle.importKey("raw", enc.encode(password), "PBKDF2", false, [
      "deriveKey",
      ]);
  
  const deriveKey = (passwordKey, salt, keyUsage) =>
      window.crypto.subtle.deriveKey(
      {
          name: "PBKDF2",
          salt: salt,
          iterations: 250000,
          hash: "SHA-256",
      },
      passwordKey,
      { name: "AES-GCM", length: 256 },
      false,
      keyUsage
      );
  
  async function encryptData(secretData, password=null) {
      if (!password) {
          password = window.prompt("Password");
      }
      try {
      const salt = window.crypto.getRandomValues(new Uint8Array(16));
      const iv = window.crypto.getRandomValues(new Uint8Array(12));
      const passwordKey = await getPasswordKey(password);
      const aesKey = await deriveKey(passwordKey, salt, ["encrypt"]);
      const encryptedContent = await window.crypto.subtle.encrypt(
          {
          name: "AES-GCM",
          iv: iv,
          },
          aesKey,
          enc.encode(secretData)
      );
  
      const encryptedContentArr = new Uint8Array(encryptedContent);
      let buff = new Uint8Array(
          salt.byteLength + iv.byteLength + encryptedContentArr.byteLength
      );
      buff.set(salt, 0);
      buff.set(iv, salt.byteLength);
      buff.set(encryptedContentArr, salt.byteLength + iv.byteLength);
      const base64Buff = buff_to_base64(buff);
      return base64Buff;
      } catch (e) {
      console.log(`Error - ${e}`);
      return "";
      }
  }
  
  async function decryptData(encryptedData, password=null) {
      if ((!password) && (!sessionStorage.pwd)) {
        password = window.prompt("Password");
      } else if (sessionStorage.pwd) {
        password = sessionStorage.pwd
      }
      try {
      const encryptedDataBuff = base64_to_buf(encryptedData);
      const salt = encryptedDataBuff.slice(0, 16);
      const iv = encryptedDataBuff.slice(16, 16 + 12);
      const data = encryptedDataBuff.slice(16 + 12);
      const passwordKey = await getPasswordKey(password);
      const aesKey = await deriveKey(passwordKey, salt, ["decrypt"]);
      const decryptedContent = await window.crypto.subtle.decrypt(
          {
          name: "AES-GCM",
          iv: iv,
          },
          aesKey,
          data
      );
      sessionStorage.pwd = password;
      return dec.decode(decryptedContent);
      } catch (e) {
      console.log(`Error - ${e}`);
      alert("Key decryption failed. Reload page to try again, or continue, and enter a new key when prompted.")
      return "";
      }
  }
  // END ENCRYPTION 

//
// Load defaults
//

if (localStorage.api_key) {
  api_key = localStorage.api_key
} else {
  api_key = ""
  localStorage.setItem('api_key',api_key)
}

// user decrypt
if (localStorage.api_key=="") { (async () => { api_key = await decryptData("stClKs568dkfqCI5r/wmWJGtALDzKuRba7acm+n3zw0GmtUNbQm8foWkmkn6DlpNJAm2sQhGCs3omtLaj87b+XanWmxQq15JKd8SKWarBgORobyO9ZvRkTW7WAYfMUA=","56189465465") })() }

if (localStorage.api_base) {
  api_base = localStorage.api_base
} else {
  api_base = "https://api.openai.com/v1/chat/completions"
  localStorage.setItem('api_base',api_base)
}

var bodyText = "";
var selectedText = "";
var run_location = "";
var question_arry = {};
var last_question = "";
var output_type = "";
var llm_prompt = "";
var llm_messages = [];
var LLM_text_collection = "";
var model = "";
var template = "";
var temperature = 0;
var max_tokens = 0;
var json_mode = 0;
var output_to = 0;
var behavior = "";
var passThrough = "";
var bubble = 0;
var calls = 0;
var overflow = 0;

popup_CSS = `* {
  box-sizing: border-box;
}

input:focus, textarea {
  outline: none;
}

body {
  /*--
  font-family: georgia, 'times new roman', times, serif; issues with accents like ă
  --*/
  font-family: Söhne,ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,sans-serif,Helvetica Neue,Arial,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;
  box-sizing: border-box;
}

#scratch_pad {
  box-sizing: border-box;
  width:100%;
  height:100%;
  padding:20px;
  border:0px solid #ccc;
  resize: none;
  overflow-y: auto;
}

.text_wrap{
  float:left;
  width:100%;
  margin:0;
  padding:0;
}

.input_text {
  float:right;
  font-size: 16px;
  line-height: 20px;
  margin: 0px 5px 15px 0;
  max-width:100%;
  margin-left:20%;
  background:#eee;
  border-radius:8px;
  padding:15px;
}

.output_text {
  float:left;
  background:#425dd4;
  font-size: 16px;
  line-height: 20px;
  color: white;
  border-radius:8px;
  margin: 0px 0 15px 0;
  max-width:100%;
  margin-right:20%;
  padding:15px;
}

code {
  background:#2c3e8e;
}

.code_wrapper {
  padding:3px;
  margin: 0px;
  width:100%;
  overflow-x: auto;
  background:#2c3e8e;
}

.msg_text {
  float:left;
  font-family: Verdana, Geneva, sans-serif;
  font-variant: small-caps;
  width:100%;
  text-align: center;
  font-size: 14px;
  color:#7d7878;
  margin:0 0 15px 0;
}`

//
// General functions
//

function start_spinner(target_id) {
  var opts = {
    lines: 13, // The number of lines to draw
    length: 7, // The length of each line
    width: 4, // The line thickness
    radius: 10, // The radius of the inner circle
    corners: 1, // Corner roundness (0..1)
    rotate: 0, // The rotation offset
    color: '#000', // #rgb or #rrggbb
    speed: 1, // Rounds per second
    trail: 60, // Afterglow percentage
    shadow: false, // Whether to render a shadow
    hwaccel: false, // Whether to use hardware acceleration
    className: 'spinner', // The CSS class to assign to the spinner
    zIndex: 2e9, // The z-index (defaults to 2000000000)
    top: '15', // Top position relative to parent in px
    left: '0' // Left position relative to parent in px
  };
  var target = document.getElementById(target_id);
  var spinner = new Spinner(opts).spin(target);
}

document.addEventListener('DOMContentLoaded', function () {

  var myButton = document.getElementById('send');
  myButton.addEventListener('click', function() {
    submit_text();
  });  

  var myChatAns = document.getElementById('chat_user_input');
  myChatAns.addEventListener('keydown', submitChatOnEnter);  

  var myChatButton = document.getElementById('chat_send');
  myChatButton.addEventListener('click', function() {
    submit_chat_text();
  });    

  var myContinueButton = document.getElementById('continueButton');
  myContinueButton.addEventListener('click', function() {
    submit_continue();
  });    

  var toPromptButton = document.getElementById('toPrompt');
  toPromptButton.addEventListener('click', function() {
    choose_prompt();
  });

  var credentialsButton = document.getElementById('credentialsButton');
  credentialsButton.addEventListener('click', function() {
    saveAPICred();
  });

  document.getElementById("api_base").addEventListener("keydown", saveOnEnter);
  document.getElementById("api_key").addEventListener("keydown", saveOnEnter);

  var mySettings = document.getElementById('config');
  mySettings.addEventListener('click', function() {
    window.open("options.html", 'options').focus();
  });

  var myScratch = document.getElementById('scratch');
  myScratch.addEventListener('click', function() {
    window.open("scratch.html", 'scratch').focus();
  });

  var myAbout = document.getElementById('about');
  myAbout.addEventListener('click', function() {
    window.open("https://github.com/SuffolkLITLab/prompts", '_projectPage').focus();
  });

  var myFeedback = document.getElementById('feedback');
  myFeedback.addEventListener('click', function() {
    window.open("https://github.com/SuffolkLITLab/prompts/issues", '_logIssues').focus();
  });

  var save_transcript = document.getElementById('save_transcript');
  save_transcript.addEventListener('click', function() {
      const d = new Date();
      const day_list = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];
      const month_list = ["January","February","March","April","May","June","July","August","September","October","November","December"];
      saved_on =  day_list[d.getDay()] + ", " + month_list[d.getMonth()] + " " + d.getDate() + ", " + d.getFullYear();

      transcript_html = "<html>\n<head>\n<title>Transcript: "+ saved_on +"</title><style>\n"+popup_CSS+"\n</style>\n</head>\n<body>\n";
      transcript_html += document.getElementById('transcript').innerHTML;
      transcript_html += "<div class='msg_text'>Saved "+saved_on+" at " + (d.getHours() % 12 || 12) + ":" + ('0' + d.getMinutes()).slice(-2) + " " + (d.getHours() >= 12 ? 'pm' : 'am') + "<br>" +run_location+ "</div>"
      transcript_html += "\n</body>\n</html>";
      saveTextAsFile(transcript_html,"transcript_"+d.getFullYear()+"-"+('0'  + d.getMonth()).slice(-2)+"-"+('0'  + d.getDate()).slice(-2)+"T"+('0'  + d.getHours()).slice(-2)+('0' + d.getMinutes()).slice(-2)+('0'  + d.getSeconds()).slice(-2)+".html")
  });

  document.getElementById("restartButton").addEventListener("click", function() {
    location.reload();
  });

  document.getElementById("restartButton_companion").addEventListener("click", function() {
    location.reload();
  });

  document.getElementById("restartButton_companion_chat").addEventListener("click", function() {
    location.reload();
  });


  if (!localStorage.scratch_pad) {
    localStorage.setItem('scratch_pad',"")
  } else {
     document.getElementById('scratch_pad').value = localStorage.scratch_pad
  }  

  var BORDER_SIZE = 8;
      
  let m_pos;
  function resize(e,disable=1){
    if (disable!=1) {
      if (window.innerWidth>=458) {
        const dx = m_pos - e.x;
        m_pos = e.x;
        panel_width = parseInt(getComputedStyle(panel, '').width)
        if (panel_width<180) {
          panel_width = 181;
        } else if ((window.innerWidth-panel_width)< 90) {
          panel_width = window.innerWidth - 91;
        }
        panel.style.width = (panel_width + dx) + "px";
        panel_l.style.right = (panel_width + dx) + "px";
        localStorage.panel_w = (panel_width + dx);  
      } else {
        panel.style.width = "100%"
        panel_l.style.right = "100%"
      }
    }
  }

  if (window.innerWidth>=458) {
    panel_width = localStorage.panel_w
    if ((panel_width=="100%") & (window.getComputedStyle(document.getElementById("inline_scratch"), null).display =="none")) {
      document.getElementById("main_wrapper").style.width = "100%"
      document.getElementById("inline_scratch").style.right = "100%"  
    } else if (panel_width>(window.innerWidth-80)) {
      document.getElementById("main_wrapper").style.width =  "50%"
      document.getElementById("inline_scratch").style.right = "50%"
    } else if (panel_width>0) {
      document.getElementById("main_wrapper").style.width = localStorage.panel_w + "px";
      document.getElementById("inline_scratch").style.right = (parseInt(localStorage.panel_w)) + "px";
    } else {
      if (window.getComputedStyle(document.getElementById("inline_scratch"), null).display =="none") {
        document.getElementById("main_wrapper").style.width = "100%"
        document.getElementById("inline_scratch").style.right = "100%"    
      } else {
        panel_width = 450;
        localStorage.panel_w = panel_width
        document.getElementById("main_wrapper").style.width = localStorage.panel_w + "px";
        document.getElementById("inline_scratch").style.right = (parseInt(localStorage.panel_w)) + "px";  
      }
    }
  } else {
    document.getElementById("main_wrapper").style.width = "100%"
    document.getElementById("inline_scratch").style.right = "100%"
    localStorage.panel_w = "100%"
  }

  var panel = document.getElementById("main_wrapper");
  panel.addEventListener("mousedown", function(e){
    if (e.offsetX < BORDER_SIZE) {
      m_pos = e.x;
      document.addEventListener("mousemove", resize, false);
    }
  }, false);
  
  var panel_l = document.getElementById("inline_scratch");
  document.addEventListener("mouseup", function(){
      document.removeEventListener("mousemove", resize, false);
  }, false);

  // Save text to localStorage on change
  document.getElementById('scratch_pad').addEventListener('input', function() {
    localStorage.setItem('scratch_pad', this.value);
    current_text = this.value;
  });

});

//
// Construct, submit, and handel prompts
//

function choose_prompt(choice) {

  calls+=1;
  console.log("Choosing template: "+choice)
  console.log("Runs w/o interaction: "+calls)

  if (calls>=20) {
    if (confirm(`Are you in a loop? You've made 20 prompt calls without human interaction. Choose "OK" to continue or "Cancel" to stop here.`) == true) {
      calls = 0;
    } else {
      insert_restart();
    }
  }

  if (calls<20) {

    output_type = templates[choice]["output"]
    template = templates[choice]["prompt"];
    model = templates[choice]["model"];
    max_tokens = templates[choice]["max_tokens"]; // How long the answer should be 
    temperature = templates[choice]["temperature"]; // How free-ranging the reply is 0-1 
    json_mode = templates[choice]["json_mode"];
    output_to = templates[choice]["output_to"];
    behavior = templates[choice]["behavior"];

    llm_prompt = template

    // remove comments
    llm_prompt = llm_prompt.replace(/\[\#[\s\S]*?\#\]/g, "");

    if (llm_prompt){
      abandon_prompt = 0;
      // Place selected text into template
      if (selectedText=="" && template.match(/{{highlighted}}/g)) {
        console.log("Unable to find highlighted/selected text for this page.");
        if (confirm('Unable to find highlighted/selected text for this page. Choose "OK" to continue with an empty value or "Cancel" to stop this template.') == true) {
          llm_prompt = llm_prompt.replace(/{{highlighted}}/g, ""); 
          llm_prompt = llm_prompt.replace(/{{nSelectedWords}}/g, 0); 
        } else {
          abandon_prompt = 1;
        }
      } else {
        if (selectedText.length>0) {
          llm_prompt = llm_prompt.replace(/{{highlighted}}/g, selectedText.replace(/({|})/g, "\\$1")); 
          try {
            llm_prompt = llm_prompt.replace(/{{nSelectedWords}}/g, selectedText.match(/\b(\w+)\b/g).length);             
          } catch (error) {
            llm_prompt = llm_prompt.replace(/{{nSelectedWords}}/g, "unknown");    
          }
        } else {
          llm_prompt = llm_prompt.replace(/{{highlighted}}/g, ""); 

          llm_prompt = llm_prompt.replace(/{{nSelectedWords}}/g, 0); 
        }
      }

      if (abandon_prompt == 0) {
        // Place page text into template
        if (bodyText=="" && template.match(/{{innerText}}/g)) {
          console.log("Unable to parse innerText for this page.");
          if (confirm('Unable to parse innerText for this page. Choose "OK" to continue with an empty value or "Cancel" to stop this prompt.') == true) {
            llm_prompt = llm_prompt.replace(/{{innerText}}/g, "");
            llm_prompt = llm_prompt.replace(/{{nWordsOnPage}}/g, 0);
          } else {
            abandon_prompt = 1;
          }
        } else {
          if (bodyText.length>0) {
            llm_prompt = llm_prompt.replace(/{{innerText}}/g, bodyText.replace(/({|})/g, "\\$1"));
            try {
              llm_prompt = llm_prompt.replace(/{{nWordsOnPage}}/g, bodyText.match(/\b(\w+)\b/g).length);              
            } catch (error) {
              llm_prompt = llm_prompt.replace(/{{nWordsOnPage}}/g, "unknown");       
            }
          } else {
            llm_prompt = llm_prompt.replace(/{{innerText}}/g, "");
            llm_prompt = llm_prompt.replace(/{{nWordsOnPage}}/g, 0);
          }
        }
      }

    } else {
      alert(`Can't read prompt. `)
      abandon_prompt = 1;

    }

    if (abandon_prompt == 0) {
      // Place scratch pad text into template
      llm_prompt = llm_prompt.replace(/{{scratch}}/g, localStorage.getItem('scratch_pad'));
      try {
        console.log("Attempting to parse Scratch Pad for JSON...")
        scratch = JSON.parse(localStorage.getItem('scratch_pad').trim());
      } catch (error) {
        console.log("Scratch Pad isn't JSON.")
      }
      var scratchjson = llm_prompt.match(/{{scratch\["[a-zA-Z_-]+"\]}}/g);
      // Loop through each variable and present it as a question
      if (scratchjson) {
        console.log("Checking scratch...");
        for (item of scratchjson) {
            key = [...item.matchAll(/{{scratch\["([a-zA-Z_]+)"\]}}/g)][0][1];
            console.log(" - scratch[\""+key+"\"]="+scratch[key]);
            llm_prompt = llm_prompt.replace("{{scratch[\""+key+"\"]}}", scratch[key]);  
        }
      }
      
      if (passThrough.constructor === ({}).constructor) {
        llm_prompt = llm_prompt.replace(/{{passThrough}}/g, JSON.stringify(passThrough));
      } else {
        llm_prompt = llm_prompt.replace(/{{passThrough}}/g, passThrough);
      }
      var passThroughjson = llm_prompt.match(/{{passThrough\["[a-zA-Z_-]+"\]}}/g);
      // Loop through each variable and present it as a question
      if (passThroughjson) {
        console.log("Checking passThrough...");
        for (item of passThroughjson) {
            key = [...item.matchAll(/{{passThrough\["([a-zA-Z_]+)"\]}}/g)][0][1];
            console.log(" - passThrough[\""+key+"\"]="+passThrough[key]);
            llm_prompt = llm_prompt.replace("{{passThrough[\""+key+"\"]}}", passThrough[key]);  
        }
      }

      // ------------------------------------------------------
      // Add predefined variables to the the template
      // ------------------------------------------------------
    
      // Coin
      flip = Math.floor(Math.random() * 2)
      flip_out = ["heads","tails"]
      llm_prompt = llm_prompt.replace(/{{coinFlip}}/g,flip_out[flip]);
      // Dice 
      roll = Math.floor(Math.random() * 4) + 1
      llm_prompt = llm_prompt.replace(/{{d4}}/g,roll);
      roll = Math.floor(Math.random() * 6) + 1
      llm_prompt = llm_prompt.replace(/{{d6}}/g,roll);
      roll = Math.floor(Math.random() * 8) + 1
      llm_prompt = llm_prompt.replace(/{{d8}}/g,roll);
      roll = Math.floor(Math.random() * 10)
      llm_prompt = llm_prompt.replace(/{{d%}}/g,roll);
      roll = Math.floor(Math.random() * 12) + 1
      llm_prompt = llm_prompt.replace(/{{d12}}/g,roll);
      roll = Math.floor(Math.random() * 20) + 1
      llm_prompt = llm_prompt.replace(/{{d20}}/g,roll);

      // Dates 
      const d = new Date();
      const day_list = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];
      llm_prompt = llm_prompt.replace(/{{dayOfWeek}}/g, d.getDay()); // number
      llm_prompt = llm_prompt.replace(/{{DayOfWeek}}/g, day_list[d.getDay()]); // english
      const month_list = ["January","February","March","April","May","June","July","August","September","October","November","December"];
      llm_prompt = llm_prompt.replace(/{{month}}/g, d.getMonth()); // number
      llm_prompt = llm_prompt.replace(/{{month2d}}/g, ('0'  + d.getMonth()).slice(-2)); // number
      llm_prompt = llm_prompt.replace(/{{Month}}/g, month_list[d.getMonth()]); // english
      llm_prompt = llm_prompt.replace(/{{day}}/g, d.getDate()); // day of month
      llm_prompt = llm_prompt.replace(/{{day2d}}/g, ('0'  + d.getDate()).slice(-2)); // day of month
      llm_prompt = llm_prompt.replace(/{{year}}/g, d.getFullYear()); // YEAR
      llm_prompt = llm_prompt.replace(/{{hours24}}/g, d.getHours()); // hours (out of 24)
      llm_prompt = llm_prompt.replace(/{{hours242d}}/g, ('0'  + d.getHours()).slice(-2)); // hours (out of 24)
      llm_prompt = llm_prompt.replace(/{{hours}}/g, (d.getHours() % 12 || 12)); // hours (out of 12)
      llm_prompt = llm_prompt.replace(/{{hours2d}}/g, ('0'  + (d.getHours() % 12 || 12)).slice(-2)); // hours (out of 12)
      llm_prompt = llm_prompt.replace(/{{ampm}}/g, d.getHours() >= 12 ? 'pm' : 'am');
      llm_prompt = llm_prompt.replace(/{{minutes}}/g, d.getMinutes());
      llm_prompt = llm_prompt.replace(/{{minutes2d}}/g, ('0'  + d.getMinutes()).slice(-2));
      llm_prompt = llm_prompt.replace(/{{seconds}}/g, d.getSeconds());
      llm_prompt = llm_prompt.replace(/{{seconds2d}}/g, ('0'  + d.getSeconds()).slice(-2));

      if (llm_prompt.trim()=="") {
        alert(`Error: Empty prompt. `)
        abandon_prompt = 1;
      } else {
        build_prompt();
      }
      
    }
  }

}

function scroll2Q(id) {
  document.getElementById('save_transcript').style.display='block';

  if (bubble>0) {
    var top = document.getElementById(id).offsetTop; //Getting Y of target element
    console.log("Jump to Y for ("+id+"): "+top);
    //adapted from https://github.com/Yappli/smooth-scroll
    moving_frequency = 0.75
    var getScrollTopDocumentAtBegin = document.documentElement.scrollTop + document.body.scrollTop;
    console.log("Y:",top,getScrollTopDocumentAtBegin)
    var hop_count = Math.round((top - getScrollTopDocumentAtBegin)/moving_frequency)
    var gap = (top - getScrollTopDocumentAtBegin) / hop_count;
    for(var i = 1; i <= hop_count; i++)
        {
          (function()
            {
              var hop_top_position = gap*i;
                setTimeout(function(){  window.scrollTo(0, hop_top_position + getScrollTopDocumentAtBegin); }, moving_frequency*i);
              })();
        }
  }
}

function build_prompt() {
  console.log("Building prompt...");
  LLM_text_collection = "";
      
  // Make a list of all other variables (i.e. text of the form {{variable}}). 
  var questions = llm_prompt.match(/{{[^}]+}}/g)

  console.log("Questions:",questions)
  document.getElementById('button_list').style.display='none';
  document.getElementById('transcript').style.display='block';

  // Loop through each variable and present it as a question
  if (questions) {
    for (question of questions) {
      last_question = question;
      if ((!question_arry[question]) || (question.match(/\*}}$/))) {
        question_ = question.replace(/\*}}$/,"}}")
        question_ = question_.replace(/{|}/g,"");
        if (document.getElementById('thinking_box').style.display=="block") {
          setTimeout(() => {
            document.getElementById('thinking_box').style.display='none';
            document.getElementById('text_input').style.display='block';
            document.getElementById('user_input').focus();
            bubble+=1;
            document.getElementById('output_window').innerHTML += "<div class='text_wrap' id='text_"+bubble+"'><div class='output_text'>"+question_+"</div></div>";
            scroll2Q("text_"+bubble);
            document.getElementById("user_input").addEventListener("keydown", submitOnEnter);
          }, 300);        
        } else {
          document.getElementById('thinking_box').style.display='none';
          document.getElementById('text_input').style.display='block';
          document.getElementById('user_input').focus();
          bubble+=1;
          document.getElementById('output_window').innerHTML += "<div class='text_wrap' id='text_"+bubble+"'><div class='output_text'>"+question_+"</div></div>";
          scroll2Q("text_"+bubble);
          document.getElementById("user_input").addEventListener("keydown", submitOnEnter);
        }
        break
      } else {
        llm_prompt = llm_prompt.replaceAll(last_question,question_arry[last_question]);
        build_prompt(0);
        break
      }
    }
  } else {

    document.getElementById('thinking_box').style.display='block';

    // Count the words in the prompt
    words = llm_prompt.match(/\b(\w+)\b/g).length;
    characters = llm_prompt.length;
    token_est = Math.round(words*1.75)

    console.log("Words in prompt: "+words+" (~"+token_est+" tokens)\nMODEL: "+model+"\nPROMPT:\n\n"+llm_prompt)

    if (output_type==1) {
      console.log("Mode: Calling LLM")
      openai_call(llm_prompt)
    } else {
      console.log("Mode: Prompt only")
      after_build(llm_prompt)
    }
    
  }
}

function submit_text() {
  
  answer =  document.getElementById('user_input').value;
  if (answer.length>0) {
    console.log("Sending text...")
    calls=0;
    document.getElementById('text_input').style.display='none'
    document.getElementById('thinking_box').style.display='block';
    bubble+=1;
    document.getElementById('output_window').innerHTML += "<div class='text_wrap' id='text_"+bubble+"'><div class='input_text'>"+answer+"</div></div>";
    scroll2Q("text_"+bubble);
    llm_prompt = llm_prompt.replaceAll(last_question, answer);
    question_arry[last_question] = answer;
    console.log("Q: "+question_+"\nA: "+answer);
    document.getElementById('user_input').value = "";
    build_prompt(0);  
  } else {
    alert("You cannot leave this input blank.");
    document.getElementById('user_input').focus();
  }
}

function saveAPICred() {
  localStorage.setItem("api_base",document.getElementById('api_base').value)
  localStorage.setItem("api_key",document.getElementById('api_key').value)
  document.getElementById('credentials').style.display='none';
  document.getElementById('output_window').innerHTML += "<div class='msg_text'>credentials saved</div>";
  insert_restart();
}

function saveOnEnter(event) {
  if (event.which === 13) {
      if (!event.repeat) {
        saveAPICred()
      }
      event.preventDefault(); // Prevents the addition of a new line in the text field
  }
}

function submitOnEnter(event) {
  if (!event.shiftKey && event.which === 13) {
      if (!event.repeat) {
        submit_text();
      }
      event.preventDefault(); // Prevents the addition of a new line in the text field
  }
}

function submit_chat_text() {
  answer =  document.getElementById('chat_user_input').value;
  if (answer.length>0) {
    console.log("Sending text...")
    calls=0;
    document.getElementById('chat_text_input').style.display='none'
    document.getElementById('thinking_box').style.display='block';
    bubble+=1;
    document.getElementById('output_window').innerHTML += "<div class='text_wrap' id='text_"+bubble+"'><div class='input_text'>"+answer+"</div></div>";
    scroll2Q("text_"+bubble);
    document.getElementById('chat_user_input').value = "";
    openai_call(answer)  
  } else {
    alert("You cannot leave this input blank.");
    document.getElementById('user_input').focus();
  }
}

function submitChatOnEnter(event) {
  if (!event.shiftKey && event.which === 13) {
      if (!event.repeat) {
        submit_chat_text();
      }
      event.preventDefault(); // Prevents the addition of a new line in the text field
  }
}

function submit_continue() {
  console.log("Sending continue request...")
  calls=0;
  document.getElementById('continue_gen').style.display='none';
  document.getElementById('thinking_box').style.display='block';
  openai_call("You got cutoff. Pickup where you left off and continue.")  
}

async function openai_call(prompt_text) {

  var xhr = new XMLHttpRequest();
  xhr.open("POST", api_base);

  xhr.setRequestHeader("Content-Type", "application/json");
  xhr.setRequestHeader("Authorization", "Bearer "+api_key);

  xhr.onreadystatechange = function () {
     if (xhr.readyState === 4) {
      try {
        console.log(xhr.responseText);
        LLM_text = JSON.parse(xhr.responseText)["choices"][0]["message"]["content"];
        llm_messages.push({"role": "assistant", "content": LLM_text})
        after_build(LLM_text, JSON.parse(xhr.responseText)["choices"][0]["finish_reason"]);
      } catch (error) {
        llm_messages.pop();
        try {
          if (JSON.parse(xhr.responseText)["error"]["code"]=="context_length_exceeded") {
            est_token_limit = [...JSON.parse(xhr.responseText)["error"]["message"].matchAll(/\d+/g)]
            keep_n = Math.floor((est_token_limit[0] - max_tokens)/2);
            if (llm_messages.length==0) {
              console.log("ERROR: The prompt and its expected reply exceeds the token limit for this model.");
              LLM_text = "ERROR: The prompt and its expected reply exceeds the token limit for this model."
              output_to=0;
              behavior="stop"
              after_build(LLM_text)

            } else {
              console.log("ERROR: Over the course of this chat, you have reached the token limit for this model.");
              LLM_text = "ERROR: Over the course of this chat, you have reached the token limit for this model."
              output_to=0;
              behavior="stop"
              after_build(LLM_text)

            }
          } else if ((output_type==1) & (json_mode==1) & (JSON.parse(xhr.responseText)["error"]["message"].includes("response_format"))) {
            console.log("Removing json flag, trying again...")
            json_mode = 2;
            openai_call(prompt_text);
          } else {
            LLM_text = `There was an ERROR calling the LLM. Make sure you are using a valid endpoint and API Key. The credentials may have expired, or the model used by this tools' author my have been retired.`
            output_to=0;
            behavior="stop"
            //LLM_text += "\n"+error            
            after_build(LLM_text);
            document.getElementById('restartButton').style.display='none';
            document.getElementById('credentials').style.display='block';
            document.getElementById('api_base').value = localStorage.api_base || "https://api.openai.com/v1/chat/completions";
            document.getElementById('api_key').value = localStorage.api_key || "";
            document.getElementById('api_key').focus();
          }            
        } catch (error) {
          LLM_text = `There was an ERROR calling the LLM. Make sure you are using a valid endpoint and API Key. The credentials may have expired, or the model used by this tools' author my have been retired.`
          output_to=0;
          behavior="stop"
          //LLM_text += "\n"+error            
          after_build(LLM_text)
          document.getElementById('restartButton').style.display='none';
          document.getElementById('credentials').style.display='block';
          document.getElementById('api_base').value = localStorage.api_base || "https://api.openai.com/v1/chat/completions";
          document.getElementById('api_key').value = localStorage.api_key || "";
          document.getElementById('api_key').focus();
      }
      }
    }};

    if (behavior!="chat") { 
      llm_messages = []  
    }

    llm_messages.push({"role": "user", "content": prompt_text})
    var data = {
              "model": model, 
              "messages": llm_messages,
              "temperature": temperature,
              "max_tokens": max_tokens
            };

  if (json_mode==1) {
    console.log("Attempting JSON mode");
    data["response_format"]={ "type": "json_object" }  
  }

  console.log(data);

  return xhr.send(JSON.stringify(data));    
  
}


function accountForHTML(str) {
  return String(str).replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/"/g, '&quot;');
}

function insert_restart(){
  document.getElementById('restartButton').style.display='block';
  document.getElementById("restartButton").focus(); 
}

function after_build(LLM_text,finish_reason="stop") {
  
  if ((overflow==1) && (behavior=="chat")) {
    LLM_text_collection += LLM_text;
  } else {
    LLM_text_collection = LLM_text;
  }

  // add line breaks for screen output
  LLM_text_formatted = accountForHTML(LLM_text);
  LLM_text_formatted = LLM_text_formatted.replaceAll(/```([^`]*)```\n?/g, "<pre class='code_wrapper'><code>$1</code></pre>");
  LLM_text_formatted = LLM_text_formatted.replaceAll(/`([^`]*)`/g, "<code>$1</code>");
  LLM_text_formatted = LLM_text_formatted.trim();
  document.getElementById('thinking_box').style.display='none';

  // If not hidden
  if (output_to<4) {
    bubble+=1;
    document.getElementById('output_window').innerHTML += "<div class='text_wrap' id='text_"+bubble+"'><div class='output_text' style='white-space: pre-wrap;'>"+LLM_text_formatted+"</div></div>";
    scroll2Q("text_"+bubble);
  }

  // Check on json formatting
  if (json_mode>=1) {
    console.log("Attempting to parse JSON...")
    try {
      passThrough = JSON.parse(LLM_text_collection.trim());
      LLM_text_collection = JSON.stringify(passThrough, null, 2);        
    } catch (error) {
      alert("Warning: Output isn't JSON. Leaving as is! This may cause issues.")
      passThrough = LLM_text_collection;     
    }
  } else {
    passThrough = LLM_text_collection;
  }

  output_words = LLM_text_collection.match(/\b(\w+)\b/g).length;
  output_characters = LLM_text_collection.length;

  // Output location
  if (output_to==1) {
    document.getElementById('output_window').innerHTML += "<div class='msg_text'>above output copied to clipboard (~"+output_words.toLocaleString()+" words / ~"+output_characters.toLocaleString()+" characters)</div>";
    copy_to_clipboard(LLM_text_collection);
  } else if (output_to==2) {
    document.getElementById('scratch_pad').value += LLM_text_collection;
    document.getElementById('output_window').innerHTML += "<div class='msg_text'>above output appended to scratch pad (~"+output_words.toLocaleString()+" words / ~"+output_characters.toLocaleString()+" characters)</div>";
    localStorage.setItem('scratch_pad', localStorage.getItem('scratch_pad')+LLM_text); // used LLM_text, not LLM_text_collection because will have already been appended
  } else if (output_to==3) {
    document.getElementById('scratch_pad').value = LLM_text_collection;
    document.getElementById('output_window').innerHTML += "<div class='msg_text'>above output replaced scratch pad (~"+output_words.toLocaleString()+" words / ~"+output_characters.toLocaleString()+" characters)</div>";
    localStorage.setItem('scratch_pad', LLM_text_collection);
  } else if (output_to==5) {
    //document.getElementById('output_window').innerHTML += "<div class='msg_text'>above output copied to clipboard</div>";
    copy_to_clipboard(LLM_text_collection);
  } else if (output_to==6) {
    document.getElementById('scratch_pad').value += LLM_text_collection;
    //document.getElementById('output_window').innerHTML += "<div class='msg_text'>above output appended to scratch pad</div>";
    localStorage.setItem('scratch_pad', localStorage.getItem('scratch_pad')+LLM_text); // used LLM_text, not LLM_text_collection because will have already been appended
  } else if (output_to==7) {
    document.getElementById('scratch_pad').value = LLM_text_collection;
    //document.getElementById('output_window').innerHTML += "<div class='msg_text'>above output replaced scratch pad</div>";
    localStorage.setItem('scratch_pad', LLM_text_collection);
  } 
  
  // Behavior

  overflow=0;

  if ((finish_reason=="length") && (behavior=="chat")) {
    overflow=1;
    document.getElementById('continue_gen').style.display='block';
    calls=0;
    scroll2Q("text_"+bubble); 

  } else if (behavior=="stop") {
    // End
    //document.getElementById('output_window').innerHTML += "<div class='msg_text'>end</div>";
    calls=0;
    insert_restart();
    scroll2Q("text_"+bubble); 

  } else if (behavior=="chat") {
    // Continue chat
    //document.getElementById('output_window').innerHTML += "<div class='msg_text'>engage with the above</div>";
    document.getElementById('chat_text_input').style.display='block';
    document.getElementById('chat_user_input').focus();
    calls=0;
    scroll2Q("text_"+bubble); 

  } else if (behavior=="file") {
    // Save to file
    document.getElementById('output_window').innerHTML += "<div class='msg_text'>triggered save to file</div>";
    calls=0;
    insert_restart();
    scroll2Q("text_"+bubble); 
    saveTextAsFile(LLM_text_collection,"output.txt")

  } else if (behavior=="pass") {
    // passThrough
    if (passThrough["next"]){
      try {
        choose_prompt(passThrough["next"])        
      } catch (error) {
        alert('No matching prompt found for "'+passThrough["next"]+'." Defaulting to FULL STOP')
        //document.getElementById('output_window').innerHTML += "<div class='msg_text'>end</div>";          
        calls=0;
        insert_restart();
        scroll2Q("text_"+bubble); 
      }
    } else {
      alert('No value found for passThrough["next"] defaulting to FULL STOP')
      //document.getElementById('output_window').innerHTML += "<div class='msg_text'>end</div>";
      calls=0;
      insert_restart();
      scroll2Q("text_"+bubble); 
    }

  } else {
    // Run another prompt
    choose_prompt(behavior)

  }

}


// Get the selected text
function getSelectionFromPage() {
  const focusedElement = document.activeElement;

  if (focusedElement) {
    if (focusedElement.tagName.toLowerCase() === 'textarea' || focusedElement.tagName.toLowerCase() === 'input') {
      if (typeof focusedElement.selectionStart === 'number' && typeof focusedElement.selectionEnd === 'number') {
        selectedText = focusedElement.value.substring(focusedElement.selectionStart, focusedElement.selectionEnd);
      } else if (focusedElement.selectionStart === undefined) {
        // For input elements in some browsers like Firefox
        const selection = focusedElement.value.substring(
          focusedElement.selectionStart, focusedElement.selectionEnd
        );
        if (selection) {
          selectedText = selection;
        }
      }
    }
  }
  let body_text = document.getElementById('scratch_pad').value;

  try {
    let run_location = window.location.toString();    
  } catch (error) {
    let run_location = "location unknown";
  }

  console.log(selectedText,body_text,run_location)

  return [selectedText,body_text,run_location]
}

document.addEventListener('DOMContentLoaded', function () {
  templates = JSON.parse(localStorage.templates)
  const buttonList = document.getElementById('button_list');

  //templates.forEach(function(item, index) {
  for (const [key, value] of Object.entries(templates)) {

    if (templates[key]["hide_button"]==false) {
      // Create button element
      const button = document.createElement('button');
      button.textContent = key; // Set button text
      button.id = `template_`+key.replace(/[^a-zA-Z]/g,"_"); // Set button id
      button.dataset.choice = key; // Set data-choice attribute
      button.style.width = '100%'; // Set styles
      button.style.marginBottom = '5px';

      // Add event listener to button
      button.addEventListener('mousedown', function() {
        text_arry = getSelectionFromPage(); selectedText = text_arry[0]; bodyText = text_arry[1];
      });
      button.addEventListener('click', function() {
        choose_prompt(this.dataset.choice); // 'this' refers to the button clicked
      });

      // Append button to button list in DOM
      buttonList.appendChild(button);
    }

  };

  start_spinner('thinking');

});

window.onbeforeunload = function () {
  window.scrollTo(0, 0);
}

document.addEventListener('DOMContentLoaded', function() {
        
  var open_scratch = document.getElementById('open_scratch');
  document.getElementById('open_scratch').addEventListener('click', function() {
      if (confirm('This will replace the current scratch pad contents with the file you upload. Choose "OK" to continue or "Cancel" to keep things as they are.') == true) {
          document.getElementById('fileInput').click(); // Trigger file input
      }
  });
  document.getElementById('fileInput').addEventListener('change', function(event) {
      const file = event.target.files[0];
      if (!file) {
          return;
      }

      const reader = new FileReader();
      reader.onload = function(e) {
          const contents = e.target.result;
          try {
              document.getElementById('scratch_pad').value = contents
              localStorage.setItem('scratch_pad', contents);
              //const json = JSON.parse(contents);
              //updatePromptsFromJson(json); // Function to update prompts
          } catch (error) {
              console.error("Error reading file: ", error);
              // Handle errors (invalid file, etc.)
          }
      };
      reader.readAsText(file);
  });

  var save_scratch = document.getElementById('save_scratch');
  save_scratch.addEventListener('click', function() {
      saveTextAsFile(document.getElementById('scratch_pad').value,"scratch_pad.txt")
  });

});
</script>
<style>
	* {
		box-sizing: border-box;
	}

	input:focus, textarea {
		outline: none;
	}
	
	body {
		font-family: Söhne,ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,sans-serif,Helvetica Neue,Arial,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;
		box-sizing: border-box;
	}


	#send {
		float:left;
		width:75%;
		margin: 5px 0 0px 0;
	}

	#chat_send {
		float:left;
		width:75%;
		margin: 5px 0 0px 0;
	}

	#restartButton_companion {
		float:right;
		width:24%;
		margin: 5px 0 10px 0;
	}

	#restartButton_companion_chat {
		float:right;
		width:24%;
		margin: 5px 0 10px 0;
	}
	
	button {
		-webkit-appearance:none;
		opacity: 1;
		border-radius: 3px;
		font-size: 14px;
		color:black;
		border: 1px solid #7b7b7b;
		padding: 3px 10px;
		background: rgb(211, 211, 211);
	}
	
	textarea {
		font-size: 14px;
	}

	#scratch_pad {
		box-sizing: border-box;
		width:100%;
		height:100%;
		padding:20px;
		border:0px solid #ccc;
		resize: none;
		overflow-y: auto;
	}

	.text_wrap{
		float:left;
		width:100%;
		margin:0;
		padding:0;
	}

	.input_text {
		float:right;
		font-size: 15px;
		line-height: 20px;
		margin: 0px 5px 15px 0;
		max-width:100%;
		margin-left:20%;
		background:#eee;
		border-radius:8px;
		padding:15px;
	}

	.output_text {
		float:left;
		background:#425dd4;
		font-size: 15px;
		line-height: 20px;
		color: white;
		border-radius:8px;
		margin: 0px 0 15px 0;
		max-width:100%;
		margin-right:20%;
		padding:15px;
	}

	code {
		background:#2c3e8e;
	}

	.code_wrapper {
		padding:3px;
		margin: 0px;
		width:100%;
		overflow-x: auto;
		background:#2c3e8e;
	}

	.msg_text {
		float:left;
		font-family: Verdana, Geneva, sans-serif;
		font-variant: small-caps;
		width:100%;
		text-align: center;
		font-size: 14px;
		color:#7d7878;
		margin:0 0 15px 0;
	}

	/* -- the below is needed for interactions -- */

	#button_list {
		min-height:150px;
		margin-bottom: 3px;
	}

	#thinking_box{
		float:left;
		width:100%;
		display:none;
	}

	#thinking {
		width:43px;
		height:75px;
		margin:0 auto;
	}

	#user_input{
		width:100%;
		height:50px;
	}

	#chat_user_input{
		width:100%;
		height:50px;
	}

	#continue_gen {
		float:left;
		width:100%;
		margin: 0px 0 10px 0;
	}

	#continueButton{
		width:100%;
	}

	#credentials {
		float:left;
		width:100%;
		margin: 0px 0 10px 0;
	}

	#credentials_table{
		width:100%;
		margin: 0 0 5px 0;
	}

	#credentialsButton{
		width:100%;
	}

	#restartButton{
		display:none;
		width:100%;
		margin: 0 0 10px 0;
	}

	#save_transcript{
		display:none;
		float:left;
		font-family: Verdana, Geneva, sans-serif;
		font-variant: small-caps;
		width:100%;
		text-align: center;
		font-size: 14px;
		color:#7d7878;
		margin:0 0 15px 0;
	}

	/*-- The below differes between export and non --*/

	.custom_header{
		margin: 0 0 10px 0;
	}

	#inline_scratch {
		display:none;
	}

	#main_wrapper{
		max-width:650px;
		margin: 0px auto;
	}

	#inner_wrapper{
		height:100%;
		width:100%;
		padding: 0;
	}

	.footer {
		display:none;
	}
</style>
</head>
<body>
  <div id="inline_scratch">
    <div class="file_menu">
      <a href="#" id="open_scratch" class="files">Open</a>  
      <input type="file" id="fileInput" style="display: none;"/>
      <a href="#" id="save_scratch" class="files">Save</a>   
    </div>
    <div class="scratch_frame">
      <textarea id="scratch_pad" placeholder="This space holds text for use with the prompt interactions found to the right."></textarea>
    </div>
  </div> 
  <div id="main_wrapper">
    <div id="inner_wrapper">
      <!--
        START CUSTOM CONTENT
      -->
      <div class="custom_header"><h1>Andersen v. Stability AI</h1>
<p><i>If you're attending <a href="https://2025.calicon.org/sessions/law-rpg-beginners-session">CALICon2025</a>, I suggest focusing on Distill &amp; Question to get up to speed. However, I've framed things as I would for a weekly class assignment to help provide context. Hopefully what's there will inspire you to explore a bit more after the conference. <a href="../../">Back to helper</a></i></p>
<p>
Use one (or more) of the case-aware workflows below to engage with this week's case materials: (1) the <a href="https://lawrpg.org/2024/ai-and-the-law/cases/andersen/andersen-complaint.pdf" target="_blank">complaint</a>; and (2) the <a href="https://lawrpg.org/2024/ai-and-the-law/cases/andersen/andersen-motion_to_dismiss_from_stability_ai.pdf" target="_blank">motion to dismiss</a>.  You may also want to "look into the future" by browsing <a href="https://www.courtlistener.com/docket/66732129/andersen-v-stability-ai-ltd/" target="_blank">the docket</a>.
</p>
<p>
If you choose Socrates or Moot, you'll want to read through them first, and if you use Distill & Question, you'll need to read them afterward. Every student has to turn in a transcript for at least one case interaction. If you've been assigned as an attorney to this case, you must turn in a transcript of your MOOT. 
</p>
<p>
Additionally, every student must turn in a transcript of their Weekly Reflection.
</p>
<hr></div>
      <!--
        END CUSTOM CONTENT
      -->
      <div id="button_list"></div>
      <div id="transcript" style="display:none;">
        <div id="output_window"></div>
      </div>
      <div id="thinking_box">
        <div id="thinking"></div>
      </div>
      <div id="text_input" style="display:none;">
        <textarea id="user_input"></textarea>
        <button id="send">Send</button>
        <button id="restartButton_companion">Restart</button>
      </div>
      <div id="chat_text_input" style="display:none;">
        <textarea id="chat_user_input"></textarea>
        <button id="chat_send" >Send</button>
        <button id="restartButton_companion_chat">Restart</button>
      </div>
      <div id="continue_gen" style="display:none;">
        <button id='continueButton'>Continue text generation</button>
      </div>
      <a href="#" id="save_transcript">save transcript</a>
      <button id="restartButton">Restart</button>
      <div id="credentials" style="display:none;">
        <table id="credentials_table">
          <tr><td>API&nbsp;Base:&nbsp;</td><td width="100%"><input id="api_base" style="width:100%"></td></tr>
          <tr><td>API&nbsp;Key:&nbsp;</td><td width="100%"><input id="api_key" style="width:100%"></td></tr>
        </table>        
        <button id='credentialsButton'>Update/Save Credentials</button>
      </div>
      <div id="choices" style="display:none;">
        <select id="toPrompt" style="width:100%;margin:5px 0 8px 0;text-align:center;">
          <option value="">Pass output to prompt (choose one)</option>
        </select>
      </div>
    </div>
  </div>
  <div class="footer">
    <button id="config">Templates &amp; Settings</button>
    <button id="scratch">Scratch Pad</button>
    <span style="float:right">
      <button id="about">About</button>
      <button id="feedback">Feedback</button>
    </span>
  </div>
</body>
</html>